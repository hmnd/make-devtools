(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["forman"] = factory();
	else
		root["forman"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@webcomponents/custom-elements/custom-elements.min.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@webcomponents/custom-elements/custom-elements.min.js ***!
  \****************************************************************************/
/***/ (() => {

(function(){
/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 Google as part of the polymer project is also subject to an additional IP
 rights grant found at http://polymer.github.io/PATENTS.txt
*/
'use strict';var n=window.Document.prototype.createElement,p=window.Document.prototype.createElementNS,aa=window.Document.prototype.importNode,ba=window.Document.prototype.prepend,ca=window.Document.prototype.append,da=window.DocumentFragment.prototype.prepend,ea=window.DocumentFragment.prototype.append,q=window.Node.prototype.cloneNode,r=window.Node.prototype.appendChild,t=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,v=window.Node.prototype.replaceChild,w=Object.getOwnPropertyDescriptor(window.Node.prototype,
"textContent"),y=window.Element.prototype.attachShadow,z=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),A=window.Element.prototype.getAttribute,B=window.Element.prototype.setAttribute,C=window.Element.prototype.removeAttribute,D=window.Element.prototype.toggleAttribute,E=window.Element.prototype.getAttributeNS,F=window.Element.prototype.setAttributeNS,G=window.Element.prototype.removeAttributeNS,H=window.Element.prototype.insertAdjacentElement,fa=window.Element.prototype.insertAdjacentHTML,
ha=window.Element.prototype.prepend,ia=window.Element.prototype.append,ja=window.Element.prototype.before,ka=window.Element.prototype.after,la=window.Element.prototype.replaceWith,ma=window.Element.prototype.remove,na=window.HTMLElement,I=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),oa=window.HTMLElement.prototype.insertAdjacentElement,pa=window.HTMLElement.prototype.insertAdjacentHTML;var qa=new Set;"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(a){return qa.add(a)});function ra(a){var b=qa.has(a);a=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(a);return!b&&a}var sa=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);
function J(a){var b=a.isConnected;if(void 0!==b)return b;if(sa(a))return!0;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||a instanceof Document))}function K(a){var b=a.children;if(b)return Array.prototype.slice.call(b);b=[];for(a=a.firstChild;a;a=a.nextSibling)a.nodeType===Node.ELEMENT_NODE&&b.push(a);return b}
function L(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}
function M(a,b,d){for(var f=a;f;){if(f.nodeType===Node.ELEMENT_NODE){var c=f;b(c);var e=c.localName;if("link"===e&&"import"===c.getAttribute("rel")){f=c.import;void 0===d&&(d=new Set);if(f instanceof Node&&!d.has(f))for(d.add(f),f=f.firstChild;f;f=f.nextSibling)M(f,b,d);f=L(a,c);continue}else if("template"===e){f=L(a,c);continue}if(c=c.__CE_shadowRoot)for(c=c.firstChild;c;c=c.nextSibling)M(c,b,d)}f=f.firstChild?f.firstChild:L(a,f)}};function N(){var a=!(null===O||void 0===O||!O.noDocumentConstructionObserver),b=!(null===O||void 0===O||!O.shadyDomFastWalk);this.m=[];this.g=[];this.j=!1;this.shadyDomFastWalk=b;this.I=!a}function P(a,b,d,f){var c=window.ShadyDOM;if(a.shadyDomFastWalk&&c&&c.inUse){if(b.nodeType===Node.ELEMENT_NODE&&d(b),b.querySelectorAll)for(a=c.nativeMethods.querySelectorAll.call(b,"*"),b=0;b<a.length;b++)d(a[b])}else M(b,d,f)}function ta(a,b){a.j=!0;a.m.push(b)}function ua(a,b){a.j=!0;a.g.push(b)}
function Q(a,b){a.j&&P(a,b,function(d){return R(a,d)})}function R(a,b){if(a.j&&!b.__CE_patched){b.__CE_patched=!0;for(var d=0;d<a.m.length;d++)a.m[d](b);for(d=0;d<a.g.length;d++)a.g[d](b)}}function S(a,b){var d=[];P(a,b,function(c){return d.push(c)});for(b=0;b<d.length;b++){var f=d[b];1===f.__CE_state?a.connectedCallback(f):T(a,f)}}function U(a,b){var d=[];P(a,b,function(c){return d.push(c)});for(b=0;b<d.length;b++){var f=d[b];1===f.__CE_state&&a.disconnectedCallback(f)}}
function V(a,b,d){d=void 0===d?{}:d;var f=d.J,c=d.upgrade||function(g){return T(a,g)},e=[];P(a,b,function(g){a.j&&R(a,g);if("link"===g.localName&&"import"===g.getAttribute("rel")){var h=g.import;h instanceof Node&&(h.__CE_isImportDocument=!0,h.__CE_registry=document.__CE_registry);h&&"complete"===h.readyState?h.__CE_documentLoadHandled=!0:g.addEventListener("load",function(){var k=g.import;if(!k.__CE_documentLoadHandled){k.__CE_documentLoadHandled=!0;var l=new Set;f&&(f.forEach(function(m){return l.add(m)}),
l.delete(k));V(a,k,{J:l,upgrade:c})}})}else e.push(g)},f);for(b=0;b<e.length;b++)c(e[b])}
function T(a,b){try{var d=b.ownerDocument,f=d.__CE_registry;var c=f&&(d.defaultView||d.__CE_isImportDocument)?W(f,b.localName):void 0;if(c&&void 0===b.__CE_state){c.constructionStack.push(b);try{try{if(new c.constructorFunction!==b)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{c.constructionStack.pop()}}catch(k){throw b.__CE_state=2,k;}b.__CE_state=1;b.__CE_definition=c;if(c.attributeChangedCallback&&b.hasAttributes()){var e=c.observedAttributes;
for(c=0;c<e.length;c++){var g=e[c],h=b.getAttribute(g);null!==h&&a.attributeChangedCallback(b,g,null,h,null)}}J(b)&&a.connectedCallback(b)}}catch(k){X(k)}}N.prototype.connectedCallback=function(a){var b=a.__CE_definition;if(b.connectedCallback)try{b.connectedCallback.call(a)}catch(d){X(d)}};N.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;if(b.disconnectedCallback)try{b.disconnectedCallback.call(a)}catch(d){X(d)}};
N.prototype.attributeChangedCallback=function(a,b,d,f,c){var e=a.__CE_definition;if(e.attributeChangedCallback&&-1<e.observedAttributes.indexOf(b))try{e.attributeChangedCallback.call(a,b,d,f,c)}catch(g){X(g)}};
function va(a,b,d,f){var c=b.__CE_registry;if(c&&(null===f||"http://www.w3.org/1999/xhtml"===f)&&(c=W(c,d)))try{var e=new c.constructorFunction;if(void 0===e.__CE_state||void 0===e.__CE_definition)throw Error("Failed to construct '"+d+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==e.namespaceURI)throw Error("Failed to construct '"+d+"': The constructed element's namespace must be the HTML namespace.");if(e.hasAttributes())throw Error("Failed to construct '"+
d+"': The constructed element must not have any attributes.");if(null!==e.firstChild)throw Error("Failed to construct '"+d+"': The constructed element must not have any children.");if(null!==e.parentNode)throw Error("Failed to construct '"+d+"': The constructed element must not have a parent node.");if(e.ownerDocument!==b)throw Error("Failed to construct '"+d+"': The constructed element's owner document is incorrect.");if(e.localName!==d)throw Error("Failed to construct '"+d+"': The constructed element's local name is incorrect.");
return e}catch(g){return X(g),b=null===f?n.call(b,d):p.call(b,f,d),Object.setPrototypeOf(b,HTMLUnknownElement.prototype),b.__CE_state=2,b.__CE_definition=void 0,R(a,b),b}b=null===f?n.call(b,d):p.call(b,f,d);R(a,b);return b}
function X(a){var b="",d="",f=0,c=0;a instanceof Error?(b=a.message,d=a.sourceURL||a.fileName||"",f=a.line||a.lineNumber||0,c=a.column||a.columnNumber||0):b="Uncaught "+String(a);var e=void 0;void 0===ErrorEvent.prototype.initErrorEvent?e=new ErrorEvent("error",{cancelable:!0,message:b,filename:d,lineno:f,colno:c,error:a}):(e=document.createEvent("ErrorEvent"),e.initErrorEvent("error",!1,!0,b,d,f),e.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})});
void 0===e.error&&Object.defineProperty(e,"error",{configurable:!0,enumerable:!0,get:function(){return a}});window.dispatchEvent(e);e.defaultPrevented||console.error(a)};function wa(){var a=this;this.g=void 0;this.F=new Promise(function(b){a.l=b})}wa.prototype.resolve=function(a){if(this.g)throw Error("Already resolved.");this.g=a;this.l(a)};function xa(a){var b=document;this.l=void 0;this.h=a;this.g=b;V(this.h,this.g);"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function ya(a){a.l&&a.l.disconnect()}xa.prototype.G=function(a){var b=this.g.readyState;"interactive"!==b&&"complete"!==b||ya(this);for(b=0;b<a.length;b++)for(var d=a[b].addedNodes,f=0;f<d.length;f++)V(this.h,d[f])};function Y(a){this.s=new Map;this.u=new Map;this.C=new Map;this.A=!1;this.B=new Map;this.o=function(b){return b()};this.i=!1;this.v=[];this.h=a;this.D=a.I?new xa(a):void 0}Y.prototype.H=function(a,b){var d=this;if(!(b instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");za(this,a);this.s.set(a,b);this.v.push(a);this.i||(this.i=!0,this.o(function(){return Aa(d)}))};
Y.prototype.define=function(a,b){var d=this;if(!(b instanceof Function))throw new TypeError("Custom element constructors must be functions.");za(this,a);Ba(this,a,b);this.v.push(a);this.i||(this.i=!0,this.o(function(){return Aa(d)}))};function za(a,b){if(!ra(b))throw new SyntaxError("The element name '"+b+"' is not valid.");if(W(a,b))throw Error("A custom element with name '"+(b+"' has already been defined."));if(a.A)throw Error("A custom element is already being defined.");}
function Ba(a,b,d){a.A=!0;var f;try{var c=d.prototype;if(!(c instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var e=function(m){var x=c[m];if(void 0!==x&&!(x instanceof Function))throw Error("The '"+m+"' callback must be a function.");return x};var g=e("connectedCallback");var h=e("disconnectedCallback");var k=e("adoptedCallback");var l=(f=e("attributeChangedCallback"))&&d.observedAttributes||[]}catch(m){throw m;}finally{a.A=!1}d={localName:b,
constructorFunction:d,connectedCallback:g,disconnectedCallback:h,adoptedCallback:k,attributeChangedCallback:f,observedAttributes:l,constructionStack:[]};a.u.set(b,d);a.C.set(d.constructorFunction,d);return d}Y.prototype.upgrade=function(a){V(this.h,a)};
function Aa(a){if(!1!==a.i){a.i=!1;for(var b=[],d=a.v,f=new Map,c=0;c<d.length;c++)f.set(d[c],[]);V(a.h,document,{upgrade:function(k){if(void 0===k.__CE_state){var l=k.localName,m=f.get(l);m?m.push(k):a.u.has(l)&&b.push(k)}}});for(c=0;c<b.length;c++)T(a.h,b[c]);for(c=0;c<d.length;c++){for(var e=d[c],g=f.get(e),h=0;h<g.length;h++)T(a.h,g[h]);(e=a.B.get(e))&&e.resolve(void 0)}d.length=0}}Y.prototype.get=function(a){if(a=W(this,a))return a.constructorFunction};
Y.prototype.whenDefined=function(a){if(!ra(a))return Promise.reject(new SyntaxError("'"+a+"' is not a valid custom element name."));var b=this.B.get(a);if(b)return b.F;b=new wa;this.B.set(a,b);var d=this.u.has(a)||this.s.has(a);a=-1===this.v.indexOf(a);d&&a&&b.resolve(void 0);return b.F};Y.prototype.polyfillWrapFlushCallback=function(a){this.D&&ya(this.D);var b=this.o;this.o=function(d){return a(function(){return b(d)})}};
function W(a,b){var d=a.u.get(b);if(d)return d;if(d=a.s.get(b)){a.s.delete(b);try{return Ba(a,b,d())}catch(f){X(f)}}}Y.prototype.define=Y.prototype.define;Y.prototype.upgrade=Y.prototype.upgrade;Y.prototype.get=Y.prototype.get;Y.prototype.whenDefined=Y.prototype.whenDefined;Y.prototype.polyfillDefineLazy=Y.prototype.H;Y.prototype.polyfillWrapFlushCallback=Y.prototype.polyfillWrapFlushCallback;function Z(a,b,d){function f(c){return function(e){for(var g=[],h=0;h<arguments.length;++h)g[h]=arguments[h];h=[];for(var k=[],l=0;l<g.length;l++){var m=g[l];m instanceof Element&&J(m)&&k.push(m);if(m instanceof DocumentFragment)for(m=m.firstChild;m;m=m.nextSibling)h.push(m);else h.push(m)}c.apply(this,g);for(g=0;g<k.length;g++)U(a,k[g]);if(J(this))for(g=0;g<h.length;g++)k=h[g],k instanceof Element&&S(a,k)}}void 0!==d.prepend&&(b.prepend=f(d.prepend));void 0!==d.append&&(b.append=f(d.append))};function Ca(a){Document.prototype.createElement=function(b){return va(a,this,b,null)};Document.prototype.importNode=function(b,d){b=aa.call(this,b,!!d);this.__CE_registry?V(a,b):Q(a,b);return b};Document.prototype.createElementNS=function(b,d){return va(a,this,d,b)};Z(a,Document.prototype,{prepend:ba,append:ca})};function Da(a){function b(f){return function(c){for(var e=[],g=0;g<arguments.length;++g)e[g]=arguments[g];g=[];for(var h=[],k=0;k<e.length;k++){var l=e[k];l instanceof Element&&J(l)&&h.push(l);if(l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)g.push(l);else g.push(l)}f.apply(this,e);for(e=0;e<h.length;e++)U(a,h[e]);if(J(this))for(e=0;e<g.length;e++)h=g[e],h instanceof Element&&S(a,h)}}var d=Element.prototype;void 0!==ja&&(d.before=b(ja));void 0!==ka&&(d.after=b(ka));void 0!==la&&
(d.replaceWith=function(f){for(var c=[],e=0;e<arguments.length;++e)c[e]=arguments[e];e=[];for(var g=[],h=0;h<c.length;h++){var k=c[h];k instanceof Element&&J(k)&&g.push(k);if(k instanceof DocumentFragment)for(k=k.firstChild;k;k=k.nextSibling)e.push(k);else e.push(k)}h=J(this);la.apply(this,c);for(c=0;c<g.length;c++)U(a,g[c]);if(h)for(U(a,this),c=0;c<e.length;c++)g=e[c],g instanceof Element&&S(a,g)});void 0!==ma&&(d.remove=function(){var f=J(this);ma.call(this);f&&U(a,this)})};function Ea(a){function b(c,e){Object.defineProperty(c,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(g){var h=this,k=void 0;J(this)&&(k=[],P(a,this,function(x){x!==h&&k.push(x)}));e.set.call(this,g);if(k)for(var l=0;l<k.length;l++){var m=k[l];1===m.__CE_state&&a.disconnectedCallback(m)}this.ownerDocument.__CE_registry?V(a,this):Q(a,this);return g}})}function d(c,e){c.insertAdjacentElement=function(g,h){var k=J(h);g=e.call(this,g,h);k&&U(a,h);J(g)&&S(a,h);return g}}function f(c,
e){function g(h,k){for(var l=[];h!==k;h=h.nextSibling)l.push(h);for(k=0;k<l.length;k++)V(a,l[k])}c.insertAdjacentHTML=function(h,k){h=h.toLowerCase();if("beforebegin"===h){var l=this.previousSibling;e.call(this,h,k);g(l||this.parentNode.firstChild,this)}else if("afterbegin"===h)l=this.firstChild,e.call(this,h,k),g(this.firstChild,l);else if("beforeend"===h)l=this.lastChild,e.call(this,h,k),g(l||this.firstChild,null);else if("afterend"===h)l=this.nextSibling,e.call(this,h,k),g(this.nextSibling,l);
else throw new SyntaxError("The value provided ("+String(h)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");}}y&&(Element.prototype.attachShadow=function(c){c=y.call(this,c);if(a.j&&!c.__CE_patched){c.__CE_patched=!0;for(var e=0;e<a.m.length;e++)a.m[e](c)}return this.__CE_shadowRoot=c});z&&z.get?b(Element.prototype,z):I&&I.get?b(HTMLElement.prototype,I):ua(a,function(c){b(c,{enumerable:!0,configurable:!0,get:function(){return q.call(this,!0).innerHTML},set:function(e){var g=
"template"===this.localName,h=g?this.content:this,k=p.call(document,this.namespaceURI,this.localName);for(k.innerHTML=e;0<h.childNodes.length;)u.call(h,h.childNodes[0]);for(e=g?k.content:k;0<e.childNodes.length;)r.call(h,e.childNodes[0])}})});Element.prototype.setAttribute=function(c,e){if(1!==this.__CE_state)return B.call(this,c,e);var g=A.call(this,c);B.call(this,c,e);e=A.call(this,c);a.attributeChangedCallback(this,c,g,e,null)};Element.prototype.setAttributeNS=function(c,e,g){if(1!==this.__CE_state)return F.call(this,
c,e,g);var h=E.call(this,c,e);F.call(this,c,e,g);g=E.call(this,c,e);a.attributeChangedCallback(this,e,h,g,c)};Element.prototype.removeAttribute=function(c){if(1!==this.__CE_state)return C.call(this,c);var e=A.call(this,c);C.call(this,c);null!==e&&a.attributeChangedCallback(this,c,e,null,null)};D&&(Element.prototype.toggleAttribute=function(c,e){if(1!==this.__CE_state)return D.call(this,c,e);var g=A.call(this,c),h=null!==g;e=D.call(this,c,e);h!==e&&a.attributeChangedCallback(this,c,g,e?"":null,null);
return e});Element.prototype.removeAttributeNS=function(c,e){if(1!==this.__CE_state)return G.call(this,c,e);var g=E.call(this,c,e);G.call(this,c,e);var h=E.call(this,c,e);g!==h&&a.attributeChangedCallback(this,e,g,h,c)};oa?d(HTMLElement.prototype,oa):H&&d(Element.prototype,H);pa?f(HTMLElement.prototype,pa):fa&&f(Element.prototype,fa);Z(a,Element.prototype,{prepend:ha,append:ia});Da(a)};var Fa={};function Ga(a){function b(){var d=this.constructor;var f=document.__CE_registry.C.get(d);if(!f)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var c=f.constructionStack;if(0===c.length)return c=n.call(document,f.localName),Object.setPrototypeOf(c,d.prototype),c.__CE_state=1,c.__CE_definition=f,R(a,c),c;var e=c.length-1,g=c[e];if(g===Fa)throw Error("Failed to construct '"+f.localName+"': This element was already constructed.");c[e]=Fa;
Object.setPrototypeOf(g,d.prototype);R(a,g);return g}b.prototype=na.prototype;Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:b});window.HTMLElement=b};function Ha(a){function b(d,f){Object.defineProperty(d,"textContent",{enumerable:f.enumerable,configurable:!0,get:f.get,set:function(c){if(this.nodeType===Node.TEXT_NODE)f.set.call(this,c);else{var e=void 0;if(this.firstChild){var g=this.childNodes,h=g.length;if(0<h&&J(this)){e=Array(h);for(var k=0;k<h;k++)e[k]=g[k]}}f.set.call(this,c);if(e)for(c=0;c<e.length;c++)U(a,e[c])}}})}Node.prototype.insertBefore=function(d,f){if(d instanceof DocumentFragment){var c=K(d);d=t.call(this,d,f);if(J(this))for(f=
0;f<c.length;f++)S(a,c[f]);return d}c=d instanceof Element&&J(d);f=t.call(this,d,f);c&&U(a,d);J(this)&&S(a,d);return f};Node.prototype.appendChild=function(d){if(d instanceof DocumentFragment){var f=K(d);d=r.call(this,d);if(J(this))for(var c=0;c<f.length;c++)S(a,f[c]);return d}f=d instanceof Element&&J(d);c=r.call(this,d);f&&U(a,d);J(this)&&S(a,d);return c};Node.prototype.cloneNode=function(d){d=q.call(this,!!d);this.ownerDocument.__CE_registry?V(a,d):Q(a,d);return d};Node.prototype.removeChild=function(d){var f=
d instanceof Element&&J(d),c=u.call(this,d);f&&U(a,d);return c};Node.prototype.replaceChild=function(d,f){if(d instanceof DocumentFragment){var c=K(d);d=v.call(this,d,f);if(J(this))for(U(a,f),f=0;f<c.length;f++)S(a,c[f]);return d}c=d instanceof Element&&J(d);var e=v.call(this,d,f),g=J(this);g&&U(a,f);c&&U(a,d);g&&S(a,d);return e};w&&w.get?b(Node.prototype,w):ta(a,function(d){b(d,{enumerable:!0,configurable:!0,get:function(){for(var f=[],c=this.firstChild;c;c=c.nextSibling)c.nodeType!==Node.COMMENT_NODE&&
f.push(c.textContent);return f.join("")},set:function(f){for(;this.firstChild;)u.call(this,this.firstChild);null!=f&&""!==f&&r.call(this,document.createTextNode(f))}})})};var O=window.customElements;function Ia(){var a=new N;Ga(a);Ca(a);Z(a,DocumentFragment.prototype,{prepend:da,append:ea});Ha(a);Ea(a);window.CustomElementRegistry=Y;a=new Y(a);document.__CE_registry=a;Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:a})}O&&!O.forcePolyfill&&"function"==typeof O.define&&"function"==typeof O.get||Ia();window.__CE_installPolyfill=Ia;
}).call(self);

//# sourceMappingURL=custom-elements.min.js.map


/***/ }),

/***/ "./node_modules/assertion-error/index.js":
/*!***********************************************!*\
  !*** ./node_modules/assertion-error/index.js ***!
  \***********************************************/
/***/ ((module) => {

/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */

/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */

function exclude () {
  var excludes = [].slice.call(arguments);

  function excludeProps (res, obj) {
    Object.keys(obj).forEach(function (key) {
      if (!~excludes.indexOf(key)) res[key] = obj[key];
    });
  }

  return function extendExclude () {
    var args = [].slice.call(arguments)
      , i = 0
      , res = {};

    for (; i < args.length; i++) {
      excludeProps(res, args[i]);
    }

    return res;
  };
};

/*!
 * Primary Exports
 */

module.exports = AssertionError;

/**
 * ### AssertionError
 *
 * An extension of the JavaScript `Error` constructor for
 * assertion and validation scenarios.
 *
 * @param {String} message
 * @param {Object} properties to include (optional)
 * @param {callee} start stack function (optional)
 */

function AssertionError (message, _props, ssf) {
  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')
    , props = extend(_props || {});

  // default values
  this.message = message || 'Unspecified AssertionError';
  this.showDiff = false;

  // copy from properties
  for (var key in props) {
    this[key] = props[key];
  }

  // capture stack trace
  ssf = ssf || AssertionError;
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, ssf);
  } else {
    try {
      throw new Error();
    } catch(e) {
      this.stack = e.stack;
    }
  }
}

/*!
 * Inherit from Error.prototype
 */

AssertionError.prototype = Object.create(Error.prototype);

/*!
 * Statically set name
 */

AssertionError.prototype.name = 'AssertionError';

/*!
 * Ensure correct constructor
 */

AssertionError.prototype.constructor = AssertionError;

/**
 * Allow errors to be converted to JSON for static transfer.
 *
 * @param {Boolean} include stack (default: `true`)
 * @return {Object} object that can be `JSON.stringify`
 */

AssertionError.prototype.toJSON = function (stack) {
  var extend = exclude('constructor', 'toJSON', 'stack')
    , props = extend({ name: this.name }, this);

  // include stack if exists and not turned off
  if (false !== stack && this.stack) {
    props.stack = this.stack;
  }

  return props;
};


/***/ }),

/***/ "./node_modules/autosize/dist/autosize.esm.js":
/*!****************************************************!*\
  !*** ./node_modules/autosize/dist/autosize.esm.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var e,t,n="function"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,a=function(){e.clientWidth!==i&&p()},d=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",d,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",d,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:d,update:p}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),p()}function s(t){var n=e.style.width;e.style.width="0px",e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior="auto",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null})}}(e);e.style.height="",e.style.height=e.scrollHeight+r+"px",i=e.clientWidth,t()}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(s("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(s("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var a=l;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (a);


/***/ }),

/***/ "./node_modules/chai/index.js":
/*!************************************!*\
  !*** ./node_modules/chai/index.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! ./lib/chai */ "./node_modules/chai/lib/chai.js");


/***/ }),

/***/ "./node_modules/chai/lib/chai.js":
/*!***************************************!*\
  !*** ./node_modules/chai/lib/chai.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var used = [];

/*!
 * Chai version
 */

exports.version = '4.3.8';

/*!
 * Assertion Error
 */

exports.AssertionError = __webpack_require__(/*! assertion-error */ "./node_modules/assertion-error/index.js");

/*!
 * Utils for plugins (not exported)
 */

var util = __webpack_require__(/*! ./chai/utils */ "./node_modules/chai/lib/chai/utils/index.js");

/**
 * # .use(function)
 *
 * Provides a way to extend the internals of Chai.
 *
 * @param {Function}
 * @returns {this} for chaining
 * @api public
 */

exports.use = function (fn) {
  if (!~used.indexOf(fn)) {
    fn(exports, util);
    used.push(fn);
  }

  return exports;
};

/*!
 * Utility Functions
 */

exports.util = util;

/*!
 * Configuration
 */

var config = __webpack_require__(/*! ./chai/config */ "./node_modules/chai/lib/chai/config.js");
exports.config = config;

/*!
 * Primary `Assertion` prototype
 */

var assertion = __webpack_require__(/*! ./chai/assertion */ "./node_modules/chai/lib/chai/assertion.js");
exports.use(assertion);

/*!
 * Core Assertions
 */

var core = __webpack_require__(/*! ./chai/core/assertions */ "./node_modules/chai/lib/chai/core/assertions.js");
exports.use(core);

/*!
 * Expect interface
 */

var expect = __webpack_require__(/*! ./chai/interface/expect */ "./node_modules/chai/lib/chai/interface/expect.js");
exports.use(expect);

/*!
 * Should interface
 */

var should = __webpack_require__(/*! ./chai/interface/should */ "./node_modules/chai/lib/chai/interface/should.js");
exports.use(should);

/*!
 * Assert interface
 */

var assert = __webpack_require__(/*! ./chai/interface/assert */ "./node_modules/chai/lib/chai/interface/assert.js");
exports.use(assert);


/***/ }),

/***/ "./node_modules/chai/lib/chai/assertion.js":
/*!*************************************************!*\
  !*** ./node_modules/chai/lib/chai/assertion.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var config = __webpack_require__(/*! ./config */ "./node_modules/chai/lib/chai/config.js");

module.exports = function (_chai, util) {
  /*!
   * Module dependencies.
   */

  var AssertionError = _chai.AssertionError
    , flag = util.flag;

  /*!
   * Module export.
   */

  _chai.Assertion = Assertion;

  /*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * `Assertion` objects contain metadata in the form of flags. Three flags can
   * be assigned during instantiation by passing arguments to this constructor:
   *
   * - `object`: This flag contains the target of the assertion. For example, in
   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
   *   contain `numKittens` so that the `equal` assertion can reference it when
   *   needed.
   *
   * - `message`: This flag contains an optional custom error message to be
   *   prepended to the error message that's generated by the assertion when it
   *   fails.
   *
   * - `ssfi`: This flag stands for "start stack function indicator". It
   *   contains a function reference that serves as the starting point for
   *   removing frames from the stack trace of the error that's created by the
   *   assertion when it fails. The goal is to provide a cleaner stack trace to
   *   end users by removing Chai's internal functions. Note that it only works
   *   in environments that support `Error.captureStackTrace`, and only when
   *   `Chai.config.includeStack` hasn't been set to `false`.
   *
   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
   *   should retain its current value, even as assertions are chained off of
   *   this object. This is usually set to `true` when creating a new assertion
   *   from within another assertion. It's also temporarily set to `true` before
   *   an overwritten assertion gets called by the overwriting assertion.
   *
   * @param {Mixed} obj target of the assertion
   * @param {String} msg (optional) custom error message
   * @param {Function} ssfi (optional) starting point for removing stack frames
   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
   * @api private
   */

  function Assertion (obj, msg, ssfi, lockSsfi) {
    flag(this, 'ssfi', ssfi || Assertion);
    flag(this, 'lockSsfi', lockSsfi);
    flag(this, 'object', obj);
    flag(this, 'message', msg);

    return util.proxify(this);
  }

  Object.defineProperty(Assertion, 'includeStack', {
    get: function() {
      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');
      return config.includeStack;
    },
    set: function(value) {
      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');
      config.includeStack = value;
    }
  });

  Object.defineProperty(Assertion, 'showDiff', {
    get: function() {
      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');
      return config.showDiff;
    },
    set: function(value) {
      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');
      config.showDiff = value;
    }
  });

  Assertion.addProperty = function (name, fn) {
    util.addProperty(this.prototype, name, fn);
  };

  Assertion.addMethod = function (name, fn) {
    util.addMethod(this.prototype, name, fn);
  };

  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {
    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);
  };

  Assertion.overwriteProperty = function (name, fn) {
    util.overwriteProperty(this.prototype, name, fn);
  };

  Assertion.overwriteMethod = function (name, fn) {
    util.overwriteMethod(this.prototype, name, fn);
  };

  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {
    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);
  };

  /**
   * ### .assert(expression, message, negateMessage, expected, actual, showDiff)
   *
   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.
   *
   * @name assert
   * @param {Philosophical} expression to be tested
   * @param {String|Function} message or function that returns message to display if expression fails
   * @param {String|Function} negatedMessage or function that returns negatedMessage to display if negated expression fails
   * @param {Mixed} expected value (remember to check for negation)
   * @param {Mixed} actual (optional) will default to `this.obj`
   * @param {Boolean} showDiff (optional) when set to `true`, assert will display a diff in addition to the message if expression fails
   * @api private
   */

  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {
    var ok = util.test(this, arguments);
    if (false !== showDiff) showDiff = true;
    if (undefined === expected && undefined === _actual) showDiff = false;
    if (true !== config.showDiff) showDiff = false;

    if (!ok) {
      msg = util.getMessage(this, arguments);
      var actual = util.getActual(this, arguments);
      var assertionErrorObjectProperties = {
          actual: actual
        , expected: expected
        , showDiff: showDiff
      };

      var operator = util.getOperator(this, arguments);
      if (operator) {
        assertionErrorObjectProperties.operator = operator;
      }

      throw new AssertionError(
        msg,
        assertionErrorObjectProperties,
        (config.includeStack) ? this.assert : flag(this, 'ssfi'));
    }
  };

  /*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */

  Object.defineProperty(Assertion.prototype, '_obj',
    { get: function () {
        return flag(this, 'object');
      }
    , set: function (val) {
        flag(this, 'object', val);
      }
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/config.js":
/*!**********************************************!*\
  !*** ./node_modules/chai/lib/chai/config.js ***!
  \**********************************************/
/***/ ((module) => {

module.exports = {

  /**
   * ### config.includeStack
   *
   * User configurable property, influences whether stack trace
   * is included in Assertion error message. Default of false
   * suppresses stack trace in the error message.
   *
   *     chai.config.includeStack = true;  // enable stack on error
   *
   * @param {Boolean}
   * @api public
   */

  includeStack: false,

  /**
   * ### config.showDiff
   *
   * User configurable property, influences whether or not
   * the `showDiff` flag should be included in the thrown
   * AssertionErrors. `false` will always be `false`; `true`
   * will be true when the assertion has requested a diff
   * be shown.
   *
   * @param {Boolean}
   * @api public
   */

  showDiff: true,

  /**
   * ### config.truncateThreshold
   *
   * User configurable property, sets length threshold for actual and
   * expected values in assertion errors. If this threshold is exceeded, for
   * example for large data structures, the value is replaced with something
   * like `[ Array(3) ]` or `{ Object (prop1, prop2) }`.
   *
   * Set it to zero if you want to disable truncating altogether.
   *
   * This is especially userful when doing assertions on arrays: having this
   * set to a reasonable large value makes the failure messages readily
   * inspectable.
   *
   *     chai.config.truncateThreshold = 0;  // disable truncating
   *
   * @param {Number}
   * @api public
   */

  truncateThreshold: 40,

  /**
   * ### config.useProxy
   *
   * User configurable property, defines if chai will use a Proxy to throw
   * an error when a non-existent property is read, which protects users
   * from typos when using property-based assertions.
   *
   * Set it to false if you want to disable this feature.
   *
   *     chai.config.useProxy = false;  // disable use of Proxy
   *
   * This feature is automatically disabled regardless of this config value
   * in environments that don't support proxies.
   *
   * @param {Boolean}
   * @api public
   */

  useProxy: true,

  /**
   * ### config.proxyExcludedKeys
   *
   * User configurable property, defines which properties should be ignored
   * instead of throwing an error if they do not exist on the assertion.
   * This is only applied if the environment Chai is running in supports proxies and
   * if the `useProxy` configuration setting is enabled.
   * By default, `then` and `inspect` will not throw an error if they do not exist on the
   * assertion object because the `.inspect` property is read by `util.inspect` (for example, when
   * using `console.log` on the assertion object) and `.then` is necessary for promise type-checking.
   *
   *     // By default these keys will not throw an error if they do not exist on the assertion object
   *     chai.config.proxyExcludedKeys = ['then', 'inspect'];
   *
   * @param {Array}
   * @api public
   */

  proxyExcludedKeys: ['then', 'catch', 'inspect', 'toJSON']
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/core/assertions.js":
/*!*******************************************************!*\
  !*** ./node_modules/chai/lib/chai/core/assertions.js ***!
  \*******************************************************/
/***/ ((module) => {

/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

module.exports = function (chai, _) {
  var Assertion = chai.Assertion
    , AssertionError = chai.AssertionError
    , flag = _.flag;

  /**
   * ### Language Chains
   *
   * The following are provided as chainable getters to improve the readability
   * of your assertions.
   *
   * **Chains**
   *
   * - to
   * - be
   * - been
   * - is
   * - that
   * - which
   * - and
   * - has
   * - have
   * - with
   * - at
   * - of
   * - same
   * - but
   * - does
   * - still
   * - also
   *
   * @name language chains
   * @namespace BDD
   * @api public
   */

  [ 'to', 'be', 'been', 'is'
  , 'and', 'has', 'have', 'with'
  , 'that', 'which', 'at', 'of'
  , 'same', 'but', 'does', 'still', "also" ].forEach(function (chain) {
    Assertion.addProperty(chain);
  });

  /**
   * ### .not
   *
   * Negates all assertions that follow in the chain.
   *
   *     expect(function () {}).to.not.throw();
   *     expect({a: 1}).to.not.have.property('b');
   *     expect([1, 2]).to.be.an('array').that.does.not.include(3);
   *
   * Just because you can negate any assertion with `.not` doesn't mean you
   * should. With great power comes great responsibility. It's often best to
   * assert that the one expected output was produced, rather than asserting
   * that one of countless unexpected outputs wasn't produced. See individual
   * assertions for specific guidance.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.not.equal(1); // Not recommended
   *
   * @name not
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('not', function () {
    flag(this, 'negate', true);
  });

  /**
   * ### .deep
   *
   * Causes all `.equal`, `.include`, `.members`, `.keys`, and `.property`
   * assertions that follow in the chain to use deep equality instead of strict
   * (`===`) equality. See the `deep-eql` project page for info on the deep
   * equality algorithm: https://github.com/chaijs/deep-eql.
   *
   *     // Target object deeply (but not strictly) equals `{a: 1}`
   *     expect({a: 1}).to.deep.equal({a: 1});
   *     expect({a: 1}).to.not.equal({a: 1});
   *
   *     // Target array deeply (but not strictly) includes `{a: 1}`
   *     expect([{a: 1}]).to.deep.include({a: 1});
   *     expect([{a: 1}]).to.not.include({a: 1});
   *
   *     // Target object deeply (but not strictly) includes `x: {a: 1}`
   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});
   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});
   *
   *     // Target array deeply (but not strictly) has member `{a: 1}`
   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);
   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);
   *
   *     // Target set deeply (but not strictly) has key `{a: 1}`
   *     expect(new Set([{a: 1}])).to.have.deep.keys([{a: 1}]);
   *     expect(new Set([{a: 1}])).to.not.have.keys([{a: 1}]);
   *
   *     // Target object deeply (but not strictly) has property `x: {a: 1}`
   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});
   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});
   *
   * @name deep
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('deep', function () {
    flag(this, 'deep', true);
  });

  /**
   * ### .nested
   *
   * Enables dot- and bracket-notation in all `.property` and `.include`
   * assertions that follow in the chain.
   *
   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');
   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});
   *
   * If `.` or `[]` are part of an actual property name, they can be escaped by
   * adding two backslashes before them.
   *
   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\.a.\\[b\\]');
   *     expect({'.a': {'[b]': 'x'}}).to.nested.include({'\\.a.\\[b\\]': 'x'});
   *
   * `.nested` cannot be combined with `.own`.
   *
   * @name nested
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('nested', function () {
    flag(this, 'nested', true);
  });

  /**
   * ### .own
   *
   * Causes all `.property` and `.include` assertions that follow in the chain
   * to ignore inherited properties.
   *
   *     Object.prototype.b = 2;
   *
   *     expect({a: 1}).to.have.own.property('a');
   *     expect({a: 1}).to.have.property('b');
   *     expect({a: 1}).to.not.have.own.property('b');
   *
   *     expect({a: 1}).to.own.include({a: 1});
   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});
   *
   * `.own` cannot be combined with `.nested`.
   *
   * @name own
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('own', function () {
    flag(this, 'own', true);
  });

  /**
   * ### .ordered
   *
   * Causes all `.members` assertions that follow in the chain to require that
   * members be in the same order.
   *
   *     expect([1, 2]).to.have.ordered.members([1, 2])
   *       .but.not.have.ordered.members([2, 1]);
   *
   * When `.include` and `.ordered` are combined, the ordering begins at the
   * start of both arrays.
   *
   *     expect([1, 2, 3]).to.include.ordered.members([1, 2])
   *       .but.not.include.ordered.members([2, 3]);
   *
   * @name ordered
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('ordered', function () {
    flag(this, 'ordered', true);
  });

  /**
   * ### .any
   *
   * Causes all `.keys` assertions that follow in the chain to only require that
   * the target have at least one of the given keys. This is the opposite of
   * `.all`, which requires that the target have all of the given keys.
   *
   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');
   *
   * See the `.keys` doc for guidance on when to use `.any` or `.all`.
   *
   * @name any
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('any', function () {
    flag(this, 'any', true);
    flag(this, 'all', false);
  });

  /**
   * ### .all
   *
   * Causes all `.keys` assertions that follow in the chain to require that the
   * target have all of the given keys. This is the opposite of `.any`, which
   * only requires that the target have at least one of the given keys.
   *
   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');
   *
   * Note that `.all` is used by default when neither `.all` nor `.any` are
   * added earlier in the chain. However, it's often best to add `.all` anyway
   * because it improves readability.
   *
   * See the `.keys` doc for guidance on when to use `.any` or `.all`.
   *
   * @name all
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('all', function () {
    flag(this, 'all', true);
    flag(this, 'any', false);
  });

  /**
   * ### .a(type[, msg])
   *
   * Asserts that the target's type is equal to the given string `type`. Types
   * are case insensitive. See the `type-detect` project page for info on the
   * type detection algorithm: https://github.com/chaijs/type-detect.
   *
   *     expect('foo').to.be.a('string');
   *     expect({a: 1}).to.be.an('object');
   *     expect(null).to.be.a('null');
   *     expect(undefined).to.be.an('undefined');
   *     expect(new Error).to.be.an('error');
   *     expect(Promise.resolve()).to.be.a('promise');
   *     expect(new Float32Array).to.be.a('float32array');
   *     expect(Symbol()).to.be.a('symbol');
   *
   * `.a` supports objects that have a custom type set via `Symbol.toStringTag`.
   *
   *     var myObj = {
   *       [Symbol.toStringTag]: 'myCustomType'
   *     };
   *
   *     expect(myObj).to.be.a('myCustomType').but.not.an('object');
   *
   * It's often best to use `.a` to check a target's type before making more
   * assertions on the same target. That way, you avoid unexpected behavior from
   * any assertion that does different things based on the target's type.
   *
   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);
   *     expect([]).to.be.an('array').that.is.empty;
   *
   * Add `.not` earlier in the chain to negate `.a`. However, it's often best to
   * assert that the target is the expected type, rather than asserting that it
   * isn't one of many unexpected types.
   *
   *     expect('foo').to.be.a('string'); // Recommended
   *     expect('foo').to.not.be.an('array'); // Not recommended
   *
   * `.a` accepts an optional `msg` argument which is a custom error message to
   * show when the assertion fails. The message can also be given as the second
   * argument to `expect`.
   *
   *     expect(1).to.be.a('string', 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.be.a('string');
   *
   * `.a` can also be used as a language chain to improve the readability of
   * your assertions.
   *
   *     expect({b: 2}).to.have.a.property('b');
   *
   * The alias `.an` can be used interchangeably with `.a`.
   *
   * @name a
   * @alias an
   * @param {String} type
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function an (type, msg) {
    if (msg) flag(this, 'message', msg);
    type = type.toLowerCase();
    var obj = flag(this, 'object')
      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';

    this.assert(
        type === _.type(obj).toLowerCase()
      , 'expected #{this} to be ' + article + type
      , 'expected #{this} not to be ' + article + type
    );
  }

  Assertion.addChainableMethod('an', an);
  Assertion.addChainableMethod('a', an);

  /**
   * ### .include(val[, msg])
   *
   * When the target is a string, `.include` asserts that the given string `val`
   * is a substring of the target.
   *
   *     expect('foobar').to.include('foo');
   *
   * When the target is an array, `.include` asserts that the given `val` is a
   * member of the target.
   *
   *     expect([1, 2, 3]).to.include(2);
   *
   * When the target is an object, `.include` asserts that the given object
   * `val`'s properties are a subset of the target's properties.
   *
   *     expect({a: 1, b: 2, c: 3}).to.include({a: 1, b: 2});
   *
   * When the target is a Set or WeakSet, `.include` asserts that the given `val` is a
   * member of the target. SameValueZero equality algorithm is used.
   *
   *     expect(new Set([1, 2])).to.include(2);
   *
   * When the target is a Map, `.include` asserts that the given `val` is one of
   * the values of the target. SameValueZero equality algorithm is used.
   *
   *     expect(new Map([['a', 1], ['b', 2]])).to.include(2);
   *
   * Because `.include` does different things based on the target's type, it's
   * important to check the target's type before using `.include`. See the `.a`
   * doc for info on testing a target's type.
   *
   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);
   *
   * By default, strict (`===`) equality is used to compare array members and
   * object properties. Add `.deep` earlier in the chain to use deep equality
   * instead (WeakSet targets are not supported). See the `deep-eql` project
   * page for info on the deep equality algorithm: https://github.com/chaijs/deep-eql.
   *
   *     // Target array deeply (but not strictly) includes `{a: 1}`
   *     expect([{a: 1}]).to.deep.include({a: 1});
   *     expect([{a: 1}]).to.not.include({a: 1});
   *
   *     // Target object deeply (but not strictly) includes `x: {a: 1}`
   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});
   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});
   *
   * By default, all of the target's properties are searched when working with
   * objects. This includes properties that are inherited and/or non-enumerable.
   * Add `.own` earlier in the chain to exclude the target's inherited
   * properties from the search.
   *
   *     Object.prototype.b = 2;
   *
   *     expect({a: 1}).to.own.include({a: 1});
   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});
   *
   * Note that a target object is always only searched for `val`'s own
   * enumerable properties.
   *
   * `.deep` and `.own` can be combined.
   *
   *     expect({a: {b: 2}}).to.deep.own.include({a: {b: 2}});
   *
   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when
   * referencing nested properties.
   *
   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});
   *
   * If `.` or `[]` are part of an actual property name, they can be escaped by
   * adding two backslashes before them.
   *
   *     expect({'.a': {'[b]': 2}}).to.nested.include({'\\.a.\\[b\\]': 2});
   *
   * `.deep` and `.nested` can be combined.
   *
   *     expect({a: {b: [{c: 3}]}}).to.deep.nested.include({'a.b[0]': {c: 3}});
   *
   * `.own` and `.nested` cannot be combined.
   *
   * Add `.not` earlier in the chain to negate `.include`.
   *
   *     expect('foobar').to.not.include('taco');
   *     expect([1, 2, 3]).to.not.include(4);
   *
   * However, it's dangerous to negate `.include` when the target is an object.
   * The problem is that it creates uncertain expectations by asserting that the
   * target object doesn't have all of `val`'s key/value pairs but may or may
   * not have some of them. It's often best to identify the exact output that's
   * expected, and then write an assertion that only accepts that exact output.
   *
   * When the target object isn't even expected to have `val`'s keys, it's
   * often best to assert exactly that.
   *
   *     expect({c: 3}).to.not.have.any.keys('a', 'b'); // Recommended
   *     expect({c: 3}).to.not.include({a: 1, b: 2}); // Not recommended
   *
   * When the target object is expected to have `val`'s keys, it's often best to
   * assert that each of the properties has its expected value, rather than
   * asserting that each property doesn't have one of many unexpected values.
   *
   *     expect({a: 3, b: 4}).to.include({a: 3, b: 4}); // Recommended
   *     expect({a: 3, b: 4}).to.not.include({a: 1, b: 2}); // Not recommended
   *
   * `.include` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect([1, 2, 3]).to.include(4, 'nooo why fail??');
   *     expect([1, 2, 3], 'nooo why fail??').to.include(4);
   *
   * `.include` can also be used as a language chain, causing all `.members` and
   * `.keys` assertions that follow in the chain to require the target to be a
   * superset of the expected set, rather than an identical set. Note that
   * `.members` ignores duplicates in the subset when `.include` is added.
   *
   *     // Target object's keys are a superset of ['a', 'b'] but not identical
   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');
   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');
   *
   *     // Target array is a superset of [1, 2] but not identical
   *     expect([1, 2, 3]).to.include.members([1, 2]);
   *     expect([1, 2, 3]).to.not.have.members([1, 2]);
   *
   *     // Duplicates in the subset are ignored
   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);
   *
   * Note that adding `.any` earlier in the chain causes the `.keys` assertion
   * to ignore `.include`.
   *
   *     // Both assertions are identical
   *     expect({a: 1}).to.include.any.keys('a', 'b');
   *     expect({a: 1}).to.have.any.keys('a', 'b');
   *
   * The aliases `.includes`, `.contain`, and `.contains` can be used
   * interchangeably with `.include`.
   *
   * @name include
   * @alias contain
   * @alias includes
   * @alias contains
   * @param {Mixed} val
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function SameValueZero(a, b) {
    return (_.isNaN(a) && _.isNaN(b)) || a === b;
  }

  function includeChainingBehavior () {
    flag(this, 'contains', true);
  }

  function include (val, msg) {
    if (msg) flag(this, 'message', msg);

    var obj = flag(this, 'object')
      , objType = _.type(obj).toLowerCase()
      , flagMsg = flag(this, 'message')
      , negate = flag(this, 'negate')
      , ssfi = flag(this, 'ssfi')
      , isDeep = flag(this, 'deep')
      , descriptor = isDeep ? 'deep ' : '';

    flagMsg = flagMsg ? flagMsg + ': ' : '';

    var included = false;

    switch (objType) {
      case 'string':
        included = obj.indexOf(val) !== -1;
        break;

      case 'weakset':
        if (isDeep) {
          throw new AssertionError(
            flagMsg + 'unable to use .deep.include with WeakSet',
            undefined,
            ssfi
          );
        }

        included = obj.has(val);
        break;

      case 'map':
        var isEql = isDeep ? _.eql : SameValueZero;
        obj.forEach(function (item) {
          included = included || isEql(item, val);
        });
        break;

      case 'set':
        if (isDeep) {
          obj.forEach(function (item) {
            included = included || _.eql(item, val);
          });
        } else {
          included = obj.has(val);
        }
        break;

      case 'array':
        if (isDeep) {
          included = obj.some(function (item) {
            return _.eql(item, val);
          })
        } else {
          included = obj.indexOf(val) !== -1;
        }
        break;

      default:
        // This block is for asserting a subset of properties in an object.
        // `_.expectTypes` isn't used here because `.include` should work with
        // objects with a custom `@@toStringTag`.
        if (val !== Object(val)) {
          throw new AssertionError(
            flagMsg + 'the given combination of arguments ('
            + objType + ' and '
            + _.type(val).toLowerCase() + ')'
            + ' is invalid for this assertion. '
            + 'You can use an array, a map, an object, a set, a string, '
            + 'or a weakset instead of a '
            + _.type(val).toLowerCase(),
            undefined,
            ssfi
          );
        }

        var props = Object.keys(val)
          , firstErr = null
          , numErrs = 0;

        props.forEach(function (prop) {
          var propAssertion = new Assertion(obj);
          _.transferFlags(this, propAssertion, true);
          flag(propAssertion, 'lockSsfi', true);

          if (!negate || props.length === 1) {
            propAssertion.property(prop, val[prop]);
            return;
          }

          try {
            propAssertion.property(prop, val[prop]);
          } catch (err) {
            if (!_.checkError.compatibleConstructor(err, AssertionError)) {
              throw err;
            }
            if (firstErr === null) firstErr = err;
            numErrs++;
          }
        }, this);

        // When validating .not.include with multiple properties, we only want
        // to throw an assertion error if all of the properties are included,
        // in which case we throw the first property assertion error that we
        // encountered.
        if (negate && props.length > 1 && numErrs === props.length) {
          throw firstErr;
        }
        return;
    }

    // Assert inclusion in collection or substring in a string.
    this.assert(
      included
      , 'expected #{this} to ' + descriptor + 'include ' + _.inspect(val)
      , 'expected #{this} to not ' + descriptor + 'include ' + _.inspect(val));
  }

  Assertion.addChainableMethod('include', include, includeChainingBehavior);
  Assertion.addChainableMethod('contain', include, includeChainingBehavior);
  Assertion.addChainableMethod('contains', include, includeChainingBehavior);
  Assertion.addChainableMethod('includes', include, includeChainingBehavior);

  /**
   * ### .ok
   *
   * Asserts that the target is a truthy value (considered `true` in boolean context).
   * However, it's often best to assert that the target is strictly (`===`) or
   * deeply equal to its expected value.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.be.ok; // Not recommended
   *
   *     expect(true).to.be.true; // Recommended
   *     expect(true).to.be.ok; // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.ok`.
   *
   *     expect(0).to.equal(0); // Recommended
   *     expect(0).to.not.be.ok; // Not recommended
   *
   *     expect(false).to.be.false; // Recommended
   *     expect(false).to.not.be.ok; // Not recommended
   *
   *     expect(null).to.be.null; // Recommended
   *     expect(null).to.not.be.ok; // Not recommended
   *
   *     expect(undefined).to.be.undefined; // Recommended
   *     expect(undefined).to.not.be.ok; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(false, 'nooo why fail??').to.be.ok;
   *
   * @name ok
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('ok', function () {
    this.assert(
        flag(this, 'object')
      , 'expected #{this} to be truthy'
      , 'expected #{this} to be falsy');
  });

  /**
   * ### .true
   *
   * Asserts that the target is strictly (`===`) equal to `true`.
   *
   *     expect(true).to.be.true;
   *
   * Add `.not` earlier in the chain to negate `.true`. However, it's often best
   * to assert that the target is equal to its expected value, rather than not
   * equal to `true`.
   *
   *     expect(false).to.be.false; // Recommended
   *     expect(false).to.not.be.true; // Not recommended
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.true; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(false, 'nooo why fail??').to.be.true;
   *
   * @name true
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('true', function () {
    this.assert(
        true === flag(this, 'object')
      , 'expected #{this} to be true'
      , 'expected #{this} to be false'
      , flag(this, 'negate') ? false : true
    );
  });

  /**
   * ### .false
   *
   * Asserts that the target is strictly (`===`) equal to `false`.
   *
   *     expect(false).to.be.false;
   *
   * Add `.not` earlier in the chain to negate `.false`. However, it's often
   * best to assert that the target is equal to its expected value, rather than
   * not equal to `false`.
   *
   *     expect(true).to.be.true; // Recommended
   *     expect(true).to.not.be.false; // Not recommended
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.false; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(true, 'nooo why fail??').to.be.false;
   *
   * @name false
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('false', function () {
    this.assert(
        false === flag(this, 'object')
      , 'expected #{this} to be false'
      , 'expected #{this} to be true'
      , flag(this, 'negate') ? true : false
    );
  });

  /**
   * ### .null
   *
   * Asserts that the target is strictly (`===`) equal to `null`.
   *
   *     expect(null).to.be.null;
   *
   * Add `.not` earlier in the chain to negate `.null`. However, it's often best
   * to assert that the target is equal to its expected value, rather than not
   * equal to `null`.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.null; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(42, 'nooo why fail??').to.be.null;
   *
   * @name null
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('null', function () {
    this.assert(
        null === flag(this, 'object')
      , 'expected #{this} to be null'
      , 'expected #{this} not to be null'
    );
  });

  /**
   * ### .undefined
   *
   * Asserts that the target is strictly (`===`) equal to `undefined`.
   *
   *     expect(undefined).to.be.undefined;
   *
   * Add `.not` earlier in the chain to negate `.undefined`. However, it's often
   * best to assert that the target is equal to its expected value, rather than
   * not equal to `undefined`.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.undefined; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(42, 'nooo why fail??').to.be.undefined;
   *
   * @name undefined
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('undefined', function () {
    this.assert(
        undefined === flag(this, 'object')
      , 'expected #{this} to be undefined'
      , 'expected #{this} not to be undefined'
    );
  });

  /**
   * ### .NaN
   *
   * Asserts that the target is exactly `NaN`.
   *
   *     expect(NaN).to.be.NaN;
   *
   * Add `.not` earlier in the chain to negate `.NaN`. However, it's often best
   * to assert that the target is equal to its expected value, rather than not
   * equal to `NaN`.
   *
   *     expect('foo').to.equal('foo'); // Recommended
   *     expect('foo').to.not.be.NaN; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(42, 'nooo why fail??').to.be.NaN;
   *
   * @name NaN
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('NaN', function () {
    this.assert(
        _.isNaN(flag(this, 'object'))
        , 'expected #{this} to be NaN'
        , 'expected #{this} not to be NaN'
    );
  });

  /**
   * ### .exist
   *
   * Asserts that the target is not strictly (`===`) equal to either `null` or
   * `undefined`. However, it's often best to assert that the target is equal to
   * its expected value.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.exist; // Not recommended
   *
   *     expect(0).to.equal(0); // Recommended
   *     expect(0).to.exist; // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.exist`.
   *
   *     expect(null).to.be.null; // Recommended
   *     expect(null).to.not.exist; // Not recommended
   *
   *     expect(undefined).to.be.undefined; // Recommended
   *     expect(undefined).to.not.exist; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(null, 'nooo why fail??').to.exist;
   *
   * The alias `.exists` can be used interchangeably with `.exist`.
   *
   * @name exist
   * @alias exists
   * @namespace BDD
   * @api public
   */

  function assertExist () {
    var val = flag(this, 'object');
    this.assert(
        val !== null && val !== undefined
      , 'expected #{this} to exist'
      , 'expected #{this} to not exist'
    );
  }

  Assertion.addProperty('exist', assertExist);
  Assertion.addProperty('exists', assertExist);

  /**
   * ### .empty
   *
   * When the target is a string or array, `.empty` asserts that the target's
   * `length` property is strictly (`===`) equal to `0`.
   *
   *     expect([]).to.be.empty;
   *     expect('').to.be.empty;
   *
   * When the target is a map or set, `.empty` asserts that the target's `size`
   * property is strictly equal to `0`.
   *
   *     expect(new Set()).to.be.empty;
   *     expect(new Map()).to.be.empty;
   *
   * When the target is a non-function object, `.empty` asserts that the target
   * doesn't have any own enumerable properties. Properties with Symbol-based
   * keys are excluded from the count.
   *
   *     expect({}).to.be.empty;
   *
   * Because `.empty` does different things based on the target's type, it's
   * important to check the target's type before using `.empty`. See the `.a`
   * doc for info on testing a target's type.
   *
   *     expect([]).to.be.an('array').that.is.empty;
   *
   * Add `.not` earlier in the chain to negate `.empty`. However, it's often
   * best to assert that the target contains its expected number of values,
   * rather than asserting that it's not empty.
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended
   *     expect([1, 2, 3]).to.not.be.empty; // Not recommended
   *
   *     expect(new Set([1, 2, 3])).to.have.property('size', 3); // Recommended
   *     expect(new Set([1, 2, 3])).to.not.be.empty; // Not recommended
   *
   *     expect(Object.keys({a: 1})).to.have.lengthOf(1); // Recommended
   *     expect({a: 1}).to.not.be.empty; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect([1, 2, 3], 'nooo why fail??').to.be.empty;
   *
   * @name empty
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('empty', function () {
    var val = flag(this, 'object')
      , ssfi = flag(this, 'ssfi')
      , flagMsg = flag(this, 'message')
      , itemsCount;

    flagMsg = flagMsg ? flagMsg + ': ' : '';

    switch (_.type(val).toLowerCase()) {
      case 'array':
      case 'string':
        itemsCount = val.length;
        break;
      case 'map':
      case 'set':
        itemsCount = val.size;
        break;
      case 'weakmap':
      case 'weakset':
        throw new AssertionError(
          flagMsg + '.empty was passed a weak collection',
          undefined,
          ssfi
        );
      case 'function':
        var msg = flagMsg + '.empty was passed a function ' + _.getName(val);
        throw new AssertionError(msg.trim(), undefined, ssfi);
      default:
        if (val !== Object(val)) {
          throw new AssertionError(
            flagMsg + '.empty was passed non-string primitive ' + _.inspect(val),
            undefined,
            ssfi
          );
        }
        itemsCount = Object.keys(val).length;
    }

    this.assert(
        0 === itemsCount
      , 'expected #{this} to be empty'
      , 'expected #{this} not to be empty'
    );
  });

  /**
   * ### .arguments
   *
   * Asserts that the target is an `arguments` object.
   *
   *     function test () {
   *       expect(arguments).to.be.arguments;
   *     }
   *
   *     test();
   *
   * Add `.not` earlier in the chain to negate `.arguments`. However, it's often
   * best to assert which type the target is expected to be, rather than
   * asserting that its not an `arguments` object.
   *
   *     expect('foo').to.be.a('string'); // Recommended
   *     expect('foo').to.not.be.arguments; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect({}, 'nooo why fail??').to.be.arguments;
   *
   * The alias `.Arguments` can be used interchangeably with `.arguments`.
   *
   * @name arguments
   * @alias Arguments
   * @namespace BDD
   * @api public
   */

  function checkArguments () {
    var obj = flag(this, 'object')
      , type = _.type(obj);
    this.assert(
        'Arguments' === type
      , 'expected #{this} to be arguments but got ' + type
      , 'expected #{this} to not be arguments'
    );
  }

  Assertion.addProperty('arguments', checkArguments);
  Assertion.addProperty('Arguments', checkArguments);

  /**
   * ### .equal(val[, msg])
   *
   * Asserts that the target is strictly (`===`) equal to the given `val`.
   *
   *     expect(1).to.equal(1);
   *     expect('foo').to.equal('foo');
   *
   * Add `.deep` earlier in the chain to use deep equality instead. See the
   * `deep-eql` project page for info on the deep equality algorithm:
   * https://github.com/chaijs/deep-eql.
   *
   *     // Target object deeply (but not strictly) equals `{a: 1}`
   *     expect({a: 1}).to.deep.equal({a: 1});
   *     expect({a: 1}).to.not.equal({a: 1});
   *
   *     // Target array deeply (but not strictly) equals `[1, 2]`
   *     expect([1, 2]).to.deep.equal([1, 2]);
   *     expect([1, 2]).to.not.equal([1, 2]);
   *
   * Add `.not` earlier in the chain to negate `.equal`. However, it's often
   * best to assert that the target is equal to its expected value, rather than
   * not equal to one of countless unexpected values.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.equal(2); // Not recommended
   *
   * `.equal` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(1).to.equal(2, 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.equal(2);
   *
   * The aliases `.equals` and `eq` can be used interchangeably with `.equal`.
   *
   * @name equal
   * @alias equals
   * @alias eq
   * @param {Mixed} val
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertEqual (val, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object');
    if (flag(this, 'deep')) {
      var prevLockSsfi = flag(this, 'lockSsfi');
      flag(this, 'lockSsfi', true);
      this.eql(val);
      flag(this, 'lockSsfi', prevLockSsfi);
    } else {
      this.assert(
          val === obj
        , 'expected #{this} to equal #{exp}'
        , 'expected #{this} to not equal #{exp}'
        , val
        , this._obj
        , true
      );
    }
  }

  Assertion.addMethod('equal', assertEqual);
  Assertion.addMethod('equals', assertEqual);
  Assertion.addMethod('eq', assertEqual);

  /**
   * ### .eql(obj[, msg])
   *
   * Asserts that the target is deeply equal to the given `obj`. See the
   * `deep-eql` project page for info on the deep equality algorithm:
   * https://github.com/chaijs/deep-eql.
   *
   *     // Target object is deeply (but not strictly) equal to {a: 1}
   *     expect({a: 1}).to.eql({a: 1}).but.not.equal({a: 1});
   *
   *     // Target array is deeply (but not strictly) equal to [1, 2]
   *     expect([1, 2]).to.eql([1, 2]).but.not.equal([1, 2]);
   *
   * Add `.not` earlier in the chain to negate `.eql`. However, it's often best
   * to assert that the target is deeply equal to its expected value, rather
   * than not deeply equal to one of countless unexpected values.
   *
   *     expect({a: 1}).to.eql({a: 1}); // Recommended
   *     expect({a: 1}).to.not.eql({b: 2}); // Not recommended
   *
   * `.eql` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect({a: 1}).to.eql({b: 2}, 'nooo why fail??');
   *     expect({a: 1}, 'nooo why fail??').to.eql({b: 2});
   *
   * The alias `.eqls` can be used interchangeably with `.eql`.
   *
   * The `.deep.equal` assertion is almost identical to `.eql` but with one
   * difference: `.deep.equal` causes deep equality comparisons to also be used
   * for any other assertions that follow in the chain.
   *
   * @name eql
   * @alias eqls
   * @param {Mixed} obj
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertEql(obj, msg) {
    if (msg) flag(this, 'message', msg);
    this.assert(
        _.eql(obj, flag(this, 'object'))
      , 'expected #{this} to deeply equal #{exp}'
      , 'expected #{this} to not deeply equal #{exp}'
      , obj
      , this._obj
      , true
    );
  }

  Assertion.addMethod('eql', assertEql);
  Assertion.addMethod('eqls', assertEql);

  /**
   * ### .above(n[, msg])
   *
   * Asserts that the target is a number or a date greater than the given number or date `n` respectively.
   * However, it's often best to assert that the target is equal to its expected
   * value.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.be.above(1); // Not recommended
   *
   * Add `.lengthOf` earlier in the chain to assert that the target's `length`
   * or `size` is greater than the given number `n`.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.have.lengthOf.above(2); // Not recommended
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf.above(2); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.above`.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(1).to.not.be.above(2); // Not recommended
   *
   * `.above` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(1).to.be.above(2, 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.be.above(2);
   *
   * The aliases `.gt` and `.greaterThan` can be used interchangeably with
   * `.above`.
   *
   * @name above
   * @alias gt
   * @alias greaterThan
   * @param {Number} n
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertAbove (n, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , doLength = flag(this, 'doLength')
      , flagMsg = flag(this, 'message')
      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')
      , ssfi = flag(this, 'ssfi')
      , objType = _.type(obj).toLowerCase()
      , nType = _.type(n).toLowerCase()
      , errorMessage
      , shouldThrow = true;

    if (doLength && objType !== 'map' && objType !== 'set') {
      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
    }

    if (!doLength && (objType === 'date' && nType !== 'date')) {
      errorMessage = msgPrefix + 'the argument to above must be a date';
    } else if (nType !== 'number' && (doLength || objType === 'number')) {
      errorMessage = msgPrefix + 'the argument to above must be a number';
    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {
      var printObj = (objType === 'string') ? "'" + obj + "'" : obj;
      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
    } else {
      shouldThrow = false;
    }

    if (shouldThrow) {
      throw new AssertionError(errorMessage, undefined, ssfi);
    }

    if (doLength) {
      var descriptor = 'length'
        , itemsCount;
      if (objType === 'map' || objType === 'set') {
        descriptor = 'size';
        itemsCount = obj.size;
      } else {
        itemsCount = obj.length;
      }
      this.assert(
          itemsCount > n
        , 'expected #{this} to have a ' + descriptor + ' above #{exp} but got #{act}'
        , 'expected #{this} to not have a ' + descriptor + ' above #{exp}'
        , n
        , itemsCount
      );
    } else {
      this.assert(
          obj > n
        , 'expected #{this} to be above #{exp}'
        , 'expected #{this} to be at most #{exp}'
        , n
      );
    }
  }

  Assertion.addMethod('above', assertAbove);
  Assertion.addMethod('gt', assertAbove);
  Assertion.addMethod('greaterThan', assertAbove);

  /**
   * ### .least(n[, msg])
   *
   * Asserts that the target is a number or a date greater than or equal to the given
   * number or date `n` respectively. However, it's often best to assert that the target is equal to
   * its expected value.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.be.at.least(1); // Not recommended
   *     expect(2).to.be.at.least(2); // Not recommended
   *
   * Add `.lengthOf` earlier in the chain to assert that the target's `length`
   * or `size` is greater than or equal to the given number `n`.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.have.lengthOf.at.least(2); // Not recommended
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf.at.least(2); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.least`.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.at.least(2); // Not recommended
   *
   * `.least` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(1).to.be.at.least(2, 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.be.at.least(2);
   *
   * The aliases `.gte` and `.greaterThanOrEqual` can be used interchangeably with
   * `.least`.
   *
   * @name least
   * @alias gte
   * @alias greaterThanOrEqual
   * @param {Number} n
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertLeast (n, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , doLength = flag(this, 'doLength')
      , flagMsg = flag(this, 'message')
      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')
      , ssfi = flag(this, 'ssfi')
      , objType = _.type(obj).toLowerCase()
      , nType = _.type(n).toLowerCase()
      , errorMessage
      , shouldThrow = true;

    if (doLength && objType !== 'map' && objType !== 'set') {
      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
    }

    if (!doLength && (objType === 'date' && nType !== 'date')) {
      errorMessage = msgPrefix + 'the argument to least must be a date';
    } else if (nType !== 'number' && (doLength || objType === 'number')) {
      errorMessage = msgPrefix + 'the argument to least must be a number';
    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {
      var printObj = (objType === 'string') ? "'" + obj + "'" : obj;
      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
    } else {
      shouldThrow = false;
    }

    if (shouldThrow) {
      throw new AssertionError(errorMessage, undefined, ssfi);
    }

    if (doLength) {
      var descriptor = 'length'
        , itemsCount;
      if (objType === 'map' || objType === 'set') {
        descriptor = 'size';
        itemsCount = obj.size;
      } else {
        itemsCount = obj.length;
      }
      this.assert(
          itemsCount >= n
        , 'expected #{this} to have a ' + descriptor + ' at least #{exp} but got #{act}'
        , 'expected #{this} to have a ' + descriptor + ' below #{exp}'
        , n
        , itemsCount
      );
    } else {
      this.assert(
          obj >= n
        , 'expected #{this} to be at least #{exp}'
        , 'expected #{this} to be below #{exp}'
        , n
      );
    }
  }

  Assertion.addMethod('least', assertLeast);
  Assertion.addMethod('gte', assertLeast);
  Assertion.addMethod('greaterThanOrEqual', assertLeast);

  /**
   * ### .below(n[, msg])
   *
   * Asserts that the target is a number or a date less than the given number or date `n` respectively.
   * However, it's often best to assert that the target is equal to its expected
   * value.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.be.below(2); // Not recommended
   *
   * Add `.lengthOf` earlier in the chain to assert that the target's `length`
   * or `size` is less than the given number `n`.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.have.lengthOf.below(4); // Not recommended
   *
   *     expect([1, 2, 3]).to.have.length(3); // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf.below(4); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.below`.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.not.be.below(1); // Not recommended
   *
   * `.below` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(2).to.be.below(1, 'nooo why fail??');
   *     expect(2, 'nooo why fail??').to.be.below(1);
   *
   * The aliases `.lt` and `.lessThan` can be used interchangeably with
   * `.below`.
   *
   * @name below
   * @alias lt
   * @alias lessThan
   * @param {Number} n
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertBelow (n, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , doLength = flag(this, 'doLength')
      , flagMsg = flag(this, 'message')
      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')
      , ssfi = flag(this, 'ssfi')
      , objType = _.type(obj).toLowerCase()
      , nType = _.type(n).toLowerCase()
      , errorMessage
      , shouldThrow = true;

    if (doLength && objType !== 'map' && objType !== 'set') {
      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
    }

    if (!doLength && (objType === 'date' && nType !== 'date')) {
      errorMessage = msgPrefix + 'the argument to below must be a date';
    } else if (nType !== 'number' && (doLength || objType === 'number')) {
      errorMessage = msgPrefix + 'the argument to below must be a number';
    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {
      var printObj = (objType === 'string') ? "'" + obj + "'" : obj;
      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
    } else {
      shouldThrow = false;
    }

    if (shouldThrow) {
      throw new AssertionError(errorMessage, undefined, ssfi);
    }

    if (doLength) {
      var descriptor = 'length'
        , itemsCount;
      if (objType === 'map' || objType === 'set') {
        descriptor = 'size';
        itemsCount = obj.size;
      } else {
        itemsCount = obj.length;
      }
      this.assert(
          itemsCount < n
        , 'expected #{this} to have a ' + descriptor + ' below #{exp} but got #{act}'
        , 'expected #{this} to not have a ' + descriptor + ' below #{exp}'
        , n
        , itemsCount
      );
    } else {
      this.assert(
          obj < n
        , 'expected #{this} to be below #{exp}'
        , 'expected #{this} to be at least #{exp}'
        , n
      );
    }
  }

  Assertion.addMethod('below', assertBelow);
  Assertion.addMethod('lt', assertBelow);
  Assertion.addMethod('lessThan', assertBelow);

  /**
   * ### .most(n[, msg])
   *
   * Asserts that the target is a number or a date less than or equal to the given number
   * or date `n` respectively. However, it's often best to assert that the target is equal to its
   * expected value.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.be.at.most(2); // Not recommended
   *     expect(1).to.be.at.most(1); // Not recommended
   *
   * Add `.lengthOf` earlier in the chain to assert that the target's `length`
   * or `size` is less than or equal to the given number `n`.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.have.lengthOf.at.most(4); // Not recommended
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf.at.most(4); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.most`.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.not.be.at.most(1); // Not recommended
   *
   * `.most` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(2).to.be.at.most(1, 'nooo why fail??');
   *     expect(2, 'nooo why fail??').to.be.at.most(1);
   *
   * The aliases `.lte` and `.lessThanOrEqual` can be used interchangeably with
   * `.most`.
   *
   * @name most
   * @alias lte
   * @alias lessThanOrEqual
   * @param {Number} n
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertMost (n, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , doLength = flag(this, 'doLength')
      , flagMsg = flag(this, 'message')
      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')
      , ssfi = flag(this, 'ssfi')
      , objType = _.type(obj).toLowerCase()
      , nType = _.type(n).toLowerCase()
      , errorMessage
      , shouldThrow = true;

    if (doLength && objType !== 'map' && objType !== 'set') {
      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
    }

    if (!doLength && (objType === 'date' && nType !== 'date')) {
      errorMessage = msgPrefix + 'the argument to most must be a date';
    } else if (nType !== 'number' && (doLength || objType === 'number')) {
      errorMessage = msgPrefix + 'the argument to most must be a number';
    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {
      var printObj = (objType === 'string') ? "'" + obj + "'" : obj;
      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
    } else {
      shouldThrow = false;
    }

    if (shouldThrow) {
      throw new AssertionError(errorMessage, undefined, ssfi);
    }

    if (doLength) {
      var descriptor = 'length'
        , itemsCount;
      if (objType === 'map' || objType === 'set') {
        descriptor = 'size';
        itemsCount = obj.size;
      } else {
        itemsCount = obj.length;
      }
      this.assert(
          itemsCount <= n
        , 'expected #{this} to have a ' + descriptor + ' at most #{exp} but got #{act}'
        , 'expected #{this} to have a ' + descriptor + ' above #{exp}'
        , n
        , itemsCount
      );
    } else {
      this.assert(
          obj <= n
        , 'expected #{this} to be at most #{exp}'
        , 'expected #{this} to be above #{exp}'
        , n
      );
    }
  }

  Assertion.addMethod('most', assertMost);
  Assertion.addMethod('lte', assertMost);
  Assertion.addMethod('lessThanOrEqual', assertMost);

  /**
   * ### .within(start, finish[, msg])
   *
   * Asserts that the target is a number or a date greater than or equal to the given
   * number or date `start`, and less than or equal to the given number or date `finish` respectively.
   * However, it's often best to assert that the target is equal to its expected
   * value.
   *
   *     expect(2).to.equal(2); // Recommended
   *     expect(2).to.be.within(1, 3); // Not recommended
   *     expect(2).to.be.within(2, 3); // Not recommended
   *     expect(2).to.be.within(1, 2); // Not recommended
   *
   * Add `.lengthOf` earlier in the chain to assert that the target's `length`
   * or `size` is greater than or equal to the given number `start`, and less
   * than or equal to the given number `finish`.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.have.lengthOf.within(2, 4); // Not recommended
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf.within(2, 4); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.within`.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.within(2, 4); // Not recommended
   *
   * `.within` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect(4).to.be.within(1, 3, 'nooo why fail??');
   *     expect(4, 'nooo why fail??').to.be.within(1, 3);
   *
   * @name within
   * @param {Number} start lower bound inclusive
   * @param {Number} finish upper bound inclusive
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  Assertion.addMethod('within', function (start, finish, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , doLength = flag(this, 'doLength')
      , flagMsg = flag(this, 'message')
      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')
      , ssfi = flag(this, 'ssfi')
      , objType = _.type(obj).toLowerCase()
      , startType = _.type(start).toLowerCase()
      , finishType = _.type(finish).toLowerCase()
      , errorMessage
      , shouldThrow = true
      , range = (startType === 'date' && finishType === 'date')
          ? start.toISOString() + '..' + finish.toISOString()
          : start + '..' + finish;

    if (doLength && objType !== 'map' && objType !== 'set') {
      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
    }

    if (!doLength && (objType === 'date' && (startType !== 'date' || finishType !== 'date'))) {
      errorMessage = msgPrefix + 'the arguments to within must be dates';
    } else if ((startType !== 'number' || finishType !== 'number') && (doLength || objType === 'number')) {
      errorMessage = msgPrefix + 'the arguments to within must be numbers';
    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {
      var printObj = (objType === 'string') ? "'" + obj + "'" : obj;
      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';
    } else {
      shouldThrow = false;
    }

    if (shouldThrow) {
      throw new AssertionError(errorMessage, undefined, ssfi);
    }

    if (doLength) {
      var descriptor = 'length'
        , itemsCount;
      if (objType === 'map' || objType === 'set') {
        descriptor = 'size';
        itemsCount = obj.size;
      } else {
        itemsCount = obj.length;
      }
      this.assert(
          itemsCount >= start && itemsCount <= finish
        , 'expected #{this} to have a ' + descriptor + ' within ' + range
        , 'expected #{this} to not have a ' + descriptor + ' within ' + range
      );
    } else {
      this.assert(
          obj >= start && obj <= finish
        , 'expected #{this} to be within ' + range
        , 'expected #{this} to not be within ' + range
      );
    }
  });

  /**
   * ### .instanceof(constructor[, msg])
   *
   * Asserts that the target is an instance of the given `constructor`.
   *
   *     function Cat () { }
   *
   *     expect(new Cat()).to.be.an.instanceof(Cat);
   *     expect([1, 2]).to.be.an.instanceof(Array);
   *
   * Add `.not` earlier in the chain to negate `.instanceof`.
   *
   *     expect({a: 1}).to.not.be.an.instanceof(Array);
   *
   * `.instanceof` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect(1).to.be.an.instanceof(Array, 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.be.an.instanceof(Array);
   *
   * Due to limitations in ES5, `.instanceof` may not always work as expected
   * when using a transpiler such as Babel or TypeScript. In particular, it may
   * produce unexpected results when subclassing built-in object such as
   * `Array`, `Error`, and `Map`. See your transpiler's docs for details:
   *
   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))
   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))
   *
   * The alias `.instanceOf` can be used interchangeably with `.instanceof`.
   *
   * @name instanceof
   * @param {Constructor} constructor
   * @param {String} msg _optional_
   * @alias instanceOf
   * @namespace BDD
   * @api public
   */

  function assertInstanceOf (constructor, msg) {
    if (msg) flag(this, 'message', msg);

    var target = flag(this, 'object')
    var ssfi = flag(this, 'ssfi');
    var flagMsg = flag(this, 'message');

    try {
      var isInstanceOf = target instanceof constructor;
    } catch (err) {
      if (err instanceof TypeError) {
        flagMsg = flagMsg ? flagMsg + ': ' : '';
        throw new AssertionError(
          flagMsg + 'The instanceof assertion needs a constructor but '
            + _.type(constructor) + ' was given.',
          undefined,
          ssfi
        );
      }
      throw err;
    }

    var name = _.getName(constructor);
    if (name === null) {
      name = 'an unnamed constructor';
    }

    this.assert(
        isInstanceOf
      , 'expected #{this} to be an instance of ' + name
      , 'expected #{this} to not be an instance of ' + name
    );
  };

  Assertion.addMethod('instanceof', assertInstanceOf);
  Assertion.addMethod('instanceOf', assertInstanceOf);

  /**
   * ### .property(name[, val[, msg]])
   *
   * Asserts that the target has a property with the given key `name`.
   *
   *     expect({a: 1}).to.have.property('a');
   *
   * When `val` is provided, `.property` also asserts that the property's value
   * is equal to the given `val`.
   *
   *     expect({a: 1}).to.have.property('a', 1);
   *
   * By default, strict (`===`) equality is used. Add `.deep` earlier in the
   * chain to use deep equality instead. See the `deep-eql` project page for
   * info on the deep equality algorithm: https://github.com/chaijs/deep-eql.
   *
   *     // Target object deeply (but not strictly) has property `x: {a: 1}`
   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});
   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});
   *
   * The target's enumerable and non-enumerable properties are always included
   * in the search. By default, both own and inherited properties are included.
   * Add `.own` earlier in the chain to exclude inherited properties from the
   * search.
   *
   *     Object.prototype.b = 2;
   *
   *     expect({a: 1}).to.have.own.property('a');
   *     expect({a: 1}).to.have.own.property('a', 1);
   *     expect({a: 1}).to.have.property('b');
   *     expect({a: 1}).to.not.have.own.property('b');
   *
   * `.deep` and `.own` can be combined.
   *
   *     expect({x: {a: 1}}).to.have.deep.own.property('x', {a: 1});
   *
   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when
   * referencing nested properties.
   *
   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');
   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]', 'y');
   *
   * If `.` or `[]` are part of an actual property name, they can be escaped by
   * adding two backslashes before them.
   *
   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\.a.\\[b\\]');
   *
   * `.deep` and `.nested` can be combined.
   *
   *     expect({a: {b: [{c: 3}]}})
   *       .to.have.deep.nested.property('a.b[0]', {c: 3});
   *
   * `.own` and `.nested` cannot be combined.
   *
   * Add `.not` earlier in the chain to negate `.property`.
   *
   *     expect({a: 1}).to.not.have.property('b');
   *
   * However, it's dangerous to negate `.property` when providing `val`. The
   * problem is that it creates uncertain expectations by asserting that the
   * target either doesn't have a property with the given key `name`, or that it
   * does have a property with the given key `name` but its value isn't equal to
   * the given `val`. It's often best to identify the exact output that's
   * expected, and then write an assertion that only accepts that exact output.
   *
   * When the target isn't expected to have a property with the given key
   * `name`, it's often best to assert exactly that.
   *
   *     expect({b: 2}).to.not.have.property('a'); // Recommended
   *     expect({b: 2}).to.not.have.property('a', 1); // Not recommended
   *
   * When the target is expected to have a property with the given key `name`,
   * it's often best to assert that the property has its expected value, rather
   * than asserting that it doesn't have one of many unexpected values.
   *
   *     expect({a: 3}).to.have.property('a', 3); // Recommended
   *     expect({a: 3}).to.not.have.property('a', 1); // Not recommended
   *
   * `.property` changes the target of any assertions that follow in the chain
   * to be the value of the property from the original target object.
   *
   *     expect({a: 1}).to.have.property('a').that.is.a('number');
   *
   * `.property` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`. When not providing `val`, only use the
   * second form.
   *
   *     // Recommended
   *     expect({a: 1}).to.have.property('a', 2, 'nooo why fail??');
   *     expect({a: 1}, 'nooo why fail??').to.have.property('a', 2);
   *     expect({a: 1}, 'nooo why fail??').to.have.property('b');
   *
   *     // Not recommended
   *     expect({a: 1}).to.have.property('b', undefined, 'nooo why fail??');
   *
   * The above assertion isn't the same thing as not providing `val`. Instead,
   * it's asserting that the target object has a `b` property that's equal to
   * `undefined`.
   *
   * The assertions `.ownProperty` and `.haveOwnProperty` can be used
   * interchangeably with `.own.property`.
   *
   * @name property
   * @param {String} name
   * @param {Mixed} val (optional)
   * @param {String} msg _optional_
   * @returns value of property for chaining
   * @namespace BDD
   * @api public
   */

  function assertProperty (name, val, msg) {
    if (msg) flag(this, 'message', msg);

    var isNested = flag(this, 'nested')
      , isOwn = flag(this, 'own')
      , flagMsg = flag(this, 'message')
      , obj = flag(this, 'object')
      , ssfi = flag(this, 'ssfi')
      , nameType = typeof name;

    flagMsg = flagMsg ? flagMsg + ': ' : '';

    if (isNested) {
      if (nameType !== 'string') {
        throw new AssertionError(
          flagMsg + 'the argument to property must be a string when using nested syntax',
          undefined,
          ssfi
        );
      }
    } else {
      if (nameType !== 'string' && nameType !== 'number' && nameType !== 'symbol') {
        throw new AssertionError(
          flagMsg + 'the argument to property must be a string, number, or symbol',
          undefined,
          ssfi
        );
      }
    }

    if (isNested && isOwn) {
      throw new AssertionError(
        flagMsg + 'The "nested" and "own" flags cannot be combined.',
        undefined,
        ssfi
      );
    }

    if (obj === null || obj === undefined) {
      throw new AssertionError(
        flagMsg + 'Target cannot be null or undefined.',
        undefined,
        ssfi
      );
    }

    var isDeep = flag(this, 'deep')
      , negate = flag(this, 'negate')
      , pathInfo = isNested ? _.getPathInfo(obj, name) : null
      , value = isNested ? pathInfo.value : obj[name];

    var descriptor = '';
    if (isDeep) descriptor += 'deep ';
    if (isOwn) descriptor += 'own ';
    if (isNested) descriptor += 'nested ';
    descriptor += 'property ';

    var hasProperty;
    if (isOwn) hasProperty = Object.prototype.hasOwnProperty.call(obj, name);
    else if (isNested) hasProperty = pathInfo.exists;
    else hasProperty = _.hasProperty(obj, name);

    // When performing a negated assertion for both name and val, merely having
    // a property with the given name isn't enough to cause the assertion to
    // fail. It must both have a property with the given name, and the value of
    // that property must equal the given val. Therefore, skip this assertion in
    // favor of the next.
    if (!negate || arguments.length === 1) {
      this.assert(
          hasProperty
        , 'expected #{this} to have ' + descriptor + _.inspect(name)
        , 'expected #{this} to not have ' + descriptor + _.inspect(name));
    }

    if (arguments.length > 1) {
      this.assert(
          hasProperty && (isDeep ? _.eql(val, value) : val === value)
        , 'expected #{this} to have ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'
        , 'expected #{this} to not have ' + descriptor + _.inspect(name) + ' of #{act}'
        , val
        , value
      );
    }

    flag(this, 'object', value);
  }

  Assertion.addMethod('property', assertProperty);

  function assertOwnProperty (name, value, msg) {
    flag(this, 'own', true);
    assertProperty.apply(this, arguments);
  }

  Assertion.addMethod('ownProperty', assertOwnProperty);
  Assertion.addMethod('haveOwnProperty', assertOwnProperty);

  /**
   * ### .ownPropertyDescriptor(name[, descriptor[, msg]])
   *
   * Asserts that the target has its own property descriptor with the given key
   * `name`. Enumerable and non-enumerable properties are included in the
   * search.
   *
   *     expect({a: 1}).to.have.ownPropertyDescriptor('a');
   *
   * When `descriptor` is provided, `.ownPropertyDescriptor` also asserts that
   * the property's descriptor is deeply equal to the given `descriptor`. See
   * the `deep-eql` project page for info on the deep equality algorithm:
   * https://github.com/chaijs/deep-eql.
   *
   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 1,
   *     });
   *
   * Add `.not` earlier in the chain to negate `.ownPropertyDescriptor`.
   *
   *     expect({a: 1}).to.not.have.ownPropertyDescriptor('b');
   *
   * However, it's dangerous to negate `.ownPropertyDescriptor` when providing
   * a `descriptor`. The problem is that it creates uncertain expectations by
   * asserting that the target either doesn't have a property descriptor with
   * the given key `name`, or that it does have a property descriptor with the
   * given key `name` but its not deeply equal to the given `descriptor`. It's
   * often best to identify the exact output that's expected, and then write an
   * assertion that only accepts that exact output.
   *
   * When the target isn't expected to have a property descriptor with the given
   * key `name`, it's often best to assert exactly that.
   *
   *     // Recommended
   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a');
   *
   *     // Not recommended
   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 1,
   *     });
   *
   * When the target is expected to have a property descriptor with the given
   * key `name`, it's often best to assert that the property has its expected
   * descriptor, rather than asserting that it doesn't have one of many
   * unexpected descriptors.
   *
   *     // Recommended
   *     expect({a: 3}).to.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 3,
   *     });
   *
   *     // Not recommended
   *     expect({a: 3}).to.not.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 1,
   *     });
   *
   * `.ownPropertyDescriptor` changes the target of any assertions that follow
   * in the chain to be the value of the property descriptor from the original
   * target object.
   *
   *     expect({a: 1}).to.have.ownPropertyDescriptor('a')
   *       .that.has.property('enumerable', true);
   *
   * `.ownPropertyDescriptor` accepts an optional `msg` argument which is a
   * custom error message to show when the assertion fails. The message can also
   * be given as the second argument to `expect`. When not providing
   * `descriptor`, only use the second form.
   *
   *     // Recommended
   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 2,
   *     }, 'nooo why fail??');
   *
   *     // Recommended
   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('a', {
   *       configurable: true,
   *       enumerable: true,
   *       writable: true,
   *       value: 2,
   *     });
   *
   *     // Recommended
   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('b');
   *
   *     // Not recommended
   *     expect({a: 1})
   *       .to.have.ownPropertyDescriptor('b', undefined, 'nooo why fail??');
   *
   * The above assertion isn't the same thing as not providing `descriptor`.
   * Instead, it's asserting that the target object has a `b` property
   * descriptor that's deeply equal to `undefined`.
   *
   * The alias `.haveOwnPropertyDescriptor` can be used interchangeably with
   * `.ownPropertyDescriptor`.
   *
   * @name ownPropertyDescriptor
   * @alias haveOwnPropertyDescriptor
   * @param {String} name
   * @param {Object} descriptor _optional_
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertOwnPropertyDescriptor (name, descriptor, msg) {
    if (typeof descriptor === 'string') {
      msg = descriptor;
      descriptor = null;
    }
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object');
    var actualDescriptor = Object.getOwnPropertyDescriptor(Object(obj), name);
    if (actualDescriptor && descriptor) {
      this.assert(
          _.eql(descriptor, actualDescriptor)
        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to match ' + _.inspect(descriptor) + ', got ' + _.inspect(actualDescriptor)
        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to not match ' + _.inspect(descriptor)
        , descriptor
        , actualDescriptor
        , true
      );
    } else {
      this.assert(
          actualDescriptor
        , 'expected #{this} to have an own property descriptor for ' + _.inspect(name)
        , 'expected #{this} to not have an own property descriptor for ' + _.inspect(name)
      );
    }
    flag(this, 'object', actualDescriptor);
  }

  Assertion.addMethod('ownPropertyDescriptor', assertOwnPropertyDescriptor);
  Assertion.addMethod('haveOwnPropertyDescriptor', assertOwnPropertyDescriptor);

  /**
   * ### .lengthOf(n[, msg])
   *
   * Asserts that the target's `length` or `size` is equal to the given number
   * `n`.
   *
   *     expect([1, 2, 3]).to.have.lengthOf(3);
   *     expect('foo').to.have.lengthOf(3);
   *     expect(new Set([1, 2, 3])).to.have.lengthOf(3);
   *     expect(new Map([['a', 1], ['b', 2], ['c', 3]])).to.have.lengthOf(3);
   *
   * Add `.not` earlier in the chain to negate `.lengthOf`. However, it's often
   * best to assert that the target's `length` property is equal to its expected
   * value, rather than not equal to one of many unexpected values.
   *
   *     expect('foo').to.have.lengthOf(3); // Recommended
   *     expect('foo').to.not.have.lengthOf(4); // Not recommended
   *
   * `.lengthOf` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect([1, 2, 3]).to.have.lengthOf(2, 'nooo why fail??');
   *     expect([1, 2, 3], 'nooo why fail??').to.have.lengthOf(2);
   *
   * `.lengthOf` can also be used as a language chain, causing all `.above`,
   * `.below`, `.least`, `.most`, and `.within` assertions that follow in the
   * chain to use the target's `length` property as the target. However, it's
   * often best to assert that the target's `length` property is equal to its
   * expected length, rather than asserting that its `length` property falls
   * within some range of values.
   *
   *     // Recommended
   *     expect([1, 2, 3]).to.have.lengthOf(3);
   *
   *     // Not recommended
   *     expect([1, 2, 3]).to.have.lengthOf.above(2);
   *     expect([1, 2, 3]).to.have.lengthOf.below(4);
   *     expect([1, 2, 3]).to.have.lengthOf.at.least(3);
   *     expect([1, 2, 3]).to.have.lengthOf.at.most(3);
   *     expect([1, 2, 3]).to.have.lengthOf.within(2,4);
   *
   * Due to a compatibility issue, the alias `.length` can't be chained directly
   * off of an uninvoked method such as `.a`. Therefore, `.length` can't be used
   * interchangeably with `.lengthOf` in every situation. It's recommended to
   * always use `.lengthOf` instead of `.length`.
   *
   *     expect([1, 2, 3]).to.have.a.length(3); // incompatible; throws error
   *     expect([1, 2, 3]).to.have.a.lengthOf(3);  // passes as expected
   *
   * @name lengthOf
   * @alias length
   * @param {Number} n
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertLengthChain () {
    flag(this, 'doLength', true);
  }

  function assertLength (n, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , objType = _.type(obj).toLowerCase()
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi')
      , descriptor = 'length'
      , itemsCount;

    switch (objType) {
      case 'map':
      case 'set':
        descriptor = 'size';
        itemsCount = obj.size;
        break;
      default:
        new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');
        itemsCount = obj.length;
    }

    this.assert(
        itemsCount == n
      , 'expected #{this} to have a ' + descriptor + ' of #{exp} but got #{act}'
      , 'expected #{this} to not have a ' + descriptor + ' of #{act}'
      , n
      , itemsCount
    );
  }

  Assertion.addChainableMethod('length', assertLength, assertLengthChain);
  Assertion.addChainableMethod('lengthOf', assertLength, assertLengthChain);

  /**
   * ### .match(re[, msg])
   *
   * Asserts that the target matches the given regular expression `re`.
   *
   *     expect('foobar').to.match(/^foo/);
   *
   * Add `.not` earlier in the chain to negate `.match`.
   *
   *     expect('foobar').to.not.match(/taco/);
   *
   * `.match` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect('foobar').to.match(/taco/, 'nooo why fail??');
   *     expect('foobar', 'nooo why fail??').to.match(/taco/);
   *
   * The alias `.matches` can be used interchangeably with `.match`.
   *
   * @name match
   * @alias matches
   * @param {RegExp} re
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */
  function assertMatch(re, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object');
    this.assert(
        re.exec(obj)
      , 'expected #{this} to match ' + re
      , 'expected #{this} not to match ' + re
    );
  }

  Assertion.addMethod('match', assertMatch);
  Assertion.addMethod('matches', assertMatch);

  /**
   * ### .string(str[, msg])
   *
   * Asserts that the target string contains the given substring `str`.
   *
   *     expect('foobar').to.have.string('bar');
   *
   * Add `.not` earlier in the chain to negate `.string`.
   *
   *     expect('foobar').to.not.have.string('taco');
   *
   * `.string` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect('foobar').to.have.string('taco', 'nooo why fail??');
   *     expect('foobar', 'nooo why fail??').to.have.string('taco');
   *
   * @name string
   * @param {String} str
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  Assertion.addMethod('string', function (str, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');
    new Assertion(obj, flagMsg, ssfi, true).is.a('string');

    this.assert(
        ~obj.indexOf(str)
      , 'expected #{this} to contain ' + _.inspect(str)
      , 'expected #{this} to not contain ' + _.inspect(str)
    );
  });

  /**
   * ### .keys(key1[, key2[, ...]])
   *
   * Asserts that the target object, array, map, or set has the given keys. Only
   * the target's own inherited properties are included in the search.
   *
   * When the target is an object or array, keys can be provided as one or more
   * string arguments, a single array argument, or a single object argument. In
   * the latter case, only the keys in the given object matter; the values are
   * ignored.
   *
   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');
   *     expect(['x', 'y']).to.have.all.keys(0, 1);
   *
   *     expect({a: 1, b: 2}).to.have.all.keys(['a', 'b']);
   *     expect(['x', 'y']).to.have.all.keys([0, 1]);
   *
   *     expect({a: 1, b: 2}).to.have.all.keys({a: 4, b: 5}); // ignore 4 and 5
   *     expect(['x', 'y']).to.have.all.keys({0: 4, 1: 5}); // ignore 4 and 5
   *
   * When the target is a map or set, each key must be provided as a separate
   * argument.
   *
   *     expect(new Map([['a', 1], ['b', 2]])).to.have.all.keys('a', 'b');
   *     expect(new Set(['a', 'b'])).to.have.all.keys('a', 'b');
   *
   * Because `.keys` does different things based on the target's type, it's
   * important to check the target's type before using `.keys`. See the `.a` doc
   * for info on testing a target's type.
   *
   *     expect({a: 1, b: 2}).to.be.an('object').that.has.all.keys('a', 'b');
   *
   * By default, strict (`===`) equality is used to compare keys of maps and
   * sets. Add `.deep` earlier in the chain to use deep equality instead. See
   * the `deep-eql` project page for info on the deep equality algorithm:
   * https://github.com/chaijs/deep-eql.
   *
   *     // Target set deeply (but not strictly) has key `{a: 1}`
   *     expect(new Set([{a: 1}])).to.have.all.deep.keys([{a: 1}]);
   *     expect(new Set([{a: 1}])).to.not.have.all.keys([{a: 1}]);
   *
   * By default, the target must have all of the given keys and no more. Add
   * `.any` earlier in the chain to only require that the target have at least
   * one of the given keys. Also, add `.not` earlier in the chain to negate
   * `.keys`. It's often best to add `.any` when negating `.keys`, and to use
   * `.all` when asserting `.keys` without negation.
   *
   * When negating `.keys`, `.any` is preferred because `.not.any.keys` asserts
   * exactly what's expected of the output, whereas `.not.all.keys` creates
   * uncertain expectations.
   *
   *     // Recommended; asserts that target doesn't have any of the given keys
   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');
   *
   *     // Not recommended; asserts that target doesn't have all of the given
   *     // keys but may or may not have some of them
   *     expect({a: 1, b: 2}).to.not.have.all.keys('c', 'd');
   *
   * When asserting `.keys` without negation, `.all` is preferred because
   * `.all.keys` asserts exactly what's expected of the output, whereas
   * `.any.keys` creates uncertain expectations.
   *
   *     // Recommended; asserts that target has all the given keys
   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');
   *
   *     // Not recommended; asserts that target has at least one of the given
   *     // keys but may or may not have more of them
   *     expect({a: 1, b: 2}).to.have.any.keys('a', 'b');
   *
   * Note that `.all` is used by default when neither `.all` nor `.any` appear
   * earlier in the chain. However, it's often best to add `.all` anyway because
   * it improves readability.
   *
   *     // Both assertions are identical
   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b'); // Recommended
   *     expect({a: 1, b: 2}).to.have.keys('a', 'b'); // Not recommended
   *
   * Add `.include` earlier in the chain to require that the target's keys be a
   * superset of the expected keys, rather than identical sets.
   *
   *     // Target object's keys are a superset of ['a', 'b'] but not identical
   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');
   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');
   *
   * However, if `.any` and `.include` are combined, only the `.any` takes
   * effect. The `.include` is ignored in this case.
   *
   *     // Both assertions are identical
   *     expect({a: 1}).to.have.any.keys('a', 'b');
   *     expect({a: 1}).to.include.any.keys('a', 'b');
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect({a: 1}, 'nooo why fail??').to.have.key('b');
   *
   * The alias `.key` can be used interchangeably with `.keys`.
   *
   * @name keys
   * @alias key
   * @param {...String|Array|Object} keys
   * @namespace BDD
   * @api public
   */

  function assertKeys (keys) {
    var obj = flag(this, 'object')
      , objType = _.type(obj)
      , keysType = _.type(keys)
      , ssfi = flag(this, 'ssfi')
      , isDeep = flag(this, 'deep')
      , str
      , deepStr = ''
      , actual
      , ok = true
      , flagMsg = flag(this, 'message');

    flagMsg = flagMsg ? flagMsg + ': ' : '';
    var mixedArgsMsg = flagMsg + 'when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments';

    if (objType === 'Map' || objType === 'Set') {
      deepStr = isDeep ? 'deeply ' : '';
      actual = [];

      // Map and Set '.keys' aren't supported in IE 11. Therefore, use .forEach.
      obj.forEach(function (val, key) { actual.push(key) });

      if (keysType !== 'Array') {
        keys = Array.prototype.slice.call(arguments);
      }
    } else {
      actual = _.getOwnEnumerableProperties(obj);

      switch (keysType) {
        case 'Array':
          if (arguments.length > 1) {
            throw new AssertionError(mixedArgsMsg, undefined, ssfi);
          }
          break;
        case 'Object':
          if (arguments.length > 1) {
            throw new AssertionError(mixedArgsMsg, undefined, ssfi);
          }
          keys = Object.keys(keys);
          break;
        default:
          keys = Array.prototype.slice.call(arguments);
      }

      // Only stringify non-Symbols because Symbols would become "Symbol()"
      keys = keys.map(function (val) {
        return typeof val === 'symbol' ? val : String(val);
      });
    }

    if (!keys.length) {
      throw new AssertionError(flagMsg + 'keys required', undefined, ssfi);
    }

    var len = keys.length
      , any = flag(this, 'any')
      , all = flag(this, 'all')
      , expected = keys;

    if (!any && !all) {
      all = true;
    }

    // Has any
    if (any) {
      ok = expected.some(function(expectedKey) {
        return actual.some(function(actualKey) {
          if (isDeep) {
            return _.eql(expectedKey, actualKey);
          } else {
            return expectedKey === actualKey;
          }
        });
      });
    }

    // Has all
    if (all) {
      ok = expected.every(function(expectedKey) {
        return actual.some(function(actualKey) {
          if (isDeep) {
            return _.eql(expectedKey, actualKey);
          } else {
            return expectedKey === actualKey;
          }
        });
      });

      if (!flag(this, 'contains')) {
        ok = ok && keys.length == actual.length;
      }
    }

    // Key string
    if (len > 1) {
      keys = keys.map(function(key) {
        return _.inspect(key);
      });
      var last = keys.pop();
      if (all) {
        str = keys.join(', ') + ', and ' + last;
      }
      if (any) {
        str = keys.join(', ') + ', or ' + last;
      }
    } else {
      str = _.inspect(keys[0]);
    }

    // Form
    str = (len > 1 ? 'keys ' : 'key ') + str;

    // Have / include
    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;

    // Assertion
    this.assert(
        ok
      , 'expected #{this} to ' + deepStr + str
      , 'expected #{this} to not ' + deepStr + str
      , expected.slice(0).sort(_.compareByInspect)
      , actual.sort(_.compareByInspect)
      , true
    );
  }

  Assertion.addMethod('keys', assertKeys);
  Assertion.addMethod('key', assertKeys);

  /**
   * ### .throw([errorLike], [errMsgMatcher], [msg])
   *
   * When no arguments are provided, `.throw` invokes the target function and
   * asserts that an error is thrown.
   *
   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };
   *
   *     expect(badFn).to.throw();
   *
   * When one argument is provided, and it's an error constructor, `.throw`
   * invokes the target function and asserts that an error is thrown that's an
   * instance of that error constructor.
   *
   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };
   *
   *     expect(badFn).to.throw(TypeError);
   *
   * When one argument is provided, and it's an error instance, `.throw` invokes
   * the target function and asserts that an error is thrown that's strictly
   * (`===`) equal to that error instance.
   *
   *     var err = new TypeError('Illegal salmon!');
   *     var badFn = function () { throw err; };
   *
   *     expect(badFn).to.throw(err);
   *
   * When one argument is provided, and it's a string, `.throw` invokes the
   * target function and asserts that an error is thrown with a message that
   * contains that string.
   *
   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };
   *
   *     expect(badFn).to.throw('salmon');
   *
   * When one argument is provided, and it's a regular expression, `.throw`
   * invokes the target function and asserts that an error is thrown with a
   * message that matches that regular expression.
   *
   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };
   *
   *     expect(badFn).to.throw(/salmon/);
   *
   * When two arguments are provided, and the first is an error instance or
   * constructor, and the second is a string or regular expression, `.throw`
   * invokes the function and asserts that an error is thrown that fulfills both
   * conditions as described above.
   *
   *     var err = new TypeError('Illegal salmon!');
   *     var badFn = function () { throw err; };
   *
   *     expect(badFn).to.throw(TypeError, 'salmon');
   *     expect(badFn).to.throw(TypeError, /salmon/);
   *     expect(badFn).to.throw(err, 'salmon');
   *     expect(badFn).to.throw(err, /salmon/);
   *
   * Add `.not` earlier in the chain to negate `.throw`.
   *
   *     var goodFn = function () {};
   *
   *     expect(goodFn).to.not.throw();
   *
   * However, it's dangerous to negate `.throw` when providing any arguments.
   * The problem is that it creates uncertain expectations by asserting that the
   * target either doesn't throw an error, or that it throws an error but of a
   * different type than the given type, or that it throws an error of the given
   * type but with a message that doesn't include the given string. It's often
   * best to identify the exact output that's expected, and then write an
   * assertion that only accepts that exact output.
   *
   * When the target isn't expected to throw an error, it's often best to assert
   * exactly that.
   *
   *     var goodFn = function () {};
   *
   *     expect(goodFn).to.not.throw(); // Recommended
   *     expect(goodFn).to.not.throw(ReferenceError, 'x'); // Not recommended
   *
   * When the target is expected to throw an error, it's often best to assert
   * that the error is of its expected type, and has a message that includes an
   * expected string, rather than asserting that it doesn't have one of many
   * unexpected types, and doesn't have a message that includes some string.
   *
   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };
   *
   *     expect(badFn).to.throw(TypeError, 'salmon'); // Recommended
   *     expect(badFn).to.not.throw(ReferenceError, 'x'); // Not recommended
   *
   * `.throw` changes the target of any assertions that follow in the chain to
   * be the error object that's thrown.
   *
   *     var err = new TypeError('Illegal salmon!');
   *     err.code = 42;
   *     var badFn = function () { throw err; };
   *
   *     expect(badFn).to.throw(TypeError).with.property('code', 42);
   *
   * `.throw` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`. When not providing two arguments, always use
   * the second form.
   *
   *     var goodFn = function () {};
   *
   *     expect(goodFn).to.throw(TypeError, 'x', 'nooo why fail??');
   *     expect(goodFn, 'nooo why fail??').to.throw();
   *
   * Due to limitations in ES5, `.throw` may not always work as expected when
   * using a transpiler such as Babel or TypeScript. In particular, it may
   * produce unexpected results when subclassing the built-in `Error` object and
   * then passing the subclassed constructor to `.throw`. See your transpiler's
   * docs for details:
   *
   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))
   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))
   *
   * Beware of some common mistakes when using the `throw` assertion. One common
   * mistake is to accidentally invoke the function yourself instead of letting
   * the `throw` assertion invoke the function for you. For example, when
   * testing if a function named `fn` throws, provide `fn` instead of `fn()` as
   * the target for the assertion.
   *
   *     expect(fn).to.throw();     // Good! Tests `fn` as desired
   *     expect(fn()).to.throw();   // Bad! Tests result of `fn()`, not `fn`
   *
   * If you need to assert that your function `fn` throws when passed certain
   * arguments, then wrap a call to `fn` inside of another function.
   *
   *     expect(function () { fn(42); }).to.throw();  // Function expression
   *     expect(() => fn(42)).to.throw();             // ES6 arrow function
   *
   * Another common mistake is to provide an object method (or any stand-alone
   * function that relies on `this`) as the target of the assertion. Doing so is
   * problematic because the `this` context will be lost when the function is
   * invoked by `.throw`; there's no way for it to know what `this` is supposed
   * to be. There are two ways around this problem. One solution is to wrap the
   * method or function call inside of another function. Another solution is to
   * use `bind`.
   *
   *     expect(function () { cat.meow(); }).to.throw();  // Function expression
   *     expect(() => cat.meow()).to.throw();             // ES6 arrow function
   *     expect(cat.meow.bind(cat)).to.throw();           // Bind
   *
   * Finally, it's worth mentioning that it's a best practice in JavaScript to
   * only throw `Error` and derivatives of `Error` such as `ReferenceError`,
   * `TypeError`, and user-defined objects that extend `Error`. No other type of
   * value will generate a stack trace when initialized. With that said, the
   * `throw` assertion does technically support any type of value being thrown,
   * not just `Error` and its derivatives.
   *
   * The aliases `.throws` and `.Throw` can be used interchangeably with
   * `.throw`.
   *
   * @name throw
   * @alias throws
   * @alias Throw
   * @param {Error|ErrorConstructor} errorLike
   * @param {String|RegExp} errMsgMatcher error message
   * @param {String} msg _optional_
   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types
   * @returns error for chaining (null if no error)
   * @namespace BDD
   * @api public
   */

  function assertThrows (errorLike, errMsgMatcher, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , ssfi = flag(this, 'ssfi')
      , flagMsg = flag(this, 'message')
      , negate = flag(this, 'negate') || false;
    new Assertion(obj, flagMsg, ssfi, true).is.a('function');

    if (errorLike instanceof RegExp || typeof errorLike === 'string') {
      errMsgMatcher = errorLike;
      errorLike = null;
    }

    var caughtErr;
    try {
      obj();
    } catch (err) {
      caughtErr = err;
    }

    // If we have the negate flag enabled and at least one valid argument it means we do expect an error
    // but we want it to match a given set of criteria
    var everyArgIsUndefined = errorLike === undefined && errMsgMatcher === undefined;

    // If we've got the negate flag enabled and both args, we should only fail if both aren't compatible
    // See Issue #551 and PR #683@GitHub
    var everyArgIsDefined = Boolean(errorLike && errMsgMatcher);
    var errorLikeFail = false;
    var errMsgMatcherFail = false;

    // Checking if error was thrown
    if (everyArgIsUndefined || !everyArgIsUndefined && !negate) {
      // We need this to display results correctly according to their types
      var errorLikeString = 'an error';
      if (errorLike instanceof Error) {
        errorLikeString = '#{exp}';
      } else if (errorLike) {
        errorLikeString = _.checkError.getConstructorName(errorLike);
      }

      this.assert(
          caughtErr
        , 'expected #{this} to throw ' + errorLikeString
        , 'expected #{this} to not throw an error but #{act} was thrown'
        , errorLike && errorLike.toString()
        , (caughtErr instanceof Error ?
            caughtErr.toString() : (typeof caughtErr === 'string' ? caughtErr : caughtErr &&
                                    _.checkError.getConstructorName(caughtErr)))
      );
    }

    if (errorLike && caughtErr) {
      // We should compare instances only if `errorLike` is an instance of `Error`
      if (errorLike instanceof Error) {
        var isCompatibleInstance = _.checkError.compatibleInstance(caughtErr, errorLike);

        if (isCompatibleInstance === negate) {
          // These checks were created to ensure we won't fail too soon when we've got both args and a negate
          // See Issue #551 and PR #683@GitHub
          if (everyArgIsDefined && negate) {
            errorLikeFail = true;
          } else {
            this.assert(
                negate
              , 'expected #{this} to throw #{exp} but #{act} was thrown'
              , 'expected #{this} to not throw #{exp}' + (caughtErr && !negate ? ' but #{act} was thrown' : '')
              , errorLike.toString()
              , caughtErr.toString()
            );
          }
        }
      }

      var isCompatibleConstructor = _.checkError.compatibleConstructor(caughtErr, errorLike);
      if (isCompatibleConstructor === negate) {
        if (everyArgIsDefined && negate) {
            errorLikeFail = true;
        } else {
          this.assert(
              negate
            , 'expected #{this} to throw #{exp} but #{act} was thrown'
            , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')
            , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))
            , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))
          );
        }
      }
    }

    if (caughtErr && errMsgMatcher !== undefined && errMsgMatcher !== null) {
      // Here we check compatible messages
      var placeholder = 'including';
      if (errMsgMatcher instanceof RegExp) {
        placeholder = 'matching'
      }

      var isCompatibleMessage = _.checkError.compatibleMessage(caughtErr, errMsgMatcher);
      if (isCompatibleMessage === negate) {
        if (everyArgIsDefined && negate) {
            errMsgMatcherFail = true;
        } else {
          this.assert(
            negate
            , 'expected #{this} to throw error ' + placeholder + ' #{exp} but got #{act}'
            , 'expected #{this} to throw error not ' + placeholder + ' #{exp}'
            ,  errMsgMatcher
            ,  _.checkError.getMessage(caughtErr)
          );
        }
      }
    }

    // If both assertions failed and both should've matched we throw an error
    if (errorLikeFail && errMsgMatcherFail) {
      this.assert(
        negate
        , 'expected #{this} to throw #{exp} but #{act} was thrown'
        , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')
        , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))
        , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))
      );
    }

    flag(this, 'object', caughtErr);
  };

  Assertion.addMethod('throw', assertThrows);
  Assertion.addMethod('throws', assertThrows);
  Assertion.addMethod('Throw', assertThrows);

  /**
   * ### .respondTo(method[, msg])
   *
   * When the target is a non-function object, `.respondTo` asserts that the
   * target has a method with the given name `method`. The method can be own or
   * inherited, and it can be enumerable or non-enumerable.
   *
   *     function Cat () {}
   *     Cat.prototype.meow = function () {};
   *
   *     expect(new Cat()).to.respondTo('meow');
   *
   * When the target is a function, `.respondTo` asserts that the target's
   * `prototype` property has a method with the given name `method`. Again, the
   * method can be own or inherited, and it can be enumerable or non-enumerable.
   *
   *     function Cat () {}
   *     Cat.prototype.meow = function () {};
   *
   *     expect(Cat).to.respondTo('meow');
   *
   * Add `.itself` earlier in the chain to force `.respondTo` to treat the
   * target as a non-function object, even if it's a function. Thus, it asserts
   * that the target has a method with the given name `method`, rather than
   * asserting that the target's `prototype` property has a method with the
   * given name `method`.
   *
   *     function Cat () {}
   *     Cat.prototype.meow = function () {};
   *     Cat.hiss = function () {};
   *
   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');
   *
   * When not adding `.itself`, it's important to check the target's type before
   * using `.respondTo`. See the `.a` doc for info on checking a target's type.
   *
   *     function Cat () {}
   *     Cat.prototype.meow = function () {};
   *
   *     expect(new Cat()).to.be.an('object').that.respondsTo('meow');
   *
   * Add `.not` earlier in the chain to negate `.respondTo`.
   *
   *     function Dog () {}
   *     Dog.prototype.bark = function () {};
   *
   *     expect(new Dog()).to.not.respondTo('meow');
   *
   * `.respondTo` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect({}).to.respondTo('meow', 'nooo why fail??');
   *     expect({}, 'nooo why fail??').to.respondTo('meow');
   *
   * The alias `.respondsTo` can be used interchangeably with `.respondTo`.
   *
   * @name respondTo
   * @alias respondsTo
   * @param {String} method
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function respondTo (method, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , itself = flag(this, 'itself')
      , context = ('function' === typeof obj && !itself)
        ? obj.prototype[method]
        : obj[method];

    this.assert(
        'function' === typeof context
      , 'expected #{this} to respond to ' + _.inspect(method)
      , 'expected #{this} to not respond to ' + _.inspect(method)
    );
  }

  Assertion.addMethod('respondTo', respondTo);
  Assertion.addMethod('respondsTo', respondTo);

  /**
   * ### .itself
   *
   * Forces all `.respondTo` assertions that follow in the chain to behave as if
   * the target is a non-function object, even if it's a function. Thus, it
   * causes `.respondTo` to assert that the target has a method with the given
   * name, rather than asserting that the target's `prototype` property has a
   * method with the given name.
   *
   *     function Cat () {}
   *     Cat.prototype.meow = function () {};
   *     Cat.hiss = function () {};
   *
   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');
   *
   * @name itself
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('itself', function () {
    flag(this, 'itself', true);
  });

  /**
   * ### .satisfy(matcher[, msg])
   *
   * Invokes the given `matcher` function with the target being passed as the
   * first argument, and asserts that the value returned is truthy.
   *
   *     expect(1).to.satisfy(function(num) {
   *       return num > 0;
   *     });
   *
   * Add `.not` earlier in the chain to negate `.satisfy`.
   *
   *     expect(1).to.not.satisfy(function(num) {
   *       return num > 2;
   *     });
   *
   * `.satisfy` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect(1).to.satisfy(function(num) {
   *       return num > 2;
   *     }, 'nooo why fail??');
   *
   *     expect(1, 'nooo why fail??').to.satisfy(function(num) {
   *       return num > 2;
   *     });
   *
   * The alias `.satisfies` can be used interchangeably with `.satisfy`.
   *
   * @name satisfy
   * @alias satisfies
   * @param {Function} matcher
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function satisfy (matcher, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object');
    var result = matcher(obj);
    this.assert(
        result
      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)
      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)
      , flag(this, 'negate') ? false : true
      , result
    );
  }

  Assertion.addMethod('satisfy', satisfy);
  Assertion.addMethod('satisfies', satisfy);

  /**
   * ### .closeTo(expected, delta[, msg])
   *
   * Asserts that the target is a number that's within a given +/- `delta` range
   * of the given number `expected`. However, it's often best to assert that the
   * target is equal to its expected value.
   *
   *     // Recommended
   *     expect(1.5).to.equal(1.5);
   *
   *     // Not recommended
   *     expect(1.5).to.be.closeTo(1, 0.5);
   *     expect(1.5).to.be.closeTo(2, 0.5);
   *     expect(1.5).to.be.closeTo(1, 1);
   *
   * Add `.not` earlier in the chain to negate `.closeTo`.
   *
   *     expect(1.5).to.equal(1.5); // Recommended
   *     expect(1.5).to.not.be.closeTo(3, 1); // Not recommended
   *
   * `.closeTo` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect(1.5).to.be.closeTo(3, 1, 'nooo why fail??');
   *     expect(1.5, 'nooo why fail??').to.be.closeTo(3, 1);
   *
   * The alias `.approximately` can be used interchangeably with `.closeTo`.
   *
   * @name closeTo
   * @alias approximately
   * @param {Number} expected
   * @param {Number} delta
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function closeTo(expected, delta, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');

    new Assertion(obj, flagMsg, ssfi, true).is.a('number');
    if (typeof expected !== 'number' || typeof delta !== 'number') {
      flagMsg = flagMsg ? flagMsg + ': ' : '';
      var deltaMessage = delta === undefined ? ", and a delta is required" : "";
      throw new AssertionError(
          flagMsg + 'the arguments to closeTo or approximately must be numbers' + deltaMessage,
          undefined,
          ssfi
      );
    }

    this.assert(
        Math.abs(obj - expected) <= delta
      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta
      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta
    );
  }

  Assertion.addMethod('closeTo', closeTo);
  Assertion.addMethod('approximately', closeTo);

  // Note: Duplicates are ignored if testing for inclusion instead of sameness.
  function isSubsetOf(subset, superset, cmp, contains, ordered) {
    if (!contains) {
      if (subset.length !== superset.length) return false;
      superset = superset.slice();
    }

    return subset.every(function(elem, idx) {
      if (ordered) return cmp ? cmp(elem, superset[idx]) : elem === superset[idx];

      if (!cmp) {
        var matchIdx = superset.indexOf(elem);
        if (matchIdx === -1) return false;

        // Remove match from superset so not counted twice if duplicate in subset.
        if (!contains) superset.splice(matchIdx, 1);
        return true;
      }

      return superset.some(function(elem2, matchIdx) {
        if (!cmp(elem, elem2)) return false;

        // Remove match from superset so not counted twice if duplicate in subset.
        if (!contains) superset.splice(matchIdx, 1);
        return true;
      });
    });
  }

  /**
   * ### .members(set[, msg])
   *
   * Asserts that the target array has the same members as the given array
   * `set`.
   *
   *     expect([1, 2, 3]).to.have.members([2, 1, 3]);
   *     expect([1, 2, 2]).to.have.members([2, 1, 2]);
   *
   * By default, members are compared using strict (`===`) equality. Add `.deep`
   * earlier in the chain to use deep equality instead. See the `deep-eql`
   * project page for info on the deep equality algorithm:
   * https://github.com/chaijs/deep-eql.
   *
   *     // Target array deeply (but not strictly) has member `{a: 1}`
   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);
   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);
   *
   * By default, order doesn't matter. Add `.ordered` earlier in the chain to
   * require that members appear in the same order.
   *
   *     expect([1, 2, 3]).to.have.ordered.members([1, 2, 3]);
   *     expect([1, 2, 3]).to.have.members([2, 1, 3])
   *       .but.not.ordered.members([2, 1, 3]);
   *
   * By default, both arrays must be the same size. Add `.include` earlier in
   * the chain to require that the target's members be a superset of the
   * expected members. Note that duplicates are ignored in the subset when
   * `.include` is added.
   *
   *     // Target array is a superset of [1, 2] but not identical
   *     expect([1, 2, 3]).to.include.members([1, 2]);
   *     expect([1, 2, 3]).to.not.have.members([1, 2]);
   *
   *     // Duplicates in the subset are ignored
   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);
   *
   * `.deep`, `.ordered`, and `.include` can all be combined. However, if
   * `.include` and `.ordered` are combined, the ordering begins at the start of
   * both arrays.
   *
   *     expect([{a: 1}, {b: 2}, {c: 3}])
   *       .to.include.deep.ordered.members([{a: 1}, {b: 2}])
   *       .but.not.include.deep.ordered.members([{b: 2}, {c: 3}]);
   *
   * Add `.not` earlier in the chain to negate `.members`. However, it's
   * dangerous to do so. The problem is that it creates uncertain expectations
   * by asserting that the target array doesn't have all of the same members as
   * the given array `set` but may or may not have some of them. It's often best
   * to identify the exact output that's expected, and then write an assertion
   * that only accepts that exact output.
   *
   *     expect([1, 2]).to.not.include(3).and.not.include(4); // Recommended
   *     expect([1, 2]).to.not.have.members([3, 4]); // Not recommended
   *
   * `.members` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`.
   *
   *     expect([1, 2]).to.have.members([1, 2, 3], 'nooo why fail??');
   *     expect([1, 2], 'nooo why fail??').to.have.members([1, 2, 3]);
   *
   * @name members
   * @param {Array} set
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  Assertion.addMethod('members', function (subset, msg) {
    if (msg) flag(this, 'message', msg);
    var obj = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');

    new Assertion(obj, flagMsg, ssfi, true).to.be.an('array');
    new Assertion(subset, flagMsg, ssfi, true).to.be.an('array');

    var contains = flag(this, 'contains');
    var ordered = flag(this, 'ordered');

    var subject, failMsg, failNegateMsg;

    if (contains) {
      subject = ordered ? 'an ordered superset' : 'a superset';
      failMsg = 'expected #{this} to be ' + subject + ' of #{exp}';
      failNegateMsg = 'expected #{this} to not be ' + subject + ' of #{exp}';
    } else {
      subject = ordered ? 'ordered members' : 'members';
      failMsg = 'expected #{this} to have the same ' + subject + ' as #{exp}';
      failNegateMsg = 'expected #{this} to not have the same ' + subject + ' as #{exp}';
    }

    var cmp = flag(this, 'deep') ? _.eql : undefined;

    this.assert(
        isSubsetOf(subset, obj, cmp, contains, ordered)
      , failMsg
      , failNegateMsg
      , subset
      , obj
      , true
    );
  });

  /**
   * ### .oneOf(list[, msg])
   *
   * Asserts that the target is a member of the given array `list`. However,
   * it's often best to assert that the target is equal to its expected value.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.be.oneOf([1, 2, 3]); // Not recommended
   *
   * Comparisons are performed using strict (`===`) equality.
   *
   * Add `.not` earlier in the chain to negate `.oneOf`.
   *
   *     expect(1).to.equal(1); // Recommended
   *     expect(1).to.not.be.oneOf([2, 3, 4]); // Not recommended
   *
   * It can also be chained with `.contain` or `.include`, which will work with
   * both arrays and strings:
   *
   *     expect('Today is sunny').to.contain.oneOf(['sunny', 'cloudy'])
   *     expect('Today is rainy').to.not.contain.oneOf(['sunny', 'cloudy'])
   *     expect([1,2,3]).to.contain.oneOf([3,4,5])
   *     expect([1,2,3]).to.not.contain.oneOf([4,5,6])
   *
   * `.oneOf` accepts an optional `msg` argument which is a custom error message
   * to show when the assertion fails. The message can also be given as the
   * second argument to `expect`.
   *
   *     expect(1).to.be.oneOf([2, 3, 4], 'nooo why fail??');
   *     expect(1, 'nooo why fail??').to.be.oneOf([2, 3, 4]);
   *
   * @name oneOf
   * @param {Array<*>} list
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function oneOf (list, msg) {
    if (msg) flag(this, 'message', msg);
    var expected = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi')
      , contains = flag(this, 'contains')
      , isDeep = flag(this, 'deep');
    new Assertion(list, flagMsg, ssfi, true).to.be.an('array');

    if (contains) {
      this.assert(
        list.some(function(possibility) { return expected.indexOf(possibility) > -1 })
        , 'expected #{this} to contain one of #{exp}'
        , 'expected #{this} to not contain one of #{exp}'
        , list
        , expected
      );
    } else {
      if (isDeep) {
        this.assert(
          list.some(function(possibility) { return _.eql(expected, possibility) })
          , 'expected #{this} to deeply equal one of #{exp}'
          , 'expected #{this} to deeply equal one of #{exp}'
          , list
          , expected
        );
      } else {
        this.assert(
          list.indexOf(expected) > -1
          , 'expected #{this} to be one of #{exp}'
          , 'expected #{this} to not be one of #{exp}'
          , list
          , expected
        );
      }
    }
  }

  Assertion.addMethod('oneOf', oneOf);

  /**
   * ### .change(subject[, prop[, msg]])
   *
   * When one argument is provided, `.change` asserts that the given function
   * `subject` returns a different value when it's invoked before the target
   * function compared to when it's invoked afterward. However, it's often best
   * to assert that `subject` is equal to its expected value.
   *
   *     var dots = ''
   *       , addDot = function () { dots += '.'; }
   *       , getDots = function () { return dots; };
   *
   *     // Recommended
   *     expect(getDots()).to.equal('');
   *     addDot();
   *     expect(getDots()).to.equal('.');
   *
   *     // Not recommended
   *     expect(addDot).to.change(getDots);
   *
   * When two arguments are provided, `.change` asserts that the value of the
   * given object `subject`'s `prop` property is different before invoking the
   * target function compared to afterward.
   *
   *     var myObj = {dots: ''}
   *       , addDot = function () { myObj.dots += '.'; };
   *
   *     // Recommended
   *     expect(myObj).to.have.property('dots', '');
   *     addDot();
   *     expect(myObj).to.have.property('dots', '.');
   *
   *     // Not recommended
   *     expect(addDot).to.change(myObj, 'dots');
   *
   * Strict (`===`) equality is used to compare before and after values.
   *
   * Add `.not` earlier in the chain to negate `.change`.
   *
   *     var dots = ''
   *       , noop = function () {}
   *       , getDots = function () { return dots; };
   *
   *     expect(noop).to.not.change(getDots);
   *
   *     var myObj = {dots: ''}
   *       , noop = function () {};
   *
   *     expect(noop).to.not.change(myObj, 'dots');
   *
   * `.change` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`. When not providing two arguments, always
   * use the second form.
   *
   *     var myObj = {dots: ''}
   *       , addDot = function () { myObj.dots += '.'; };
   *
   *     expect(addDot).to.not.change(myObj, 'dots', 'nooo why fail??');
   *
   *     var dots = ''
   *       , addDot = function () { dots += '.'; }
   *       , getDots = function () { return dots; };
   *
   *     expect(addDot, 'nooo why fail??').to.not.change(getDots);
   *
   * `.change` also causes all `.by` assertions that follow in the chain to
   * assert how much a numeric subject was increased or decreased by. However,
   * it's dangerous to use `.change.by`. The problem is that it creates
   * uncertain expectations by asserting that the subject either increases by
   * the given delta, or that it decreases by the given delta. It's often best
   * to identify the exact output that's expected, and then write an assertion
   * that only accepts that exact output.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; }
   *       , subtractTwo = function () { myObj.val -= 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended
   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended
   *
   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended
   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended
   *
   * The alias `.changes` can be used interchangeably with `.change`.
   *
   * @name change
   * @alias changes
   * @param {String} subject
   * @param {String} prop name _optional_
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertChanges (subject, prop, msg) {
    if (msg) flag(this, 'message', msg);
    var fn = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');
    new Assertion(fn, flagMsg, ssfi, true).is.a('function');

    var initial;
    if (!prop) {
      new Assertion(subject, flagMsg, ssfi, true).is.a('function');
      initial = subject();
    } else {
      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
      initial = subject[prop];
    }

    fn();

    var final = prop === undefined || prop === null ? subject() : subject[prop];
    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;

    // This gets flagged because of the .by(delta) assertion
    flag(this, 'deltaMsgObj', msgObj);
    flag(this, 'initialDeltaValue', initial);
    flag(this, 'finalDeltaValue', final);
    flag(this, 'deltaBehavior', 'change');
    flag(this, 'realDelta', final !== initial);

    this.assert(
      initial !== final
      , 'expected ' + msgObj + ' to change'
      , 'expected ' + msgObj + ' to not change'
    );
  }

  Assertion.addMethod('change', assertChanges);
  Assertion.addMethod('changes', assertChanges);

  /**
   * ### .increase(subject[, prop[, msg]])
   *
   * When one argument is provided, `.increase` asserts that the given function
   * `subject` returns a greater number when it's invoked after invoking the
   * target function compared to when it's invoked beforehand. `.increase` also
   * causes all `.by` assertions that follow in the chain to assert how much
   * greater of a number is returned. It's often best to assert that the return
   * value increased by the expected amount, rather than asserting it increased
   * by any amount.
   *
   *     var val = 1
   *       , addTwo = function () { val += 2; }
   *       , getVal = function () { return val; };
   *
   *     expect(addTwo).to.increase(getVal).by(2); // Recommended
   *     expect(addTwo).to.increase(getVal); // Not recommended
   *
   * When two arguments are provided, `.increase` asserts that the value of the
   * given object `subject`'s `prop` property is greater after invoking the
   * target function compared to beforehand.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended
   *     expect(addTwo).to.increase(myObj, 'val'); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.increase`. However, it's
   * dangerous to do so. The problem is that it creates uncertain expectations
   * by asserting that the subject either decreases, or that it stays the same.
   * It's often best to identify the exact output that's expected, and then
   * write an assertion that only accepts that exact output.
   *
   * When the subject is expected to decrease, it's often best to assert that it
   * decreased by the expected amount.
   *
   *     var myObj = {val: 1}
   *       , subtractTwo = function () { myObj.val -= 2; };
   *
   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended
   *     expect(subtractTwo).to.not.increase(myObj, 'val'); // Not recommended
   *
   * When the subject is expected to stay the same, it's often best to assert
   * exactly that.
   *
   *     var myObj = {val: 1}
   *       , noop = function () {};
   *
   *     expect(noop).to.not.change(myObj, 'val'); // Recommended
   *     expect(noop).to.not.increase(myObj, 'val'); // Not recommended
   *
   * `.increase` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`. When not providing two arguments, always
   * use the second form.
   *
   *     var myObj = {val: 1}
   *       , noop = function () {};
   *
   *     expect(noop).to.increase(myObj, 'val', 'nooo why fail??');
   *
   *     var val = 1
   *       , noop = function () {}
   *       , getVal = function () { return val; };
   *
   *     expect(noop, 'nooo why fail??').to.increase(getVal);
   *
   * The alias `.increases` can be used interchangeably with `.increase`.
   *
   * @name increase
   * @alias increases
   * @param {String|Function} subject
   * @param {String} prop name _optional_
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertIncreases (subject, prop, msg) {
    if (msg) flag(this, 'message', msg);
    var fn = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');
    new Assertion(fn, flagMsg, ssfi, true).is.a('function');

    var initial;
    if (!prop) {
      new Assertion(subject, flagMsg, ssfi, true).is.a('function');
      initial = subject();
    } else {
      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
      initial = subject[prop];
    }

    // Make sure that the target is a number
    new Assertion(initial, flagMsg, ssfi, true).is.a('number');

    fn();

    var final = prop === undefined || prop === null ? subject() : subject[prop];
    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;

    flag(this, 'deltaMsgObj', msgObj);
    flag(this, 'initialDeltaValue', initial);
    flag(this, 'finalDeltaValue', final);
    flag(this, 'deltaBehavior', 'increase');
    flag(this, 'realDelta', final - initial);

    this.assert(
      final - initial > 0
      , 'expected ' + msgObj + ' to increase'
      , 'expected ' + msgObj + ' to not increase'
    );
  }

  Assertion.addMethod('increase', assertIncreases);
  Assertion.addMethod('increases', assertIncreases);

  /**
   * ### .decrease(subject[, prop[, msg]])
   *
   * When one argument is provided, `.decrease` asserts that the given function
   * `subject` returns a lesser number when it's invoked after invoking the
   * target function compared to when it's invoked beforehand. `.decrease` also
   * causes all `.by` assertions that follow in the chain to assert how much
   * lesser of a number is returned. It's often best to assert that the return
   * value decreased by the expected amount, rather than asserting it decreased
   * by any amount.
   *
   *     var val = 1
   *       , subtractTwo = function () { val -= 2; }
   *       , getVal = function () { return val; };
   *
   *     expect(subtractTwo).to.decrease(getVal).by(2); // Recommended
   *     expect(subtractTwo).to.decrease(getVal); // Not recommended
   *
   * When two arguments are provided, `.decrease` asserts that the value of the
   * given object `subject`'s `prop` property is lesser after invoking the
   * target function compared to beforehand.
   *
   *     var myObj = {val: 1}
   *       , subtractTwo = function () { myObj.val -= 2; };
   *
   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended
   *     expect(subtractTwo).to.decrease(myObj, 'val'); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.decrease`. However, it's
   * dangerous to do so. The problem is that it creates uncertain expectations
   * by asserting that the subject either increases, or that it stays the same.
   * It's often best to identify the exact output that's expected, and then
   * write an assertion that only accepts that exact output.
   *
   * When the subject is expected to increase, it's often best to assert that it
   * increased by the expected amount.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended
   *     expect(addTwo).to.not.decrease(myObj, 'val'); // Not recommended
   *
   * When the subject is expected to stay the same, it's often best to assert
   * exactly that.
   *
   *     var myObj = {val: 1}
   *       , noop = function () {};
   *
   *     expect(noop).to.not.change(myObj, 'val'); // Recommended
   *     expect(noop).to.not.decrease(myObj, 'val'); // Not recommended
   *
   * `.decrease` accepts an optional `msg` argument which is a custom error
   * message to show when the assertion fails. The message can also be given as
   * the second argument to `expect`. When not providing two arguments, always
   * use the second form.
   *
   *     var myObj = {val: 1}
   *       , noop = function () {};
   *
   *     expect(noop).to.decrease(myObj, 'val', 'nooo why fail??');
   *
   *     var val = 1
   *       , noop = function () {}
   *       , getVal = function () { return val; };
   *
   *     expect(noop, 'nooo why fail??').to.decrease(getVal);
   *
   * The alias `.decreases` can be used interchangeably with `.decrease`.
   *
   * @name decrease
   * @alias decreases
   * @param {String|Function} subject
   * @param {String} prop name _optional_
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertDecreases (subject, prop, msg) {
    if (msg) flag(this, 'message', msg);
    var fn = flag(this, 'object')
      , flagMsg = flag(this, 'message')
      , ssfi = flag(this, 'ssfi');
    new Assertion(fn, flagMsg, ssfi, true).is.a('function');

    var initial;
    if (!prop) {
      new Assertion(subject, flagMsg, ssfi, true).is.a('function');
      initial = subject();
    } else {
      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);
      initial = subject[prop];
    }

    // Make sure that the target is a number
    new Assertion(initial, flagMsg, ssfi, true).is.a('number');

    fn();

    var final = prop === undefined || prop === null ? subject() : subject[prop];
    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;

    flag(this, 'deltaMsgObj', msgObj);
    flag(this, 'initialDeltaValue', initial);
    flag(this, 'finalDeltaValue', final);
    flag(this, 'deltaBehavior', 'decrease');
    flag(this, 'realDelta', initial - final);

    this.assert(
      final - initial < 0
      , 'expected ' + msgObj + ' to decrease'
      , 'expected ' + msgObj + ' to not decrease'
    );
  }

  Assertion.addMethod('decrease', assertDecreases);
  Assertion.addMethod('decreases', assertDecreases);

  /**
   * ### .by(delta[, msg])
   *
   * When following an `.increase` assertion in the chain, `.by` asserts that
   * the subject of the `.increase` assertion increased by the given `delta`.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(2);
   *
   * When following a `.decrease` assertion in the chain, `.by` asserts that the
   * subject of the `.decrease` assertion decreased by the given `delta`.
   *
   *     var myObj = {val: 1}
   *       , subtractTwo = function () { myObj.val -= 2; };
   *
   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2);
   *
   * When following a `.change` assertion in the chain, `.by` asserts that the
   * subject of the `.change` assertion either increased or decreased by the
   * given `delta`. However, it's dangerous to use `.change.by`. The problem is
   * that it creates uncertain expectations. It's often best to identify the
   * exact output that's expected, and then write an assertion that only accepts
   * that exact output.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; }
   *       , subtractTwo = function () { myObj.val -= 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended
   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended
   *
   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended
   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended
   *
   * Add `.not` earlier in the chain to negate `.by`. However, it's often best
   * to assert that the subject changed by its expected delta, rather than
   * asserting that it didn't change by one of countless unexpected deltas.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; };
   *
   *     // Recommended
   *     expect(addTwo).to.increase(myObj, 'val').by(2);
   *
   *     // Not recommended
   *     expect(addTwo).to.increase(myObj, 'val').but.not.by(3);
   *
   * `.by` accepts an optional `msg` argument which is a custom error message to
   * show when the assertion fails. The message can also be given as the second
   * argument to `expect`.
   *
   *     var myObj = {val: 1}
   *       , addTwo = function () { myObj.val += 2; };
   *
   *     expect(addTwo).to.increase(myObj, 'val').by(3, 'nooo why fail??');
   *     expect(addTwo, 'nooo why fail??').to.increase(myObj, 'val').by(3);
   *
   * @name by
   * @param {Number} delta
   * @param {String} msg _optional_
   * @namespace BDD
   * @api public
   */

  function assertDelta(delta, msg) {
    if (msg) flag(this, 'message', msg);

    var msgObj = flag(this, 'deltaMsgObj');
    var initial = flag(this, 'initialDeltaValue');
    var final = flag(this, 'finalDeltaValue');
    var behavior = flag(this, 'deltaBehavior');
    var realDelta = flag(this, 'realDelta');

    var expression;
    if (behavior === 'change') {
      expression = Math.abs(final - initial) === Math.abs(delta);
    } else {
      expression = realDelta === Math.abs(delta);
    }

    this.assert(
      expression
      , 'expected ' + msgObj + ' to ' + behavior + ' by ' + delta
      , 'expected ' + msgObj + ' to not ' + behavior + ' by ' + delta
    );
  }

  Assertion.addMethod('by', assertDelta);

  /**
   * ### .extensible
   *
   * Asserts that the target is extensible, which means that new properties can
   * be added to it. Primitives are never extensible.
   *
   *     expect({a: 1}).to.be.extensible;
   *
   * Add `.not` earlier in the chain to negate `.extensible`.
   *
   *     var nonExtensibleObject = Object.preventExtensions({})
   *       , sealedObject = Object.seal({})
   *       , frozenObject = Object.freeze({});
   *
   *     expect(nonExtensibleObject).to.not.be.extensible;
   *     expect(sealedObject).to.not.be.extensible;
   *     expect(frozenObject).to.not.be.extensible;
   *     expect(1).to.not.be.extensible;
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect(1, 'nooo why fail??').to.be.extensible;
   *
   * @name extensible
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('extensible', function() {
    var obj = flag(this, 'object');

    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.
    // In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible
    // The following provides ES6 behavior for ES5 environments.

    var isExtensible = obj === Object(obj) && Object.isExtensible(obj);

    this.assert(
      isExtensible
      , 'expected #{this} to be extensible'
      , 'expected #{this} to not be extensible'
    );
  });

  /**
   * ### .sealed
   *
   * Asserts that the target is sealed, which means that new properties can't be
   * added to it, and its existing properties can't be reconfigured or deleted.
   * However, it's possible that its existing properties can still be reassigned
   * to different values. Primitives are always sealed.
   *
   *     var sealedObject = Object.seal({});
   *     var frozenObject = Object.freeze({});
   *
   *     expect(sealedObject).to.be.sealed;
   *     expect(frozenObject).to.be.sealed;
   *     expect(1).to.be.sealed;
   *
   * Add `.not` earlier in the chain to negate `.sealed`.
   *
   *     expect({a: 1}).to.not.be.sealed;
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect({a: 1}, 'nooo why fail??').to.be.sealed;
   *
   * @name sealed
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('sealed', function() {
    var obj = flag(this, 'object');

    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.
    // In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.
    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed
    // The following provides ES6 behavior for ES5 environments.

    var isSealed = obj === Object(obj) ? Object.isSealed(obj) : true;

    this.assert(
      isSealed
      , 'expected #{this} to be sealed'
      , 'expected #{this} to not be sealed'
    );
  });

  /**
   * ### .frozen
   *
   * Asserts that the target is frozen, which means that new properties can't be
   * added to it, and its existing properties can't be reassigned to different
   * values, reconfigured, or deleted. Primitives are always frozen.
   *
   *     var frozenObject = Object.freeze({});
   *
   *     expect(frozenObject).to.be.frozen;
   *     expect(1).to.be.frozen;
   *
   * Add `.not` earlier in the chain to negate `.frozen`.
   *
   *     expect({a: 1}).to.not.be.frozen;
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect({a: 1}, 'nooo why fail??').to.be.frozen;
   *
   * @name frozen
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('frozen', function() {
    var obj = flag(this, 'object');

    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.
    // In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.
    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen
    // The following provides ES6 behavior for ES5 environments.

    var isFrozen = obj === Object(obj) ? Object.isFrozen(obj) : true;

    this.assert(
      isFrozen
      , 'expected #{this} to be frozen'
      , 'expected #{this} to not be frozen'
    );
  });

  /**
   * ### .finite
   *
   * Asserts that the target is a number, and isn't `NaN` or positive/negative
   * `Infinity`.
   *
   *     expect(1).to.be.finite;
   *
   * Add `.not` earlier in the chain to negate `.finite`. However, it's
   * dangerous to do so. The problem is that it creates uncertain expectations
   * by asserting that the subject either isn't a number, or that it's `NaN`, or
   * that it's positive `Infinity`, or that it's negative `Infinity`. It's often
   * best to identify the exact output that's expected, and then write an
   * assertion that only accepts that exact output.
   *
   * When the target isn't expected to be a number, it's often best to assert
   * that it's the expected type, rather than asserting that it isn't one of
   * many unexpected types.
   *
   *     expect('foo').to.be.a('string'); // Recommended
   *     expect('foo').to.not.be.finite; // Not recommended
   *
   * When the target is expected to be `NaN`, it's often best to assert exactly
   * that.
   *
   *     expect(NaN).to.be.NaN; // Recommended
   *     expect(NaN).to.not.be.finite; // Not recommended
   *
   * When the target is expected to be positive infinity, it's often best to
   * assert exactly that.
   *
   *     expect(Infinity).to.equal(Infinity); // Recommended
   *     expect(Infinity).to.not.be.finite; // Not recommended
   *
   * When the target is expected to be negative infinity, it's often best to
   * assert exactly that.
   *
   *     expect(-Infinity).to.equal(-Infinity); // Recommended
   *     expect(-Infinity).to.not.be.finite; // Not recommended
   *
   * A custom error message can be given as the second argument to `expect`.
   *
   *     expect('foo', 'nooo why fail??').to.be.finite;
   *
   * @name finite
   * @namespace BDD
   * @api public
   */

  Assertion.addProperty('finite', function(msg) {
    var obj = flag(this, 'object');

    this.assert(
        typeof obj === 'number' && isFinite(obj)
      , 'expected #{this} to be a finite number'
      , 'expected #{this} to not be a finite number'
    );
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/interface/assert.js":
/*!********************************************************!*\
  !*** ./node_modules/chai/lib/chai/interface/assert.js ***!
  \********************************************************/
/***/ ((module) => {

/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

module.exports = function (chai, util) {
  /*!
   * Chai dependencies.
   */

  var Assertion = chai.Assertion
    , flag = util.flag;

  /*!
   * Module export.
   */

  /**
   * ### assert(expression, message)
   *
   * Write your own test expressions.
   *
   *     assert('foo' !== 'bar', 'foo is not bar');
   *     assert(Array.isArray([]), 'empty arrays are arrays');
   *
   * @param {Mixed} expression to test for truthiness
   * @param {String} message to display on error
   * @name assert
   * @namespace Assert
   * @api public
   */

  var assert = chai.assert = function (express, errmsg) {
    var test = new Assertion(null, null, chai.assert, true);
    test.assert(
        express
      , errmsg
      , '[ negation message unavailable ]'
    );
  };

  /**
   * ### .fail([message])
   * ### .fail(actual, expected, [message], [operator])
   *
   * Throw a failure. Node.js `assert` module-compatible.
   *
   *     assert.fail();
   *     assert.fail("custom error message");
   *     assert.fail(1, 2);
   *     assert.fail(1, 2, "custom error message");
   *     assert.fail(1, 2, "custom error message", ">");
   *     assert.fail(1, 2, undefined, ">");
   *
   * @name fail
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @param {String} operator
   * @namespace Assert
   * @api public
   */

  assert.fail = function (actual, expected, message, operator) {
    if (arguments.length < 2) {
        // Comply with Node's fail([message]) interface

        message = actual;
        actual = undefined;
    }

    message = message || 'assert.fail()';
    throw new chai.AssertionError(message, {
        actual: actual
      , expected: expected
      , operator: operator
    }, assert.fail);
  };

  /**
   * ### .isOk(object, [message])
   *
   * Asserts that `object` is truthy.
   *
   *     assert.isOk('everything', 'everything is ok');
   *     assert.isOk(false, 'this will fail');
   *
   * @name isOk
   * @alias ok
   * @param {Mixed} object to test
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isOk = function (val, msg) {
    new Assertion(val, msg, assert.isOk, true).is.ok;
  };

  /**
   * ### .isNotOk(object, [message])
   *
   * Asserts that `object` is falsy.
   *
   *     assert.isNotOk('everything', 'this will fail');
   *     assert.isNotOk(false, 'this will pass');
   *
   * @name isNotOk
   * @alias notOk
   * @param {Mixed} object to test
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotOk = function (val, msg) {
    new Assertion(val, msg, assert.isNotOk, true).is.not.ok;
  };

  /**
   * ### .equal(actual, expected, [message])
   *
   * Asserts non-strict equality (`==`) of `actual` and `expected`.
   *
   *     assert.equal(3, '3', '== coerces values to strings');
   *
   * @name equal
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.equal = function (act, exp, msg) {
    var test = new Assertion(act, msg, assert.equal, true);

    test.assert(
        exp == flag(test, 'object')
      , 'expected #{this} to equal #{exp}'
      , 'expected #{this} to not equal #{act}'
      , exp
      , act
      , true
    );
  };

  /**
   * ### .notEqual(actual, expected, [message])
   *
   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.
   *
   *     assert.notEqual(3, 4, 'these numbers are not equal');
   *
   * @name notEqual
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notEqual = function (act, exp, msg) {
    var test = new Assertion(act, msg, assert.notEqual, true);

    test.assert(
        exp != flag(test, 'object')
      , 'expected #{this} to not equal #{exp}'
      , 'expected #{this} to equal #{act}'
      , exp
      , act
      , true
    );
  };

  /**
   * ### .strictEqual(actual, expected, [message])
   *
   * Asserts strict equality (`===`) of `actual` and `expected`.
   *
   *     assert.strictEqual(true, true, 'these booleans are strictly equal');
   *
   * @name strictEqual
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.strictEqual = function (act, exp, msg) {
    new Assertion(act, msg, assert.strictEqual, true).to.equal(exp);
  };

  /**
   * ### .notStrictEqual(actual, expected, [message])
   *
   * Asserts strict inequality (`!==`) of `actual` and `expected`.
   *
   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');
   *
   * @name notStrictEqual
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notStrictEqual = function (act, exp, msg) {
    new Assertion(act, msg, assert.notStrictEqual, true).to.not.equal(exp);
  };

  /**
   * ### .deepEqual(actual, expected, [message])
   *
   * Asserts that `actual` is deeply equal to `expected`.
   *
   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });
   *
   * @name deepEqual
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @alias deepStrictEqual
   * @namespace Assert
   * @api public
   */

  assert.deepEqual = assert.deepStrictEqual = function (act, exp, msg) {
    new Assertion(act, msg, assert.deepEqual, true).to.eql(exp);
  };

  /**
   * ### .notDeepEqual(actual, expected, [message])
   *
   * Assert that `actual` is not deeply equal to `expected`.
   *
   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });
   *
   * @name notDeepEqual
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepEqual = function (act, exp, msg) {
    new Assertion(act, msg, assert.notDeepEqual, true).to.not.eql(exp);
  };

   /**
   * ### .isAbove(valueToCheck, valueToBeAbove, [message])
   *
   * Asserts `valueToCheck` is strictly greater than (>) `valueToBeAbove`.
   *
   *     assert.isAbove(5, 2, '5 is strictly greater than 2');
   *
   * @name isAbove
   * @param {Mixed} valueToCheck
   * @param {Mixed} valueToBeAbove
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isAbove = function (val, abv, msg) {
    new Assertion(val, msg, assert.isAbove, true).to.be.above(abv);
  };

   /**
   * ### .isAtLeast(valueToCheck, valueToBeAtLeast, [message])
   *
   * Asserts `valueToCheck` is greater than or equal to (>=) `valueToBeAtLeast`.
   *
   *     assert.isAtLeast(5, 2, '5 is greater or equal to 2');
   *     assert.isAtLeast(3, 3, '3 is greater or equal to 3');
   *
   * @name isAtLeast
   * @param {Mixed} valueToCheck
   * @param {Mixed} valueToBeAtLeast
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isAtLeast = function (val, atlst, msg) {
    new Assertion(val, msg, assert.isAtLeast, true).to.be.least(atlst);
  };

   /**
   * ### .isBelow(valueToCheck, valueToBeBelow, [message])
   *
   * Asserts `valueToCheck` is strictly less than (<) `valueToBeBelow`.
   *
   *     assert.isBelow(3, 6, '3 is strictly less than 6');
   *
   * @name isBelow
   * @param {Mixed} valueToCheck
   * @param {Mixed} valueToBeBelow
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isBelow = function (val, blw, msg) {
    new Assertion(val, msg, assert.isBelow, true).to.be.below(blw);
  };

   /**
   * ### .isAtMost(valueToCheck, valueToBeAtMost, [message])
   *
   * Asserts `valueToCheck` is less than or equal to (<=) `valueToBeAtMost`.
   *
   *     assert.isAtMost(3, 6, '3 is less than or equal to 6');
   *     assert.isAtMost(4, 4, '4 is less than or equal to 4');
   *
   * @name isAtMost
   * @param {Mixed} valueToCheck
   * @param {Mixed} valueToBeAtMost
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isAtMost = function (val, atmst, msg) {
    new Assertion(val, msg, assert.isAtMost, true).to.be.most(atmst);
  };

  /**
   * ### .isTrue(value, [message])
   *
   * Asserts that `value` is true.
   *
   *     var teaServed = true;
   *     assert.isTrue(teaServed, 'the tea has been served');
   *
   * @name isTrue
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isTrue = function (val, msg) {
    new Assertion(val, msg, assert.isTrue, true).is['true'];
  };

  /**
   * ### .isNotTrue(value, [message])
   *
   * Asserts that `value` is not true.
   *
   *     var tea = 'tasty chai';
   *     assert.isNotTrue(tea, 'great, time for tea!');
   *
   * @name isNotTrue
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotTrue = function (val, msg) {
    new Assertion(val, msg, assert.isNotTrue, true).to.not.equal(true);
  };

  /**
   * ### .isFalse(value, [message])
   *
   * Asserts that `value` is false.
   *
   *     var teaServed = false;
   *     assert.isFalse(teaServed, 'no tea yet? hmm...');
   *
   * @name isFalse
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isFalse = function (val, msg) {
    new Assertion(val, msg, assert.isFalse, true).is['false'];
  };

  /**
   * ### .isNotFalse(value, [message])
   *
   * Asserts that `value` is not false.
   *
   *     var tea = 'tasty chai';
   *     assert.isNotFalse(tea, 'great, time for tea!');
   *
   * @name isNotFalse
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotFalse = function (val, msg) {
    new Assertion(val, msg, assert.isNotFalse, true).to.not.equal(false);
  };

  /**
   * ### .isNull(value, [message])
   *
   * Asserts that `value` is null.
   *
   *     assert.isNull(err, 'there was no error');
   *
   * @name isNull
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNull = function (val, msg) {
    new Assertion(val, msg, assert.isNull, true).to.equal(null);
  };

  /**
   * ### .isNotNull(value, [message])
   *
   * Asserts that `value` is not null.
   *
   *     var tea = 'tasty chai';
   *     assert.isNotNull(tea, 'great, time for tea!');
   *
   * @name isNotNull
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotNull = function (val, msg) {
    new Assertion(val, msg, assert.isNotNull, true).to.not.equal(null);
  };

  /**
   * ### .isNaN
   *
   * Asserts that value is NaN.
   *
   *     assert.isNaN(NaN, 'NaN is NaN');
   *
   * @name isNaN
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNaN = function (val, msg) {
    new Assertion(val, msg, assert.isNaN, true).to.be.NaN;
  };

  /**
   * ### .isNotNaN
   *
   * Asserts that value is not NaN.
   *
   *     assert.isNotNaN(4, '4 is not NaN');
   *
   * @name isNotNaN
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */
  assert.isNotNaN = function (val, msg) {
    new Assertion(val, msg, assert.isNotNaN, true).not.to.be.NaN;
  };

  /**
   * ### .exists
   *
   * Asserts that the target is neither `null` nor `undefined`.
   *
   *     var foo = 'hi';
   *
   *     assert.exists(foo, 'foo is neither `null` nor `undefined`');
   *
   * @name exists
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.exists = function (val, msg) {
    new Assertion(val, msg, assert.exists, true).to.exist;
  };

  /**
   * ### .notExists
   *
   * Asserts that the target is either `null` or `undefined`.
   *
   *     var bar = null
   *       , baz;
   *
   *     assert.notExists(bar);
   *     assert.notExists(baz, 'baz is either null or undefined');
   *
   * @name notExists
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notExists = function (val, msg) {
    new Assertion(val, msg, assert.notExists, true).to.not.exist;
  };

  /**
   * ### .isUndefined(value, [message])
   *
   * Asserts that `value` is `undefined`.
   *
   *     var tea;
   *     assert.isUndefined(tea, 'no tea defined');
   *
   * @name isUndefined
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isUndefined = function (val, msg) {
    new Assertion(val, msg, assert.isUndefined, true).to.equal(undefined);
  };

  /**
   * ### .isDefined(value, [message])
   *
   * Asserts that `value` is not `undefined`.
   *
   *     var tea = 'cup of chai';
   *     assert.isDefined(tea, 'tea has been defined');
   *
   * @name isDefined
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isDefined = function (val, msg) {
    new Assertion(val, msg, assert.isDefined, true).to.not.equal(undefined);
  };

  /**
   * ### .isFunction(value, [message])
   *
   * Asserts that `value` is a function.
   *
   *     function serveTea() { return 'cup of tea'; };
   *     assert.isFunction(serveTea, 'great, we can have tea now');
   *
   * @name isFunction
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isFunction = function (val, msg) {
    new Assertion(val, msg, assert.isFunction, true).to.be.a('function');
  };

  /**
   * ### .isNotFunction(value, [message])
   *
   * Asserts that `value` is _not_ a function.
   *
   *     var serveTea = [ 'heat', 'pour', 'sip' ];
   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');
   *
   * @name isNotFunction
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotFunction = function (val, msg) {
    new Assertion(val, msg, assert.isNotFunction, true).to.not.be.a('function');
  };

  /**
   * ### .isObject(value, [message])
   *
   * Asserts that `value` is an object of type 'Object' (as revealed by `Object.prototype.toString`).
   * _The assertion does not match subclassed objects._
   *
   *     var selection = { name: 'Chai', serve: 'with spices' };
   *     assert.isObject(selection, 'tea selection is an object');
   *
   * @name isObject
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isObject = function (val, msg) {
    new Assertion(val, msg, assert.isObject, true).to.be.a('object');
  };

  /**
   * ### .isNotObject(value, [message])
   *
   * Asserts that `value` is _not_ an object of type 'Object' (as revealed by `Object.prototype.toString`).
   *
   *     var selection = 'chai'
   *     assert.isNotObject(selection, 'tea selection is not an object');
   *     assert.isNotObject(null, 'null is not an object');
   *
   * @name isNotObject
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotObject = function (val, msg) {
    new Assertion(val, msg, assert.isNotObject, true).to.not.be.a('object');
  };

  /**
   * ### .isArray(value, [message])
   *
   * Asserts that `value` is an array.
   *
   *     var menu = [ 'green', 'chai', 'oolong' ];
   *     assert.isArray(menu, 'what kind of tea do we want?');
   *
   * @name isArray
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isArray = function (val, msg) {
    new Assertion(val, msg, assert.isArray, true).to.be.an('array');
  };

  /**
   * ### .isNotArray(value, [message])
   *
   * Asserts that `value` is _not_ an array.
   *
   *     var menu = 'green|chai|oolong';
   *     assert.isNotArray(menu, 'what kind of tea do we want?');
   *
   * @name isNotArray
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotArray = function (val, msg) {
    new Assertion(val, msg, assert.isNotArray, true).to.not.be.an('array');
  };

  /**
   * ### .isString(value, [message])
   *
   * Asserts that `value` is a string.
   *
   *     var teaOrder = 'chai';
   *     assert.isString(teaOrder, 'order placed');
   *
   * @name isString
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isString = function (val, msg) {
    new Assertion(val, msg, assert.isString, true).to.be.a('string');
  };

  /**
   * ### .isNotString(value, [message])
   *
   * Asserts that `value` is _not_ a string.
   *
   *     var teaOrder = 4;
   *     assert.isNotString(teaOrder, 'order placed');
   *
   * @name isNotString
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotString = function (val, msg) {
    new Assertion(val, msg, assert.isNotString, true).to.not.be.a('string');
  };

  /**
   * ### .isNumber(value, [message])
   *
   * Asserts that `value` is a number.
   *
   *     var cups = 2;
   *     assert.isNumber(cups, 'how many cups');
   *
   * @name isNumber
   * @param {Number} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNumber = function (val, msg) {
    new Assertion(val, msg, assert.isNumber, true).to.be.a('number');
  };

  /**
   * ### .isNotNumber(value, [message])
   *
   * Asserts that `value` is _not_ a number.
   *
   *     var cups = '2 cups please';
   *     assert.isNotNumber(cups, 'how many cups');
   *
   * @name isNotNumber
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotNumber = function (val, msg) {
    new Assertion(val, msg, assert.isNotNumber, true).to.not.be.a('number');
  };

   /**
   * ### .isFinite(value, [message])
   *
   * Asserts that `value` is a finite number. Unlike `.isNumber`, this will fail for `NaN` and `Infinity`.
   *
   *     var cups = 2;
   *     assert.isFinite(cups, 'how many cups');
   *
   *     assert.isFinite(NaN); // throws
   *
   * @name isFinite
   * @param {Number} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isFinite = function (val, msg) {
    new Assertion(val, msg, assert.isFinite, true).to.be.finite;
  };

  /**
   * ### .isBoolean(value, [message])
   *
   * Asserts that `value` is a boolean.
   *
   *     var teaReady = true
   *       , teaServed = false;
   *
   *     assert.isBoolean(teaReady, 'is the tea ready');
   *     assert.isBoolean(teaServed, 'has tea been served');
   *
   * @name isBoolean
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isBoolean = function (val, msg) {
    new Assertion(val, msg, assert.isBoolean, true).to.be.a('boolean');
  };

  /**
   * ### .isNotBoolean(value, [message])
   *
   * Asserts that `value` is _not_ a boolean.
   *
   *     var teaReady = 'yep'
   *       , teaServed = 'nope';
   *
   *     assert.isNotBoolean(teaReady, 'is the tea ready');
   *     assert.isNotBoolean(teaServed, 'has tea been served');
   *
   * @name isNotBoolean
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.isNotBoolean = function (val, msg) {
    new Assertion(val, msg, assert.isNotBoolean, true).to.not.be.a('boolean');
  };

  /**
   * ### .typeOf(value, name, [message])
   *
   * Asserts that `value`'s type is `name`, as determined by
   * `Object.prototype.toString`.
   *
   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');
   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');
   *     assert.typeOf('tea', 'string', 'we have a string');
   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');
   *     assert.typeOf(null, 'null', 'we have a null');
   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');
   *
   * @name typeOf
   * @param {Mixed} value
   * @param {String} name
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.typeOf = function (val, type, msg) {
    new Assertion(val, msg, assert.typeOf, true).to.be.a(type);
  };

  /**
   * ### .notTypeOf(value, name, [message])
   *
   * Asserts that `value`'s type is _not_ `name`, as determined by
   * `Object.prototype.toString`.
   *
   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');
   *
   * @name notTypeOf
   * @param {Mixed} value
   * @param {String} typeof name
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notTypeOf = function (val, type, msg) {
    new Assertion(val, msg, assert.notTypeOf, true).to.not.be.a(type);
  };

  /**
   * ### .instanceOf(object, constructor, [message])
   *
   * Asserts that `value` is an instance of `constructor`.
   *
   *     var Tea = function (name) { this.name = name; }
   *       , chai = new Tea('chai');
   *
   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');
   *
   * @name instanceOf
   * @param {Object} object
   * @param {Constructor} constructor
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.instanceOf = function (val, type, msg) {
    new Assertion(val, msg, assert.instanceOf, true).to.be.instanceOf(type);
  };

  /**
   * ### .notInstanceOf(object, constructor, [message])
   *
   * Asserts `value` is not an instance of `constructor`.
   *
   *     var Tea = function (name) { this.name = name; }
   *       , chai = new String('chai');
   *
   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');
   *
   * @name notInstanceOf
   * @param {Object} object
   * @param {Constructor} constructor
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notInstanceOf = function (val, type, msg) {
    new Assertion(val, msg, assert.notInstanceOf, true)
      .to.not.be.instanceOf(type);
  };

  /**
   * ### .include(haystack, needle, [message])
   *
   * Asserts that `haystack` includes `needle`. Can be used to assert the
   * inclusion of a value in an array, a substring in a string, or a subset of
   * properties in an object.
   *
   *     assert.include([1,2,3], 2, 'array contains value');
   *     assert.include('foobar', 'foo', 'string contains substring');
   *     assert.include({ foo: 'bar', hello: 'universe' }, { foo: 'bar' }, 'object contains property');
   *
   * Strict equality (===) is used. When asserting the inclusion of a value in
   * an array, the array is searched for an element that's strictly equal to the
   * given value. When asserting a subset of properties in an object, the object
   * is searched for the given property keys, checking that each one is present
   * and strictly equal to the given property value. For instance:
   *
   *     var obj1 = {a: 1}
   *       , obj2 = {b: 2};
   *     assert.include([obj1, obj2], obj1);
   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1});
   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1, bar: obj2});
   *
   * @name include
   * @param {Array|String} haystack
   * @param {Mixed} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.include = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.include, true).include(inc);
  };

  /**
   * ### .notInclude(haystack, needle, [message])
   *
   * Asserts that `haystack` does not include `needle`. Can be used to assert
   * the absence of a value in an array, a substring in a string, or a subset of
   * properties in an object.
   *
   *     assert.notInclude([1,2,3], 4, "array doesn't contain value");
   *     assert.notInclude('foobar', 'baz', "string doesn't contain substring");
   *     assert.notInclude({ foo: 'bar', hello: 'universe' }, { foo: 'baz' }, 'object doesn't contain property');
   *
   * Strict equality (===) is used. When asserting the absence of a value in an
   * array, the array is searched to confirm the absence of an element that's
   * strictly equal to the given value. When asserting a subset of properties in
   * an object, the object is searched to confirm that at least one of the given
   * property keys is either not present or not strictly equal to the given
   * property value. For instance:
   *
   *     var obj1 = {a: 1}
   *       , obj2 = {b: 2};
   *     assert.notInclude([obj1, obj2], {a: 1});
   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});
   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: obj1, bar: {b: 2}});
   *
   * @name notInclude
   * @param {Array|String} haystack
   * @param {Mixed} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notInclude = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.notInclude, true).not.include(inc);
  };

  /**
   * ### .deepInclude(haystack, needle, [message])
   *
   * Asserts that `haystack` includes `needle`. Can be used to assert the
   * inclusion of a value in an array or a subset of properties in an object.
   * Deep equality is used.
   *
   *     var obj1 = {a: 1}
   *       , obj2 = {b: 2};
   *     assert.deepInclude([obj1, obj2], {a: 1});
   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});
   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 2}});
   *
   * @name deepInclude
   * @param {Array|String} haystack
   * @param {Mixed} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.deepInclude = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.deepInclude, true).deep.include(inc);
  };

  /**
   * ### .notDeepInclude(haystack, needle, [message])
   *
   * Asserts that `haystack` does not include `needle`. Can be used to assert
   * the absence of a value in an array or a subset of properties in an object.
   * Deep equality is used.
   *
   *     var obj1 = {a: 1}
   *       , obj2 = {b: 2};
   *     assert.notDeepInclude([obj1, obj2], {a: 9});
   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 9}});
   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 9}});
   *
   * @name notDeepInclude
   * @param {Array|String} haystack
   * @param {Mixed} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepInclude = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.notDeepInclude, true).not.deep.include(inc);
  };

  /**
   * ### .nestedInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the inclusion of a subset of properties in an
   * object.
   * Enables the use of dot- and bracket-notation for referencing nested
   * properties.
   * '[]' and '.' in property names can be escaped using double backslashes.
   *
   *     assert.nestedInclude({'.a': {'b': 'x'}}, {'\\.a.[b]': 'x'});
   *     assert.nestedInclude({'a': {'[b]': 'x'}}, {'a.\\[b\\]': 'x'});
   *
   * @name nestedInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.nestedInclude = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.nestedInclude, true).nested.include(inc);
  };

  /**
   * ### .notNestedInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' does not include 'needle'.
   * Can be used to assert the absence of a subset of properties in an
   * object.
   * Enables the use of dot- and bracket-notation for referencing nested
   * properties.
   * '[]' and '.' in property names can be escaped using double backslashes.
   *
   *     assert.notNestedInclude({'.a': {'b': 'x'}}, {'\\.a.b': 'y'});
   *     assert.notNestedInclude({'a': {'[b]': 'x'}}, {'a.\\[b\\]': 'y'});
   *
   * @name notNestedInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notNestedInclude = function (exp, inc, msg) {
    new Assertion(exp, msg, assert.notNestedInclude, true)
      .not.nested.include(inc);
  };

  /**
   * ### .deepNestedInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the inclusion of a subset of properties in an
   * object while checking for deep equality.
   * Enables the use of dot- and bracket-notation for referencing nested
   * properties.
   * '[]' and '.' in property names can be escaped using double backslashes.
   *
   *     assert.deepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {x: 1}});
   *     assert.deepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\.a.\\[b\\]': {x: 1}});
   *
   * @name deepNestedInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.deepNestedInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.deepNestedInclude, true)
      .deep.nested.include(inc);
  };

  /**
   * ### .notDeepNestedInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' does not include 'needle'.
   * Can be used to assert the absence of a subset of properties in an
   * object while checking for deep equality.
   * Enables the use of dot- and bracket-notation for referencing nested
   * properties.
   * '[]' and '.' in property names can be escaped using double backslashes.
   *
   *     assert.notDeepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {y: 1}})
   *     assert.notDeepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\.a.\\[b\\]': {y: 2}});
   *
   * @name notDeepNestedInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepNestedInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.notDeepNestedInclude, true)
      .not.deep.nested.include(inc);
  };

  /**
   * ### .ownInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the inclusion of a subset of properties in an
   * object while ignoring inherited properties.
   *
   *     assert.ownInclude({ a: 1 }, { a: 1 });
   *
   * @name ownInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.ownInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.ownInclude, true).own.include(inc);
  };

  /**
   * ### .notOwnInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the absence of a subset of properties in an
   * object while ignoring inherited properties.
   *
   *     Object.prototype.b = 2;
   *
   *     assert.notOwnInclude({ a: 1 }, { b: 2 });
   *
   * @name notOwnInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notOwnInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.notOwnInclude, true).not.own.include(inc);
  };

  /**
   * ### .deepOwnInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the inclusion of a subset of properties in an
   * object while ignoring inherited properties and checking for deep equality.
   *
   *      assert.deepOwnInclude({a: {b: 2}}, {a: {b: 2}});
   *
   * @name deepOwnInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.deepOwnInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.deepOwnInclude, true)
      .deep.own.include(inc);
  };

   /**
   * ### .notDeepOwnInclude(haystack, needle, [message])
   *
   * Asserts that 'haystack' includes 'needle'.
   * Can be used to assert the absence of a subset of properties in an
   * object while ignoring inherited properties and checking for deep equality.
   *
   *      assert.notDeepOwnInclude({a: {b: 2}}, {a: {c: 3}});
   *
   * @name notDeepOwnInclude
   * @param {Object} haystack
   * @param {Object} needle
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepOwnInclude = function(exp, inc, msg) {
    new Assertion(exp, msg, assert.notDeepOwnInclude, true)
      .not.deep.own.include(inc);
  };

  /**
   * ### .match(value, regexp, [message])
   *
   * Asserts that `value` matches the regular expression `regexp`.
   *
   *     assert.match('foobar', /^foo/, 'regexp matches');
   *
   * @name match
   * @param {Mixed} value
   * @param {RegExp} regexp
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.match = function (exp, re, msg) {
    new Assertion(exp, msg, assert.match, true).to.match(re);
  };

  /**
   * ### .notMatch(value, regexp, [message])
   *
   * Asserts that `value` does not match the regular expression `regexp`.
   *
   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');
   *
   * @name notMatch
   * @param {Mixed} value
   * @param {RegExp} regexp
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notMatch = function (exp, re, msg) {
    new Assertion(exp, msg, assert.notMatch, true).to.not.match(re);
  };

  /**
   * ### .property(object, property, [message])
   *
   * Asserts that `object` has a direct or inherited property named by
   * `property`.
   *
   *     assert.property({ tea: { green: 'matcha' }}, 'tea');
   *     assert.property({ tea: { green: 'matcha' }}, 'toString');
   *
   * @name property
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.property = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.property, true).to.have.property(prop);
  };

  /**
   * ### .notProperty(object, property, [message])
   *
   * Asserts that `object` does _not_ have a direct or inherited property named
   * by `property`.
   *
   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');
   *
   * @name notProperty
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notProperty = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.notProperty, true)
      .to.not.have.property(prop);
  };

  /**
   * ### .propertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a direct or inherited property named by
   * `property` with a value given by `value`. Uses a strict equality check
   * (===).
   *
   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');
   *
   * @name propertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.propertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.propertyVal, true)
      .to.have.property(prop, val);
  };

  /**
   * ### .notPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a direct or inherited property named
   * by `property` with value given by `value`. Uses a strict equality check
   * (===).
   *
   *     assert.notPropertyVal({ tea: 'is good' }, 'tea', 'is bad');
   *     assert.notPropertyVal({ tea: 'is good' }, 'coffee', 'is good');
   *
   * @name notPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.notPropertyVal, true)
      .to.not.have.property(prop, val);
  };

  /**
   * ### .deepPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a direct or inherited property named by
   * `property` with a value given by `value`. Uses a deep equality check.
   *
   *     assert.deepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });
   *
   * @name deepPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.deepPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.deepPropertyVal, true)
      .to.have.deep.property(prop, val);
  };

  /**
   * ### .notDeepPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a direct or inherited property named
   * by `property` with value given by `value`. Uses a deep equality check.
   *
   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });
   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });
   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });
   *
   * @name notDeepPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.notDeepPropertyVal, true)
      .to.not.have.deep.property(prop, val);
  };

  /**
   * ### .ownProperty(object, property, [message])
   *
   * Asserts that `object` has a direct property named by `property`. Inherited
   * properties aren't checked.
   *
   *     assert.ownProperty({ tea: { green: 'matcha' }}, 'tea');
   *
   * @name ownProperty
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @api public
   */

  assert.ownProperty = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.ownProperty, true)
      .to.have.own.property(prop);
  };

  /**
   * ### .notOwnProperty(object, property, [message])
   *
   * Asserts that `object` does _not_ have a direct property named by
   * `property`. Inherited properties aren't checked.
   *
   *     assert.notOwnProperty({ tea: { green: 'matcha' }}, 'coffee');
   *     assert.notOwnProperty({}, 'toString');
   *
   * @name notOwnProperty
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @api public
   */

  assert.notOwnProperty = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.notOwnProperty, true)
      .to.not.have.own.property(prop);
  };

  /**
   * ### .ownPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a direct property named by `property` and a value
   * equal to the provided `value`. Uses a strict equality check (===).
   * Inherited properties aren't checked.
   *
   *     assert.ownPropertyVal({ coffee: 'is good'}, 'coffee', 'is good');
   *
   * @name ownPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @api public
   */

  assert.ownPropertyVal = function (obj, prop, value, msg) {
    new Assertion(obj, msg, assert.ownPropertyVal, true)
      .to.have.own.property(prop, value);
  };

  /**
   * ### .notOwnPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a direct property named by `property`
   * with a value equal to the provided `value`. Uses a strict equality check
   * (===). Inherited properties aren't checked.
   *
   *     assert.notOwnPropertyVal({ tea: 'is better'}, 'tea', 'is worse');
   *     assert.notOwnPropertyVal({}, 'toString', Object.prototype.toString);
   *
   * @name notOwnPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @api public
   */

  assert.notOwnPropertyVal = function (obj, prop, value, msg) {
    new Assertion(obj, msg, assert.notOwnPropertyVal, true)
      .to.not.have.own.property(prop, value);
  };

  /**
   * ### .deepOwnPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a direct property named by `property` and a value
   * equal to the provided `value`. Uses a deep equality check. Inherited
   * properties aren't checked.
   *
   *     assert.deepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });
   *
   * @name deepOwnPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @api public
   */

  assert.deepOwnPropertyVal = function (obj, prop, value, msg) {
    new Assertion(obj, msg, assert.deepOwnPropertyVal, true)
      .to.have.deep.own.property(prop, value);
  };

  /**
   * ### .notDeepOwnPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a direct property named by `property`
   * with a value equal to the provided `value`. Uses a deep equality check.
   * Inherited properties aren't checked.
   *
   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });
   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });
   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });
   *     assert.notDeepOwnPropertyVal({}, 'toString', Object.prototype.toString);
   *
   * @name notDeepOwnPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @api public
   */

  assert.notDeepOwnPropertyVal = function (obj, prop, value, msg) {
    new Assertion(obj, msg, assert.notDeepOwnPropertyVal, true)
      .to.not.have.deep.own.property(prop, value);
  };

  /**
   * ### .nestedProperty(object, property, [message])
   *
   * Asserts that `object` has a direct or inherited property named by
   * `property`, which can be a string using dot- and bracket-notation for
   * nested reference.
   *
   *     assert.nestedProperty({ tea: { green: 'matcha' }}, 'tea.green');
   *
   * @name nestedProperty
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.nestedProperty = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.nestedProperty, true)
      .to.have.nested.property(prop);
  };

  /**
   * ### .notNestedProperty(object, property, [message])
   *
   * Asserts that `object` does _not_ have a property named by `property`, which
   * can be a string using dot- and bracket-notation for nested reference. The
   * property cannot exist on the object nor anywhere in its prototype chain.
   *
   *     assert.notNestedProperty({ tea: { green: 'matcha' }}, 'tea.oolong');
   *
   * @name notNestedProperty
   * @param {Object} object
   * @param {String} property
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notNestedProperty = function (obj, prop, msg) {
    new Assertion(obj, msg, assert.notNestedProperty, true)
      .to.not.have.nested.property(prop);
  };

  /**
   * ### .nestedPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a property named by `property` with value given
   * by `value`. `property` can use dot- and bracket-notation for nested
   * reference. Uses a strict equality check (===).
   *
   *     assert.nestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');
   *
   * @name nestedPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.nestedPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.nestedPropertyVal, true)
      .to.have.nested.property(prop, val);
  };

  /**
   * ### .notNestedPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a property named by `property` with
   * value given by `value`. `property` can use dot- and bracket-notation for
   * nested reference. Uses a strict equality check (===).
   *
   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');
   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'coffee.green', 'matcha');
   *
   * @name notNestedPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notNestedPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.notNestedPropertyVal, true)
      .to.not.have.nested.property(prop, val);
  };

  /**
   * ### .deepNestedPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` has a property named by `property` with a value given
   * by `value`. `property` can use dot- and bracket-notation for nested
   * reference. Uses a deep equality check.
   *
   *     assert.deepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yum' });
   *
   * @name deepNestedPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.deepNestedPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.deepNestedPropertyVal, true)
      .to.have.deep.nested.property(prop, val);
  };

  /**
   * ### .notDeepNestedPropertyVal(object, property, value, [message])
   *
   * Asserts that `object` does _not_ have a property named by `property` with
   * value given by `value`. `property` can use dot- and bracket-notation for
   * nested reference. Uses a deep equality check.
   *
   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { oolong: 'yum' });
   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yuck' });
   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.black', { matcha: 'yum' });
   *
   * @name notDeepNestedPropertyVal
   * @param {Object} object
   * @param {String} property
   * @param {Mixed} value
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notDeepNestedPropertyVal = function (obj, prop, val, msg) {
    new Assertion(obj, msg, assert.notDeepNestedPropertyVal, true)
      .to.not.have.deep.nested.property(prop, val);
  }

  /**
   * ### .lengthOf(object, length, [message])
   *
   * Asserts that `object` has a `length` or `size` with the expected value.
   *
   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');
   *     assert.lengthOf('foobar', 6, 'string has length of 6');
   *     assert.lengthOf(new Set([1,2,3]), 3, 'set has size of 3');
   *     assert.lengthOf(new Map([['a',1],['b',2],['c',3]]), 3, 'map has size of 3');
   *
   * @name lengthOf
   * @param {Mixed} object
   * @param {Number} length
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.lengthOf = function (exp, len, msg) {
    new Assertion(exp, msg, assert.lengthOf, true).to.have.lengthOf(len);
  };

  /**
   * ### .hasAnyKeys(object, [keys], [message])
   *
   * Asserts that `object` has at least one of the `keys` provided.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'iDontExist', 'baz']);
   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, iDontExist: 99, baz: 1337});
   *     assert.hasAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);
   *     assert.hasAnyKeys(new Set([{foo: 'bar'}, 'anotherKey']), [{foo: 'bar'}, 'anotherKey']);
   *
   * @name hasAnyKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.hasAnyKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.hasAnyKeys, true).to.have.any.keys(keys);
  }

  /**
   * ### .hasAllKeys(object, [keys], [message])
   *
   * Asserts that `object` has all and only all of the `keys` provided.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);
   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337]);
   *     assert.hasAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);
   *     assert.hasAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);
   *
   * @name hasAllKeys
   * @param {Mixed} object
   * @param {String[]} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.hasAllKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.hasAllKeys, true).to.have.all.keys(keys);
  }

  /**
   * ### .containsAllKeys(object, [keys], [message])
   *
   * Asserts that `object` has all of the `keys` provided but may have more keys not listed.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'baz']);
   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);
   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, baz: 1337});
   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337});
   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}]);
   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);
   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}]);
   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);
   *
   * @name containsAllKeys
   * @param {Mixed} object
   * @param {String[]} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.containsAllKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.containsAllKeys, true)
      .to.contain.all.keys(keys);
  }

  /**
   * ### .doesNotHaveAnyKeys(object, [keys], [message])
   *
   * Asserts that `object` has none of the `keys` provided.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);
   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});
   *     assert.doesNotHaveAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);
   *     assert.doesNotHaveAnyKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);
   *
   * @name doesNotHaveAnyKeys
   * @param {Mixed} object
   * @param {String[]} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.doesNotHaveAnyKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.doesNotHaveAnyKeys, true)
      .to.not.have.any.keys(keys);
  }

  /**
   * ### .doesNotHaveAllKeys(object, [keys], [message])
   *
   * Asserts that `object` does not have at least one of the `keys` provided.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);
   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});
   *     assert.doesNotHaveAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);
   *     assert.doesNotHaveAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);
   *
   * @name doesNotHaveAllKeys
   * @param {Mixed} object
   * @param {String[]} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.doesNotHaveAllKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.doesNotHaveAllKeys, true)
      .to.not.have.all.keys(keys);
  }

  /**
   * ### .hasAnyDeepKeys(object, [keys], [message])
   *
   * Asserts that `object` has at least one of the `keys` provided.
   * Since Sets and Maps can have objects as keys you can use this assertion to perform
   * a deep comparison.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});
   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), [{one: 'one'}, {two: 'two'}]);
   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);
   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});
   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {three: 'three'}]);
   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);
   *
   * @name hasAnyDeepKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.hasAnyDeepKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.hasAnyDeepKeys, true)
      .to.have.any.deep.keys(keys);
  }

 /**
   * ### .hasAllDeepKeys(object, [keys], [message])
   *
   * Asserts that `object` has all and only all of the `keys` provided.
   * Since Sets and Maps can have objects as keys you can use this assertion to perform
   * a deep comparison.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne']]), {one: 'one'});
   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);
   *     assert.hasAllDeepKeys(new Set([{one: 'one'}]), {one: 'one'});
   *     assert.hasAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);
   *
   * @name hasAllDeepKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.hasAllDeepKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.hasAllDeepKeys, true)
      .to.have.all.deep.keys(keys);
  }

 /**
   * ### .containsAllDeepKeys(object, [keys], [message])
   *
   * Asserts that `object` contains all of the `keys` provided.
   * Since Sets and Maps can have objects as keys you can use this assertion to perform
   * a deep comparison.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});
   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);
   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});
   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);
   *
   * @name containsAllDeepKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.containsAllDeepKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.containsAllDeepKeys, true)
      .to.contain.all.deep.keys(keys);
  }

 /**
   * ### .doesNotHaveAnyDeepKeys(object, [keys], [message])
   *
   * Asserts that `object` has none of the `keys` provided.
   * Since Sets and Maps can have objects as keys you can use this assertion to perform
   * a deep comparison.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});
   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);
   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});
   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);
   *
   * @name doesNotHaveAnyDeepKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.doesNotHaveAnyDeepKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.doesNotHaveAnyDeepKeys, true)
      .to.not.have.any.deep.keys(keys);
  }

 /**
   * ### .doesNotHaveAllDeepKeys(object, [keys], [message])
   *
   * Asserts that `object` does not have at least one of the `keys` provided.
   * Since Sets and Maps can have objects as keys you can use this assertion to perform
   * a deep comparison.
   * You can also provide a single object instead of a `keys` array and its keys
   * will be used as the expected set of keys.
   *
   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});
   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {one: 'one'}]);
   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});
   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {fifty: 'fifty'}]);
   *
   * @name doesNotHaveAllDeepKeys
   * @param {Mixed} object
   * @param {Array|Object} keys
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.doesNotHaveAllDeepKeys = function (obj, keys, msg) {
    new Assertion(obj, msg, assert.doesNotHaveAllDeepKeys, true)
      .to.not.have.all.deep.keys(keys);
  }

 /**
   * ### .throws(fn, [errorLike/string/regexp], [string/regexp], [message])
   *
   * If `errorLike` is an `Error` constructor, asserts that `fn` will throw an error that is an
   * instance of `errorLike`.
   * If `errorLike` is an `Error` instance, asserts that the error thrown is the same
   * instance as `errorLike`.
   * If `errMsgMatcher` is provided, it also asserts that the error thrown will have a
   * message matching `errMsgMatcher`.
   *
   *     assert.throws(fn, 'Error thrown must have this msg');
   *     assert.throws(fn, /Error thrown must have a msg that matches this/);
   *     assert.throws(fn, ReferenceError);
   *     assert.throws(fn, errorInstance);
   *     assert.throws(fn, ReferenceError, 'Error thrown must be a ReferenceError and have this msg');
   *     assert.throws(fn, errorInstance, 'Error thrown must be the same errorInstance and have this msg');
   *     assert.throws(fn, ReferenceError, /Error thrown must be a ReferenceError and match this/);
   *     assert.throws(fn, errorInstance, /Error thrown must be the same errorInstance and match this/);
   *
   * @name throws
   * @alias throw
   * @alias Throw
   * @param {Function} fn
   * @param {ErrorConstructor|Error} errorLike
   * @param {RegExp|String} errMsgMatcher
   * @param {String} message
   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types
   * @namespace Assert
   * @api public
   */

  assert.throws = function (fn, errorLike, errMsgMatcher, msg) {
    if ('string' === typeof errorLike || errorLike instanceof RegExp) {
      errMsgMatcher = errorLike;
      errorLike = null;
    }

    var assertErr = new Assertion(fn, msg, assert.throws, true)
      .to.throw(errorLike, errMsgMatcher);
    return flag(assertErr, 'object');
  };

  /**
   * ### .doesNotThrow(fn, [errorLike/string/regexp], [string/regexp], [message])
   *
   * If `errorLike` is an `Error` constructor, asserts that `fn` will _not_ throw an error that is an
   * instance of `errorLike`.
   * If `errorLike` is an `Error` instance, asserts that the error thrown is _not_ the same
   * instance as `errorLike`.
   * If `errMsgMatcher` is provided, it also asserts that the error thrown will _not_ have a
   * message matching `errMsgMatcher`.
   *
   *     assert.doesNotThrow(fn, 'Any Error thrown must not have this message');
   *     assert.doesNotThrow(fn, /Any Error thrown must not match this/);
   *     assert.doesNotThrow(fn, Error);
   *     assert.doesNotThrow(fn, errorInstance);
   *     assert.doesNotThrow(fn, Error, 'Error must not have this message');
   *     assert.doesNotThrow(fn, errorInstance, 'Error must not have this message');
   *     assert.doesNotThrow(fn, Error, /Error must not match this/);
   *     assert.doesNotThrow(fn, errorInstance, /Error must not match this/);
   *
   * @name doesNotThrow
   * @param {Function} fn
   * @param {ErrorConstructor} errorLike
   * @param {RegExp|String} errMsgMatcher
   * @param {String} message
   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types
   * @namespace Assert
   * @api public
   */

  assert.doesNotThrow = function (fn, errorLike, errMsgMatcher, msg) {
    if ('string' === typeof errorLike || errorLike instanceof RegExp) {
      errMsgMatcher = errorLike;
      errorLike = null;
    }

    new Assertion(fn, msg, assert.doesNotThrow, true)
      .to.not.throw(errorLike, errMsgMatcher);
  };

  /**
   * ### .operator(val1, operator, val2, [message])
   *
   * Compares two values using `operator`.
   *
   *     assert.operator(1, '<', 2, 'everything is ok');
   *     assert.operator(1, '>', 2, 'this will fail');
   *
   * @name operator
   * @param {Mixed} val1
   * @param {String} operator
   * @param {Mixed} val2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.operator = function (val, operator, val2, msg) {
    var ok;
    switch(operator) {
      case '==':
        ok = val == val2;
        break;
      case '===':
        ok = val === val2;
        break;
      case '>':
        ok = val > val2;
        break;
      case '>=':
        ok = val >= val2;
        break;
      case '<':
        ok = val < val2;
        break;
      case '<=':
        ok = val <= val2;
        break;
      case '!=':
        ok = val != val2;
        break;
      case '!==':
        ok = val !== val2;
        break;
      default:
        msg = msg ? msg + ': ' : msg;
        throw new chai.AssertionError(
          msg + 'Invalid operator "' + operator + '"',
          undefined,
          assert.operator
        );
    }
    var test = new Assertion(ok, msg, assert.operator, true);
    test.assert(
        true === flag(test, 'object')
      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)
      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );
  };

  /**
   * ### .closeTo(actual, expected, delta, [message])
   *
   * Asserts that the target is equal `expected`, to within a +/- `delta` range.
   *
   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');
   *
   * @name closeTo
   * @param {Number} actual
   * @param {Number} expected
   * @param {Number} delta
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.closeTo = function (act, exp, delta, msg) {
    new Assertion(act, msg, assert.closeTo, true).to.be.closeTo(exp, delta);
  };

  /**
   * ### .approximately(actual, expected, delta, [message])
   *
   * Asserts that the target is equal `expected`, to within a +/- `delta` range.
   *
   *     assert.approximately(1.5, 1, 0.5, 'numbers are close');
   *
   * @name approximately
   * @param {Number} actual
   * @param {Number} expected
   * @param {Number} delta
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.approximately = function (act, exp, delta, msg) {
    new Assertion(act, msg, assert.approximately, true)
      .to.be.approximately(exp, delta);
  };

  /**
   * ### .sameMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` have the same members in any order. Uses a
   * strict equality check (===).
   *
   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');
   *
   * @name sameMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.sameMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.sameMembers, true)
      .to.have.same.members(set2);
  }

  /**
   * ### .notSameMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` don't have the same members in any order.
   * Uses a strict equality check (===).
   *
   *     assert.notSameMembers([ 1, 2, 3 ], [ 5, 1, 3 ], 'not same members');
   *
   * @name notSameMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notSameMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.notSameMembers, true)
      .to.not.have.same.members(set2);
  }

  /**
   * ### .sameDeepMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` have the same members in any order. Uses a
   * deep equality check.
   *
   *     assert.sameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { c: 3 }], 'same deep members');
   *
   * @name sameDeepMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.sameDeepMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.sameDeepMembers, true)
      .to.have.same.deep.members(set2);
  }

  /**
   * ### .notSameDeepMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` don't have the same members in any order.
   * Uses a deep equality check.
   *
   *     assert.notSameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { f: 5 }], 'not same deep members');
   *
   * @name notSameDeepMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notSameDeepMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.notSameDeepMembers, true)
      .to.not.have.same.deep.members(set2);
  }

  /**
   * ### .sameOrderedMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` have the same members in the same order.
   * Uses a strict equality check (===).
   *
   *     assert.sameOrderedMembers([ 1, 2, 3 ], [ 1, 2, 3 ], 'same ordered members');
   *
   * @name sameOrderedMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.sameOrderedMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.sameOrderedMembers, true)
      .to.have.same.ordered.members(set2);
  }

  /**
   * ### .notSameOrderedMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` don't have the same members in the same
   * order. Uses a strict equality check (===).
   *
   *     assert.notSameOrderedMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'not same ordered members');
   *
   * @name notSameOrderedMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notSameOrderedMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.notSameOrderedMembers, true)
      .to.not.have.same.ordered.members(set2);
  }

  /**
   * ### .sameDeepOrderedMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` have the same members in the same order.
   * Uses a deep equality check.
   *
   *     assert.sameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { c: 3 } ], 'same deep ordered members');
   *
   * @name sameDeepOrderedMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.sameDeepOrderedMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.sameDeepOrderedMembers, true)
      .to.have.same.deep.ordered.members(set2);
  }

  /**
   * ### .notSameDeepOrderedMembers(set1, set2, [message])
   *
   * Asserts that `set1` and `set2` don't have the same members in the same
   * order. Uses a deep equality check.
   *
   *     assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { z: 5 } ], 'not same deep ordered members');
   *     assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { c: 3 } ], 'not same deep ordered members');
   *
   * @name notSameDeepOrderedMembers
   * @param {Array} set1
   * @param {Array} set2
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notSameDeepOrderedMembers = function (set1, set2, msg) {
    new Assertion(set1, msg, assert.notSameDeepOrderedMembers, true)
      .to.not.have.same.deep.ordered.members(set2);
  }

  /**
   * ### .includeMembers(superset, subset, [message])
   *
   * Asserts that `subset` is included in `superset` in any order. Uses a
   * strict equality check (===). Duplicates are ignored.
   *
   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1, 2 ], 'include members');
   *
   * @name includeMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.includeMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.includeMembers, true)
      .to.include.members(subset);
  }

  /**
   * ### .notIncludeMembers(superset, subset, [message])
   *
   * Asserts that `subset` isn't included in `superset` in any order. Uses a
   * strict equality check (===). Duplicates are ignored.
   *
   *     assert.notIncludeMembers([ 1, 2, 3 ], [ 5, 1 ], 'not include members');
   *
   * @name notIncludeMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notIncludeMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.notIncludeMembers, true)
      .to.not.include.members(subset);
  }

  /**
   * ### .includeDeepMembers(superset, subset, [message])
   *
   * Asserts that `subset` is included in `superset` in any order. Uses a deep
   * equality check. Duplicates are ignored.
   *
   *     assert.includeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { b: 2 } ], 'include deep members');
   *
   * @name includeDeepMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.includeDeepMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.includeDeepMembers, true)
      .to.include.deep.members(subset);
  }

  /**
   * ### .notIncludeDeepMembers(superset, subset, [message])
   *
   * Asserts that `subset` isn't included in `superset` in any order. Uses a
   * deep equality check. Duplicates are ignored.
   *
   *     assert.notIncludeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { f: 5 } ], 'not include deep members');
   *
   * @name notIncludeDeepMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notIncludeDeepMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.notIncludeDeepMembers, true)
      .to.not.include.deep.members(subset);
  }

  /**
   * ### .includeOrderedMembers(superset, subset, [message])
   *
   * Asserts that `subset` is included in `superset` in the same order
   * beginning with the first element in `superset`. Uses a strict equality
   * check (===).
   *
   *     assert.includeOrderedMembers([ 1, 2, 3 ], [ 1, 2 ], 'include ordered members');
   *
   * @name includeOrderedMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.includeOrderedMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.includeOrderedMembers, true)
      .to.include.ordered.members(subset);
  }

  /**
   * ### .notIncludeOrderedMembers(superset, subset, [message])
   *
   * Asserts that `subset` isn't included in `superset` in the same order
   * beginning with the first element in `superset`. Uses a strict equality
   * check (===).
   *
   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 1 ], 'not include ordered members');
   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 3 ], 'not include ordered members');
   *
   * @name notIncludeOrderedMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notIncludeOrderedMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.notIncludeOrderedMembers, true)
      .to.not.include.ordered.members(subset);
  }

  /**
   * ### .includeDeepOrderedMembers(superset, subset, [message])
   *
   * Asserts that `subset` is included in `superset` in the same order
   * beginning with the first element in `superset`. Uses a deep equality
   * check.
   *
   *     assert.includeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 } ], 'include deep ordered members');
   *
   * @name includeDeepOrderedMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.includeDeepOrderedMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.includeDeepOrderedMembers, true)
      .to.include.deep.ordered.members(subset);
  }

  /**
   * ### .notIncludeDeepOrderedMembers(superset, subset, [message])
   *
   * Asserts that `subset` isn't included in `superset` in the same order
   * beginning with the first element in `superset`. Uses a deep equality
   * check.
   *
   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { f: 5 } ], 'not include deep ordered members');
   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 } ], 'not include deep ordered members');
   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { c: 3 } ], 'not include deep ordered members');
   *
   * @name notIncludeDeepOrderedMembers
   * @param {Array} superset
   * @param {Array} subset
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.notIncludeDeepOrderedMembers = function (superset, subset, msg) {
    new Assertion(superset, msg, assert.notIncludeDeepOrderedMembers, true)
      .to.not.include.deep.ordered.members(subset);
  }

  /**
   * ### .oneOf(inList, list, [message])
   *
   * Asserts that non-object, non-array value `inList` appears in the flat array `list`.
   *
   *     assert.oneOf(1, [ 2, 1 ], 'Not found in list');
   *
   * @name oneOf
   * @param {*} inList
   * @param {Array<*>} list
   * @param {String} message
   * @namespace Assert
   * @api public
   */

  assert.oneOf = function (inList, list, msg) {
    new Assertion(inList, msg, assert.oneOf, true).to.be.oneOf(list);
  }

  /**
   * ### .changes(function, object, property, [message])
   *
   * Asserts that a function changes the value of a property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 22 };
   *     assert.changes(fn, obj, 'val');
   *
   * @name changes
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.changes = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.changes, true).to.change(obj, prop);
  }

   /**
   * ### .changesBy(function, object, property, delta, [message])
   *
   * Asserts that a function changes the value of a property by an amount (delta).
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val += 2 };
   *     assert.changesBy(fn, obj, 'val', 2);
   *
   * @name changesBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.changesBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.changesBy, true)
      .to.change(obj, prop).by(delta);
  }

   /**
   * ### .doesNotChange(function, object, property, [message])
   *
   * Asserts that a function does not change the value of a property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { console.log('foo'); };
   *     assert.doesNotChange(fn, obj, 'val');
   *
   * @name doesNotChange
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.doesNotChange = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.doesNotChange, true)
      .to.not.change(obj, prop);
  }

  /**
   * ### .changesButNotBy(function, object, property, delta, [message])
   *
   * Asserts that a function does not change the value of a property or of a function's return value by an amount (delta)
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val += 10 };
   *     assert.changesButNotBy(fn, obj, 'val', 5);
   *
   * @name changesButNotBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.changesButNotBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.changesButNotBy, true)
      .to.change(obj, prop).but.not.by(delta);
  }

  /**
   * ### .increases(function, object, property, [message])
   *
   * Asserts that a function increases a numeric object property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 13 };
   *     assert.increases(fn, obj, 'val');
   *
   * @name increases
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.increases = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.increases, true)
      .to.increase(obj, prop);
  }

  /**
   * ### .increasesBy(function, object, property, delta, [message])
   *
   * Asserts that a function increases a numeric object property or a function's return value by an amount (delta).
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val += 10 };
   *     assert.increasesBy(fn, obj, 'val', 10);
   *
   * @name increasesBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.increasesBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.increasesBy, true)
      .to.increase(obj, prop).by(delta);
  }

  /**
   * ### .doesNotIncrease(function, object, property, [message])
   *
   * Asserts that a function does not increase a numeric object property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 8 };
   *     assert.doesNotIncrease(fn, obj, 'val');
   *
   * @name doesNotIncrease
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.doesNotIncrease = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.doesNotIncrease, true)
      .to.not.increase(obj, prop);
  }

  /**
   * ### .increasesButNotBy(function, object, property, delta, [message])
   *
   * Asserts that a function does not increase a numeric object property or function's return value by an amount (delta).
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 15 };
   *     assert.increasesButNotBy(fn, obj, 'val', 10);
   *
   * @name increasesButNotBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.increasesButNotBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.increasesButNotBy, true)
      .to.increase(obj, prop).but.not.by(delta);
  }

  /**
   * ### .decreases(function, object, property, [message])
   *
   * Asserts that a function decreases a numeric object property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 5 };
   *     assert.decreases(fn, obj, 'val');
   *
   * @name decreases
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.decreases = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.decreases, true)
      .to.decrease(obj, prop);
  }

  /**
   * ### .decreasesBy(function, object, property, delta, [message])
   *
   * Asserts that a function decreases a numeric object property or a function's return value by an amount (delta)
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val -= 5 };
   *     assert.decreasesBy(fn, obj, 'val', 5);
   *
   * @name decreasesBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.decreasesBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.decreasesBy, true)
      .to.decrease(obj, prop).by(delta);
  }

  /**
   * ### .doesNotDecrease(function, object, property, [message])
   *
   * Asserts that a function does not decreases a numeric object property.
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 15 };
   *     assert.doesNotDecrease(fn, obj, 'val');
   *
   * @name doesNotDecrease
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.doesNotDecrease = function (fn, obj, prop, msg) {
    if (arguments.length === 3 && typeof obj === 'function') {
      msg = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.doesNotDecrease, true)
      .to.not.decrease(obj, prop);
  }

  /**
   * ### .doesNotDecreaseBy(function, object, property, delta, [message])
   *
   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 5 };
   *     assert.doesNotDecreaseBy(fn, obj, 'val', 1);
   *
   * @name doesNotDecreaseBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.doesNotDecreaseBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    return new Assertion(fn, msg, assert.doesNotDecreaseBy, true)
      .to.not.decrease(obj, prop).by(delta);
  }

  /**
   * ### .decreasesButNotBy(function, object, property, delta, [message])
   *
   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)
   *
   *     var obj = { val: 10 };
   *     var fn = function() { obj.val = 5 };
   *     assert.decreasesButNotBy(fn, obj, 'val', 1);
   *
   * @name decreasesButNotBy
   * @param {Function} modifier function
   * @param {Object} object or getter function
   * @param {String} property name _optional_
   * @param {Number} change amount (delta)
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.decreasesButNotBy = function (fn, obj, prop, delta, msg) {
    if (arguments.length === 4 && typeof obj === 'function') {
      var tmpMsg = delta;
      delta = prop;
      msg = tmpMsg;
    } else if (arguments.length === 3) {
      delta = prop;
      prop = null;
    }

    new Assertion(fn, msg, assert.decreasesButNotBy, true)
      .to.decrease(obj, prop).but.not.by(delta);
  }

  /*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */

  assert.ifError = function (val) {
    if (val) {
      throw(val);
    }
  };

  /**
   * ### .isExtensible(object)
   *
   * Asserts that `object` is extensible (can have new properties added to it).
   *
   *     assert.isExtensible({});
   *
   * @name isExtensible
   * @alias extensible
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isExtensible = function (obj, msg) {
    new Assertion(obj, msg, assert.isExtensible, true).to.be.extensible;
  };

  /**
   * ### .isNotExtensible(object)
   *
   * Asserts that `object` is _not_ extensible.
   *
   *     var nonExtensibleObject = Object.preventExtensions({});
   *     var sealedObject = Object.seal({});
   *     var frozenObject = Object.freeze({});
   *
   *     assert.isNotExtensible(nonExtensibleObject);
   *     assert.isNotExtensible(sealedObject);
   *     assert.isNotExtensible(frozenObject);
   *
   * @name isNotExtensible
   * @alias notExtensible
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isNotExtensible = function (obj, msg) {
    new Assertion(obj, msg, assert.isNotExtensible, true).to.not.be.extensible;
  };

  /**
   * ### .isSealed(object)
   *
   * Asserts that `object` is sealed (cannot have new properties added to it
   * and its existing properties cannot be removed).
   *
   *     var sealedObject = Object.seal({});
   *     var frozenObject = Object.seal({});
   *
   *     assert.isSealed(sealedObject);
   *     assert.isSealed(frozenObject);
   *
   * @name isSealed
   * @alias sealed
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isSealed = function (obj, msg) {
    new Assertion(obj, msg, assert.isSealed, true).to.be.sealed;
  };

  /**
   * ### .isNotSealed(object)
   *
   * Asserts that `object` is _not_ sealed.
   *
   *     assert.isNotSealed({});
   *
   * @name isNotSealed
   * @alias notSealed
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isNotSealed = function (obj, msg) {
    new Assertion(obj, msg, assert.isNotSealed, true).to.not.be.sealed;
  };

  /**
   * ### .isFrozen(object)
   *
   * Asserts that `object` is frozen (cannot have new properties added to it
   * and its existing properties cannot be modified).
   *
   *     var frozenObject = Object.freeze({});
   *     assert.frozen(frozenObject);
   *
   * @name isFrozen
   * @alias frozen
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isFrozen = function (obj, msg) {
    new Assertion(obj, msg, assert.isFrozen, true).to.be.frozen;
  };

  /**
   * ### .isNotFrozen(object)
   *
   * Asserts that `object` is _not_ frozen.
   *
   *     assert.isNotFrozen({});
   *
   * @name isNotFrozen
   * @alias notFrozen
   * @param {Object} object
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isNotFrozen = function (obj, msg) {
    new Assertion(obj, msg, assert.isNotFrozen, true).to.not.be.frozen;
  };

  /**
   * ### .isEmpty(target)
   *
   * Asserts that the target does not contain any values.
   * For arrays and strings, it checks the `length` property.
   * For `Map` and `Set` instances, it checks the `size` property.
   * For non-function objects, it gets the count of own
   * enumerable string keys.
   *
   *     assert.isEmpty([]);
   *     assert.isEmpty('');
   *     assert.isEmpty(new Map);
   *     assert.isEmpty({});
   *
   * @name isEmpty
   * @alias empty
   * @param {Object|Array|String|Map|Set} target
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isEmpty = function(val, msg) {
    new Assertion(val, msg, assert.isEmpty, true).to.be.empty;
  };

  /**
   * ### .isNotEmpty(target)
   *
   * Asserts that the target contains values.
   * For arrays and strings, it checks the `length` property.
   * For `Map` and `Set` instances, it checks the `size` property.
   * For non-function objects, it gets the count of own
   * enumerable string keys.
   *
   *     assert.isNotEmpty([1, 2]);
   *     assert.isNotEmpty('34');
   *     assert.isNotEmpty(new Set([5, 6]));
   *     assert.isNotEmpty({ key: 7 });
   *
   * @name isNotEmpty
   * @alias notEmpty
   * @param {Object|Array|String|Map|Set} target
   * @param {String} message _optional_
   * @namespace Assert
   * @api public
   */

  assert.isNotEmpty = function(val, msg) {
    new Assertion(val, msg, assert.isNotEmpty, true).to.not.be.empty;
  };

  /*!
   * Aliases.
   */

  (function alias(name, as){
    assert[as] = assert[name];
    return alias;
  })
  ('isOk', 'ok')
  ('isNotOk', 'notOk')
  ('throws', 'throw')
  ('throws', 'Throw')
  ('isExtensible', 'extensible')
  ('isNotExtensible', 'notExtensible')
  ('isSealed', 'sealed')
  ('isNotSealed', 'notSealed')
  ('isFrozen', 'frozen')
  ('isNotFrozen', 'notFrozen')
  ('isEmpty', 'empty')
  ('isNotEmpty', 'notEmpty');
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/interface/expect.js":
/*!********************************************************!*\
  !*** ./node_modules/chai/lib/chai/interface/expect.js ***!
  \********************************************************/
/***/ ((module) => {

/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

module.exports = function (chai, util) {
  chai.expect = function (val, message) {
    return new chai.Assertion(val, message);
  };

  /**
   * ### .fail([message])
   * ### .fail(actual, expected, [message], [operator])
   *
   * Throw a failure.
   *
   *     expect.fail();
   *     expect.fail("custom error message");
   *     expect.fail(1, 2);
   *     expect.fail(1, 2, "custom error message");
   *     expect.fail(1, 2, "custom error message", ">");
   *     expect.fail(1, 2, undefined, ">");
   *
   * @name fail
   * @param {Mixed} actual
   * @param {Mixed} expected
   * @param {String} message
   * @param {String} operator
   * @namespace BDD
   * @api public
   */

  chai.expect.fail = function (actual, expected, message, operator) {
    if (arguments.length < 2) {
        message = actual;
        actual = undefined;
    }

    message = message || 'expect.fail()';
    throw new chai.AssertionError(message, {
        actual: actual
      , expected: expected
      , operator: operator
    }, chai.expect.fail);
  };
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/interface/should.js":
/*!********************************************************!*\
  !*** ./node_modules/chai/lib/chai/interface/should.js ***!
  \********************************************************/
/***/ ((module) => {

/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

module.exports = function (chai, util) {
  var Assertion = chai.Assertion;

  function loadShould () {
    // explicitly define this method as function as to have it's name to include as `ssfi`
    function shouldGetter() {
      if (this instanceof String
          || this instanceof Number
          || this instanceof Boolean
          || typeof Symbol === 'function' && this instanceof Symbol
          || typeof BigInt === 'function' && this instanceof BigInt) {
        return new Assertion(this.valueOf(), null, shouldGetter);
      }
      return new Assertion(this, null, shouldGetter);
    }
    function shouldSetter(value) {
      // See https://github.com/chaijs/chai/issues/86: this makes
      // `whatever.should = someValue` actually set `someValue`, which is
      // especially useful for `global.should = require('chai').should()`.
      //
      // Note that we have to use [[DefineProperty]] instead of [[Put]]
      // since otherwise we would trigger this very setter!
      Object.defineProperty(this, 'should', {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    }
    // modify Object.prototype to have `should`
    Object.defineProperty(Object.prototype, 'should', {
      set: shouldSetter
      , get: shouldGetter
      , configurable: true
    });

    var should = {};

    /**
     * ### .fail([message])
     * ### .fail(actual, expected, [message], [operator])
     *
     * Throw a failure.
     *
     *     should.fail();
     *     should.fail("custom error message");
     *     should.fail(1, 2);
     *     should.fail(1, 2, "custom error message");
     *     should.fail(1, 2, "custom error message", ">");
     *     should.fail(1, 2, undefined, ">");
     *
     *
     * @name fail
     * @param {Mixed} actual
     * @param {Mixed} expected
     * @param {String} message
     * @param {String} operator
     * @namespace BDD
     * @api public
     */

    should.fail = function (actual, expected, message, operator) {
      if (arguments.length < 2) {
          message = actual;
          actual = undefined;
      }

      message = message || 'should.fail()';
      throw new chai.AssertionError(message, {
          actual: actual
        , expected: expected
        , operator: operator
      }, should.fail);
    };

    /**
     * ### .equal(actual, expected, [message])
     *
     * Asserts non-strict equality (`==`) of `actual` and `expected`.
     *
     *     should.equal(3, '3', '== coerces values to strings');
     *
     * @name equal
     * @param {Mixed} actual
     * @param {Mixed} expected
     * @param {String} message
     * @namespace Should
     * @api public
     */

    should.equal = function (val1, val2, msg) {
      new Assertion(val1, msg).to.equal(val2);
    };

    /**
     * ### .throw(function, [constructor/string/regexp], [string/regexp], [message])
     *
     * Asserts that `function` will throw an error that is an instance of
     * `constructor`, or alternately that it will throw an error with message
     * matching `regexp`.
     *
     *     should.throw(fn, 'function throws a reference error');
     *     should.throw(fn, /function throws a reference error/);
     *     should.throw(fn, ReferenceError);
     *     should.throw(fn, ReferenceError, 'function throws a reference error');
     *     should.throw(fn, ReferenceError, /function throws a reference error/);
     *
     * @name throw
     * @alias Throw
     * @param {Function} function
     * @param {ErrorConstructor} constructor
     * @param {RegExp} regexp
     * @param {String} message
     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types
     * @namespace Should
     * @api public
     */

    should.Throw = function (fn, errt, errs, msg) {
      new Assertion(fn, msg).to.Throw(errt, errs);
    };

    /**
     * ### .exist
     *
     * Asserts that the target is neither `null` nor `undefined`.
     *
     *     var foo = 'hi';
     *
     *     should.exist(foo, 'foo exists');
     *
     * @name exist
     * @namespace Should
     * @api public
     */

    should.exist = function (val, msg) {
      new Assertion(val, msg).to.exist;
    }

    // negation
    should.not = {}

    /**
     * ### .not.equal(actual, expected, [message])
     *
     * Asserts non-strict inequality (`!=`) of `actual` and `expected`.
     *
     *     should.not.equal(3, 4, 'these numbers are not equal');
     *
     * @name not.equal
     * @param {Mixed} actual
     * @param {Mixed} expected
     * @param {String} message
     * @namespace Should
     * @api public
     */

    should.not.equal = function (val1, val2, msg) {
      new Assertion(val1, msg).to.not.equal(val2);
    };

    /**
     * ### .throw(function, [constructor/regexp], [message])
     *
     * Asserts that `function` will _not_ throw an error that is an instance of
     * `constructor`, or alternately that it will not throw an error with message
     * matching `regexp`.
     *
     *     should.not.throw(fn, Error, 'function does not throw');
     *
     * @name not.throw
     * @alias not.Throw
     * @param {Function} function
     * @param {ErrorConstructor} constructor
     * @param {RegExp} regexp
     * @param {String} message
     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types
     * @namespace Should
     * @api public
     */

    should.not.Throw = function (fn, errt, errs, msg) {
      new Assertion(fn, msg).to.not.Throw(errt, errs);
    };

    /**
     * ### .not.exist
     *
     * Asserts that the target is neither `null` nor `undefined`.
     *
     *     var bar = null;
     *
     *     should.not.exist(bar, 'bar does not exist');
     *
     * @name not.exist
     * @namespace Should
     * @api public
     */

    should.not.exist = function (val, msg) {
      new Assertion(val, msg).to.not.exist;
    }

    should['throw'] = should['Throw'];
    should.not['throw'] = should.not['Throw'];

    return should;
  };

  chai.should = loadShould;
  chai.Should = loadShould;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/addChainableMethod.js":
/*!****************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/addChainableMethod.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var addLengthGuard = __webpack_require__(/*! ./addLengthGuard */ "./node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var proxify = __webpack_require__(/*! ./proxify */ "./node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/*!
 * Module variables
 */

// Check whether `Object.setPrototypeOf` is supported
var canSetPrototype = typeof Object.setPrototypeOf === 'function';

// Without `Object.setPrototypeOf` support, this module will need to add properties to a function.
// However, some of functions' own props are not configurable and should be skipped.
var testFn = function() {};
var excludeNames = Object.getOwnPropertyNames(testFn).filter(function(name) {
  var propDesc = Object.getOwnPropertyDescriptor(testFn, name);

  // Note: PhantomJS 1.x includes `callee` as one of `testFn`'s own properties,
  // but then returns `undefined` as the property descriptor for `callee`. As a
  // workaround, we perform an otherwise unnecessary type-check for `propDesc`,
  // and then filter it out if it's not an object as it should be.
  if (typeof propDesc !== 'object')
    return true;

  return !propDesc.configurable;
});

// Cache `Function` properties
var call  = Function.prototype.call,
    apply = Function.prototype.apply;

/**
 * ### .addChainableMethod(ctx, name, method, chainingBehavior)
 *
 * Adds a method to an object, such that the method can also be chained.
 *
 *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {
 *       var obj = utils.flag(this, 'object');
 *       new chai.Assertion(obj).to.be.equal(str);
 *     });
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);
 *
 * The result can then be used as both a method assertion, executing both `method` and
 * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.
 *
 *     expect(fooStr).to.be.foo('bar');
 *     expect(fooStr).to.be.foo.equal('foo');
 *
 * @param {Object} ctx object to which the method is added
 * @param {String} name of method to add
 * @param {Function} method function to be used for `name`, when called
 * @param {Function} chainingBehavior function to be called every time the property is accessed
 * @namespace Utils
 * @name addChainableMethod
 * @api public
 */

module.exports = function addChainableMethod(ctx, name, method, chainingBehavior) {
  if (typeof chainingBehavior !== 'function') {
    chainingBehavior = function () { };
  }

  var chainableBehavior = {
      method: method
    , chainingBehavior: chainingBehavior
  };

  // save the methods so we can overwrite them later, if we need to.
  if (!ctx.__methods) {
    ctx.__methods = {};
  }
  ctx.__methods[name] = chainableBehavior;

  Object.defineProperty(ctx, name,
    { get: function chainableMethodGetter() {
        chainableBehavior.chainingBehavior.call(this);

        var chainableMethodWrapper = function () {
          // Setting the `ssfi` flag to `chainableMethodWrapper` causes this
          // function to be the starting point for removing implementation
          // frames from the stack trace of a failed assertion.
          //
          // However, we only want to use this function as the starting point if
          // the `lockSsfi` flag isn't set.
          //
          // If the `lockSsfi` flag is set, then this assertion is being
          // invoked from inside of another assertion. In this case, the `ssfi`
          // flag has already been set by the outer assertion.
          //
          // Note that overwriting a chainable method merely replaces the saved
          // methods in `ctx.__methods` instead of completely replacing the
          // overwritten assertion. Therefore, an overwriting assertion won't
          // set the `ssfi` or `lockSsfi` flags.
          if (!flag(this, 'lockSsfi')) {
            flag(this, 'ssfi', chainableMethodWrapper);
          }

          var result = chainableBehavior.method.apply(this, arguments);
          if (result !== undefined) {
            return result;
          }

          var newAssertion = new chai.Assertion();
          transferFlags(this, newAssertion);
          return newAssertion;
        };

        addLengthGuard(chainableMethodWrapper, name, true);

        // Use `Object.setPrototypeOf` if available
        if (canSetPrototype) {
          // Inherit all properties from the object by replacing the `Function` prototype
          var prototype = Object.create(this);
          // Restore the `call` and `apply` methods from `Function`
          prototype.call = call;
          prototype.apply = apply;
          Object.setPrototypeOf(chainableMethodWrapper, prototype);
        }
        // Otherwise, redefine all properties (slow!)
        else {
          var asserterNames = Object.getOwnPropertyNames(ctx);
          asserterNames.forEach(function (asserterName) {
            if (excludeNames.indexOf(asserterName) !== -1) {
              return;
            }

            var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);
            Object.defineProperty(chainableMethodWrapper, asserterName, pd);
          });
        }

        transferFlags(this, chainableMethodWrapper);
        return proxify(chainableMethodWrapper);
      }
    , configurable: true
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/addLengthGuard.js":
/*!************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/addLengthGuard.js ***!
  \************************************************************/
/***/ ((module) => {

var fnLengthDesc = Object.getOwnPropertyDescriptor(function () {}, 'length');

/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .addLengthGuard(fn, assertionName, isChainable)
 *
 * Define `length` as a getter on the given uninvoked method assertion. The
 * getter acts as a guard against chaining `length` directly off of an uninvoked
 * method assertion, which is a problem because it references `function`'s
 * built-in `length` property instead of Chai's `length` assertion. When the
 * getter catches the user making this mistake, it throws an error with a
 * helpful message.
 *
 * There are two ways in which this mistake can be made. The first way is by
 * chaining the `length` assertion directly off of an uninvoked chainable
 * method. In this case, Chai suggests that the user use `lengthOf` instead. The
 * second way is by chaining the `length` assertion directly off of an uninvoked
 * non-chainable method. Non-chainable methods must be invoked prior to
 * chaining. In this case, Chai suggests that the user consult the docs for the
 * given assertion.
 *
 * If the `length` property of functions is unconfigurable, then return `fn`
 * without modification.
 *
 * Note that in ES6, the function's `length` property is configurable, so once
 * support for legacy environments is dropped, Chai's `length` property can
 * replace the built-in function's `length` property, and this length guard will
 * no longer be necessary. In the mean time, maintaining consistency across all
 * environments is the priority.
 *
 * @param {Function} fn
 * @param {String} assertionName
 * @param {Boolean} isChainable
 * @namespace Utils
 * @name addLengthGuard
 */

module.exports = function addLengthGuard (fn, assertionName, isChainable) {
  if (!fnLengthDesc.configurable) return fn;

  Object.defineProperty(fn, 'length', {
    get: function () {
      if (isChainable) {
        throw Error('Invalid Chai property: ' + assertionName + '.length. Due' +
          ' to a compatibility issue, "length" cannot directly follow "' +
          assertionName + '". Use "' + assertionName + '.lengthOf" instead.');
      }

      throw Error('Invalid Chai property: ' + assertionName + '.length. See' +
        ' docs for proper usage of "' + assertionName + '".');
    }
  });

  return fn;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/addMethod.js":
/*!*******************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/addMethod.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var addLengthGuard = __webpack_require__(/*! ./addLengthGuard */ "./node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var proxify = __webpack_require__(/*! ./proxify */ "./node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/**
 * ### .addMethod(ctx, name, method)
 *
 * Adds a method to the prototype of an object.
 *
 *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {
 *       var obj = utils.flag(this, 'object');
 *       new chai.Assertion(obj).to.be.equal(str);
 *     });
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.addMethod('foo', fn);
 *
 * Then can be used as any other assertion.
 *
 *     expect(fooStr).to.be.foo('bar');
 *
 * @param {Object} ctx object to which the method is added
 * @param {String} name of method to add
 * @param {Function} method function to be used for name
 * @namespace Utils
 * @name addMethod
 * @api public
 */

module.exports = function addMethod(ctx, name, method) {
  var methodWrapper = function () {
    // Setting the `ssfi` flag to `methodWrapper` causes this function to be the
    // starting point for removing implementation frames from the stack trace of
    // a failed assertion.
    //
    // However, we only want to use this function as the starting point if the
    // `lockSsfi` flag isn't set.
    //
    // If the `lockSsfi` flag is set, then either this assertion has been
    // overwritten by another assertion, or this assertion is being invoked from
    // inside of another assertion. In the first case, the `ssfi` flag has
    // already been set by the overwriting assertion. In the second case, the
    // `ssfi` flag has already been set by the outer assertion.
    if (!flag(this, 'lockSsfi')) {
      flag(this, 'ssfi', methodWrapper);
    }

    var result = method.apply(this, arguments);
    if (result !== undefined)
      return result;

    var newAssertion = new chai.Assertion();
    transferFlags(this, newAssertion);
    return newAssertion;
  };

  addLengthGuard(methodWrapper, name, false);
  ctx[name] = proxify(methodWrapper, name);
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/addProperty.js":
/*!*********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/addProperty.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var isProxyEnabled = __webpack_require__(/*! ./isProxyEnabled */ "./node_modules/chai/lib/chai/utils/isProxyEnabled.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/**
 * ### .addProperty(ctx, name, getter)
 *
 * Adds a property to the prototype of an object.
 *
 *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {
 *       var obj = utils.flag(this, 'object');
 *       new chai.Assertion(obj).to.be.instanceof(Foo);
 *     });
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.addProperty('foo', fn);
 *
 * Then can be used as any other assertion.
 *
 *     expect(myFoo).to.be.foo;
 *
 * @param {Object} ctx object to which the property is added
 * @param {String} name of property to add
 * @param {Function} getter function to be used for name
 * @namespace Utils
 * @name addProperty
 * @api public
 */

module.exports = function addProperty(ctx, name, getter) {
  getter = getter === undefined ? function () {} : getter;

  Object.defineProperty(ctx, name,
    { get: function propertyGetter() {
        // Setting the `ssfi` flag to `propertyGetter` causes this function to
        // be the starting point for removing implementation frames from the
        // stack trace of a failed assertion.
        //
        // However, we only want to use this function as the starting point if
        // the `lockSsfi` flag isn't set and proxy protection is disabled.
        //
        // If the `lockSsfi` flag is set, then either this assertion has been
        // overwritten by another assertion, or this assertion is being invoked
        // from inside of another assertion. In the first case, the `ssfi` flag
        // has already been set by the overwriting assertion. In the second
        // case, the `ssfi` flag has already been set by the outer assertion.
        //
        // If proxy protection is enabled, then the `ssfi` flag has already been
        // set by the proxy getter.
        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {
          flag(this, 'ssfi', propertyGetter);
        }

        var result = getter.call(this);
        if (result !== undefined)
          return result;

        var newAssertion = new chai.Assertion();
        transferFlags(this, newAssertion);
        return newAssertion;
      }
    , configurable: true
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/compareByInspect.js":
/*!**************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/compareByInspect.js ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var inspect = __webpack_require__(/*! ./inspect */ "./node_modules/chai/lib/chai/utils/inspect.js");

/**
 * ### .compareByInspect(mixed, mixed)
 *
 * To be used as a compareFunction with Array.prototype.sort. Compares elements
 * using inspect instead of default behavior of using toString so that Symbols
 * and objects with irregular/missing toString can still be sorted without a
 * TypeError.
 *
 * @param {Mixed} first element to compare
 * @param {Mixed} second element to compare
 * @returns {Number} -1 if 'a' should come before 'b'; otherwise 1
 * @name compareByInspect
 * @namespace Utils
 * @api public
 */

module.exports = function compareByInspect(a, b) {
  return inspect(a) < inspect(b) ? -1 : 1;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/expectTypes.js":
/*!*********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/expectTypes.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .expectTypes(obj, types)
 *
 * Ensures that the object being tested against is of a valid type.
 *
 *     utils.expectTypes(this, ['array', 'object', 'string']);
 *
 * @param {Mixed} obj constructed Assertion
 * @param {Array} type A list of allowed types for this assertion
 * @namespace Utils
 * @name expectTypes
 * @api public
 */

var AssertionError = __webpack_require__(/*! assertion-error */ "./node_modules/assertion-error/index.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var type = __webpack_require__(/*! type-detect */ "./node_modules/type-detect/type-detect.js");

module.exports = function expectTypes(obj, types) {
  var flagMsg = flag(obj, 'message');
  var ssfi = flag(obj, 'ssfi');

  flagMsg = flagMsg ? flagMsg + ': ' : '';

  obj = flag(obj, 'object');
  types = types.map(function (t) { return t.toLowerCase(); });
  types.sort();

  // Transforms ['lorem', 'ipsum'] into 'a lorem, or an ipsum'
  var str = types.map(function (t, index) {
    var art = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(t.charAt(0)) ? 'an' : 'a';
    var or = types.length > 1 && index === types.length - 1 ? 'or ' : '';
    return or + art + ' ' + t;
  }).join(', ');

  var objType = type(obj).toLowerCase();

  if (!types.some(function (expected) { return objType === expected; })) {
    throw new AssertionError(
      flagMsg + 'object tested must be ' + str + ', but ' + objType + ' given',
      undefined,
      ssfi
    );
  }
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/flag.js":
/*!**************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/flag.js ***!
  \**************************************************/
/***/ ((module) => {

/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .flag(object, key, [value])
 *
 * Get or set a flag value on an object. If a
 * value is provided it will be set, else it will
 * return the currently set value or `undefined` if
 * the value is not set.
 *
 *     utils.flag(this, 'foo', 'bar'); // setter
 *     utils.flag(this, 'foo'); // getter, returns `bar`
 *
 * @param {Object} object constructed Assertion
 * @param {String} key
 * @param {Mixed} value (optional)
 * @namespace Utils
 * @name flag
 * @api private
 */

module.exports = function flag(obj, key, value) {
  var flags = obj.__flags || (obj.__flags = Object.create(null));
  if (arguments.length === 3) {
    flags[key] = value;
  } else {
    return flags[key];
  }
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getActual.js":
/*!*******************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getActual.js ***!
  \*******************************************************/
/***/ ((module) => {

/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .getActual(object, [actual])
 *
 * Returns the `actual` value for an Assertion.
 *
 * @param {Object} object (constructed Assertion)
 * @param {Arguments} chai.Assertion.prototype.assert arguments
 * @namespace Utils
 * @name getActual
 */

module.exports = function getActual(obj, args) {
  return args.length > 4 ? args[4] : obj._obj;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getMessage.js":
/*!********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getMessage.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js")
  , getActual = __webpack_require__(/*! ./getActual */ "./node_modules/chai/lib/chai/utils/getActual.js")
  , objDisplay = __webpack_require__(/*! ./objDisplay */ "./node_modules/chai/lib/chai/utils/objDisplay.js");

/**
 * ### .getMessage(object, message, negateMessage)
 *
 * Construct the error message based on flags
 * and template tags. Template tags will return
 * a stringified inspection of the object referenced.
 *
 * Message template tags:
 * - `#{this}` current asserted object
 * - `#{act}` actual value
 * - `#{exp}` expected value
 *
 * @param {Object} object (constructed Assertion)
 * @param {Arguments} chai.Assertion.prototype.assert arguments
 * @namespace Utils
 * @name getMessage
 * @api public
 */

module.exports = function getMessage(obj, args) {
  var negate = flag(obj, 'negate')
    , val = flag(obj, 'object')
    , expected = args[3]
    , actual = getActual(obj, args)
    , msg = negate ? args[2] : args[1]
    , flagMsg = flag(obj, 'message');

  if(typeof msg === "function") msg = msg();
  msg = msg || '';
  msg = msg
    .replace(/#\{this\}/g, function () { return objDisplay(val); })
    .replace(/#\{act\}/g, function () { return objDisplay(actual); })
    .replace(/#\{exp\}/g, function () { return objDisplay(expected); });

  return flagMsg ? flagMsg + ': ' + msg : msg;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getOperator.js":
/*!*********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getOperator.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var type = __webpack_require__(/*! type-detect */ "./node_modules/type-detect/type-detect.js");

var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");

function isObjectType(obj) {
  var objectType = type(obj);
  var objectTypes = ['Array', 'Object', 'function'];

  return objectTypes.indexOf(objectType) !== -1;
}

/**
 * ### .getOperator(message)
 *
 * Extract the operator from error message.
 * Operator defined is based on below link
 * https://nodejs.org/api/assert.html#assert_assert.
 *
 * Returns the `operator` or `undefined` value for an Assertion.
 *
 * @param {Object} object (constructed Assertion)
 * @param {Arguments} chai.Assertion.prototype.assert arguments
 * @namespace Utils
 * @name getOperator
 * @api public
 */

module.exports = function getOperator(obj, args) {
  var operator = flag(obj, 'operator');
  var negate = flag(obj, 'negate');
  var expected = args[3];
  var msg = negate ? args[2] : args[1];

  if (operator) {
    return operator;
  }

  if (typeof msg === 'function') msg = msg();

  msg = msg || '';
  if (!msg) {
    return undefined;
  }

  if (/\shave\s/.test(msg)) {
    return undefined;
  }

  var isObject = isObjectType(expected);
  if (/\snot\s/.test(msg)) {
    return isObject ? 'notDeepStrictEqual' : 'notStrictEqual';
  }

  return isObject ? 'deepStrictEqual' : 'strictEqual';
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js":
/*!************************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js ***!
  \************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var getOwnEnumerablePropertySymbols = __webpack_require__(/*! ./getOwnEnumerablePropertySymbols */ "./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js");

/**
 * ### .getOwnEnumerableProperties(object)
 *
 * This allows the retrieval of directly-owned enumerable property names and
 * symbols of an object. This function is necessary because Object.keys only
 * returns enumerable property names, not enumerable property symbols.
 *
 * @param {Object} object
 * @returns {Array}
 * @namespace Utils
 * @name getOwnEnumerableProperties
 * @api public
 */

module.exports = function getOwnEnumerableProperties(obj) {
  return Object.keys(obj).concat(getOwnEnumerablePropertySymbols(obj));
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js ***!
  \*****************************************************************************/
/***/ ((module) => {

/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .getOwnEnumerablePropertySymbols(object)
 *
 * This allows the retrieval of directly-owned enumerable property symbols of an
 * object. This function is necessary because Object.getOwnPropertySymbols
 * returns both enumerable and non-enumerable property symbols.
 *
 * @param {Object} object
 * @returns {Array}
 * @namespace Utils
 * @name getOwnEnumerablePropertySymbols
 * @api public
 */

module.exports = function getOwnEnumerablePropertySymbols(obj) {
  if (typeof Object.getOwnPropertySymbols !== 'function') return [];

  return Object.getOwnPropertySymbols(obj).filter(function (sym) {
    return Object.getOwnPropertyDescriptor(obj, sym).enumerable;
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/getProperties.js":
/*!***********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/getProperties.js ***!
  \***********************************************************/
/***/ ((module) => {

/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .getProperties(object)
 *
 * This allows the retrieval of property names of an object, enumerable or not,
 * inherited or not.
 *
 * @param {Object} object
 * @returns {Array}
 * @namespace Utils
 * @name getProperties
 * @api public
 */

module.exports = function getProperties(object) {
  var result = Object.getOwnPropertyNames(object);

  function addProperty(property) {
    if (result.indexOf(property) === -1) {
      result.push(property);
    }
  }

  var proto = Object.getPrototypeOf(object);
  while (proto !== null) {
    Object.getOwnPropertyNames(proto).forEach(addProperty);
    proto = Object.getPrototypeOf(proto);
  }

  return result;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/index.js":
/*!***************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Dependencies that are used for multiple exports are required here only once
 */

var pathval = __webpack_require__(/*! pathval */ "./node_modules/pathval/index.js");

/*!
 * test utility
 */

exports.test = __webpack_require__(/*! ./test */ "./node_modules/chai/lib/chai/utils/test.js");

/*!
 * type utility
 */

exports.type = __webpack_require__(/*! type-detect */ "./node_modules/type-detect/type-detect.js");

/*!
 * expectTypes utility
 */
exports.expectTypes = __webpack_require__(/*! ./expectTypes */ "./node_modules/chai/lib/chai/utils/expectTypes.js");

/*!
 * message utility
 */

exports.getMessage = __webpack_require__(/*! ./getMessage */ "./node_modules/chai/lib/chai/utils/getMessage.js");

/*!
 * actual utility
 */

exports.getActual = __webpack_require__(/*! ./getActual */ "./node_modules/chai/lib/chai/utils/getActual.js");

/*!
 * Inspect util
 */

exports.inspect = __webpack_require__(/*! ./inspect */ "./node_modules/chai/lib/chai/utils/inspect.js");

/*!
 * Object Display util
 */

exports.objDisplay = __webpack_require__(/*! ./objDisplay */ "./node_modules/chai/lib/chai/utils/objDisplay.js");

/*!
 * Flag utility
 */

exports.flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");

/*!
 * Flag transferring utility
 */

exports.transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/*!
 * Deep equal utility
 */

exports.eql = __webpack_require__(/*! deep-eql */ "./node_modules/deep-eql/index.js");

/*!
 * Deep path info
 */

exports.getPathInfo = pathval.getPathInfo;

/*!
 * Check if a property exists
 */

exports.hasProperty = pathval.hasProperty;

/*!
 * Function name
 */

exports.getName = __webpack_require__(/*! get-func-name */ "./node_modules/get-func-name/index.js");

/*!
 * add Property
 */

exports.addProperty = __webpack_require__(/*! ./addProperty */ "./node_modules/chai/lib/chai/utils/addProperty.js");

/*!
 * add Method
 */

exports.addMethod = __webpack_require__(/*! ./addMethod */ "./node_modules/chai/lib/chai/utils/addMethod.js");

/*!
 * overwrite Property
 */

exports.overwriteProperty = __webpack_require__(/*! ./overwriteProperty */ "./node_modules/chai/lib/chai/utils/overwriteProperty.js");

/*!
 * overwrite Method
 */

exports.overwriteMethod = __webpack_require__(/*! ./overwriteMethod */ "./node_modules/chai/lib/chai/utils/overwriteMethod.js");

/*!
 * Add a chainable method
 */

exports.addChainableMethod = __webpack_require__(/*! ./addChainableMethod */ "./node_modules/chai/lib/chai/utils/addChainableMethod.js");

/*!
 * Overwrite chainable method
 */

exports.overwriteChainableMethod = __webpack_require__(/*! ./overwriteChainableMethod */ "./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js");

/*!
 * Compare by inspect method
 */

exports.compareByInspect = __webpack_require__(/*! ./compareByInspect */ "./node_modules/chai/lib/chai/utils/compareByInspect.js");

/*!
 * Get own enumerable property symbols method
 */

exports.getOwnEnumerablePropertySymbols = __webpack_require__(/*! ./getOwnEnumerablePropertySymbols */ "./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js");

/*!
 * Get own enumerable properties method
 */

exports.getOwnEnumerableProperties = __webpack_require__(/*! ./getOwnEnumerableProperties */ "./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js");

/*!
 * Checks error against a given set of criteria
 */

exports.checkError = __webpack_require__(/*! check-error */ "./node_modules/check-error/index.js");

/*!
 * Proxify util
 */

exports.proxify = __webpack_require__(/*! ./proxify */ "./node_modules/chai/lib/chai/utils/proxify.js");

/*!
 * addLengthGuard util
 */

exports.addLengthGuard = __webpack_require__(/*! ./addLengthGuard */ "./node_modules/chai/lib/chai/utils/addLengthGuard.js");

/*!
 * isProxyEnabled helper
 */

exports.isProxyEnabled = __webpack_require__(/*! ./isProxyEnabled */ "./node_modules/chai/lib/chai/utils/isProxyEnabled.js");

/*!
 * isNaN method
 */

exports.isNaN = __webpack_require__(/*! ./isNaN */ "./node_modules/chai/lib/chai/utils/isNaN.js");

/*!
 * getOperator method
 */

exports.getOperator = __webpack_require__(/*! ./getOperator */ "./node_modules/chai/lib/chai/utils/getOperator.js");

/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/inspect.js":
/*!*****************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/inspect.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// This is (almost) directly from Node.js utils
// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js

var getName = __webpack_require__(/*! get-func-name */ "./node_modules/get-func-name/index.js");
var loupe = __webpack_require__(/*! loupe */ "./node_modules/loupe/loupe.js");
var config = __webpack_require__(/*! ../config */ "./node_modules/chai/lib/chai/config.js");

module.exports = inspect;

/**
 * ### .inspect(obj, [showHidden], [depth], [colors])
 *
 * Echoes the value of a value. Tries to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Boolean} showHidden Flag that shows hidden (not enumerable)
 *    properties of objects. Default is false.
 * @param {Number} depth Depth in which to descend in object. Default is 2.
 * @param {Boolean} colors Flag to turn on ANSI escape codes to color the
 *    output. Default is false (no coloring).
 * @namespace Utils
 * @name inspect
 */
function inspect(obj, showHidden, depth, colors) {
  var options = {
    colors: colors,
    depth: (typeof depth === 'undefined' ? 2 : depth),
    showHidden: showHidden,
    truncate: config.truncateThreshold ? config.truncateThreshold : Infinity,
  };
  return loupe.inspect(obj, options);
}


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/isNaN.js":
/*!***************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/isNaN.js ***!
  \***************************************************/
/***/ ((module) => {

/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */

/**
 * ### .isNaN(value)
 *
 * Checks if the given value is NaN or not.
 *
 *     utils.isNaN(NaN); // true
 *
 * @param {Value} The value which has to be checked if it is NaN
 * @name isNaN
 * @api private
 */

function isNaN(value) {
  // Refer http://www.ecma-international.org/ecma-262/6.0/#sec-isnan-number
  // section's NOTE.
  return value !== value;
}

// If ECMAScript 6's Number.isNaN is present, prefer that.
module.exports = Number.isNaN || isNaN;


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/isProxyEnabled.js":
/*!************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/isProxyEnabled.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var config = __webpack_require__(/*! ../config */ "./node_modules/chai/lib/chai/config.js");

/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .isProxyEnabled()
 *
 * Helper function to check if Chai's proxy protection feature is enabled. If
 * proxies are unsupported or disabled via the user's Chai config, then return
 * false. Otherwise, return true.
 *
 * @namespace Utils
 * @name isProxyEnabled
 */

module.exports = function isProxyEnabled() {
  return config.useProxy &&
    typeof Proxy !== 'undefined' &&
    typeof Reflect !== 'undefined';
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/objDisplay.js":
/*!********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/objDisplay.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var inspect = __webpack_require__(/*! ./inspect */ "./node_modules/chai/lib/chai/utils/inspect.js");
var config = __webpack_require__(/*! ../config */ "./node_modules/chai/lib/chai/config.js");

/**
 * ### .objDisplay(object)
 *
 * Determines if an object or an array matches
 * criteria to be inspected in-line for error
 * messages or should be truncated.
 *
 * @param {Mixed} javascript object to inspect
 * @returns {string} stringified object
 * @name objDisplay
 * @namespace Utils
 * @api public
 */

module.exports = function objDisplay(obj) {
  var str = inspect(obj)
    , type = Object.prototype.toString.call(obj);

  if (config.truncateThreshold && str.length >= config.truncateThreshold) {
    if (type === '[object Function]') {
      return !obj.name || obj.name === ''
        ? '[Function]'
        : '[Function: ' + obj.name + ']';
    } else if (type === '[object Array]') {
      return '[ Array(' + obj.length + ') ]';
    } else if (type === '[object Object]') {
      var keys = Object.keys(obj)
        , kstr = keys.length > 2
          ? keys.splice(0, 2).join(', ') + ', ...'
          : keys.join(', ');
      return '{ Object (' + kstr + ') }';
    } else {
      return str;
    }
  } else {
    return str;
  }
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js":
/*!**********************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/**
 * ### .overwriteChainableMethod(ctx, name, method, chainingBehavior)
 *
 * Overwrites an already existing chainable method
 * and provides access to the previous function or
 * property.  Must return functions to be used for
 * name.
 *
 *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'lengthOf',
 *       function (_super) {
 *       }
 *     , function (_super) {
 *       }
 *     );
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);
 *
 * Then can be used as any other assertion.
 *
 *     expect(myFoo).to.have.lengthOf(3);
 *     expect(myFoo).to.have.lengthOf.above(3);
 *
 * @param {Object} ctx object whose method / property is to be overwritten
 * @param {String} name of method / property to overwrite
 * @param {Function} method function that returns a function to be used for name
 * @param {Function} chainingBehavior function that returns a function to be used for property
 * @namespace Utils
 * @name overwriteChainableMethod
 * @api public
 */

module.exports = function overwriteChainableMethod(ctx, name, method, chainingBehavior) {
  var chainableBehavior = ctx.__methods[name];

  var _chainingBehavior = chainableBehavior.chainingBehavior;
  chainableBehavior.chainingBehavior = function overwritingChainableMethodGetter() {
    var result = chainingBehavior(_chainingBehavior).call(this);
    if (result !== undefined) {
      return result;
    }

    var newAssertion = new chai.Assertion();
    transferFlags(this, newAssertion);
    return newAssertion;
  };

  var _method = chainableBehavior.method;
  chainableBehavior.method = function overwritingChainableMethodWrapper() {
    var result = method(_method).apply(this, arguments);
    if (result !== undefined) {
      return result;
    }

    var newAssertion = new chai.Assertion();
    transferFlags(this, newAssertion);
    return newAssertion;
  };
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/overwriteMethod.js":
/*!*************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/overwriteMethod.js ***!
  \*************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var addLengthGuard = __webpack_require__(/*! ./addLengthGuard */ "./node_modules/chai/lib/chai/utils/addLengthGuard.js");
var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var proxify = __webpack_require__(/*! ./proxify */ "./node_modules/chai/lib/chai/utils/proxify.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/**
 * ### .overwriteMethod(ctx, name, fn)
 *
 * Overwrites an already existing method and provides
 * access to previous function. Must return function
 * to be used for name.
 *
 *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {
 *       return function (str) {
 *         var obj = utils.flag(this, 'object');
 *         if (obj instanceof Foo) {
 *           new chai.Assertion(obj.value).to.equal(str);
 *         } else {
 *           _super.apply(this, arguments);
 *         }
 *       }
 *     });
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.overwriteMethod('foo', fn);
 *
 * Then can be used as any other assertion.
 *
 *     expect(myFoo).to.equal('bar');
 *
 * @param {Object} ctx object whose method is to be overwritten
 * @param {String} name of method to overwrite
 * @param {Function} method function that returns a function to be used for name
 * @namespace Utils
 * @name overwriteMethod
 * @api public
 */

module.exports = function overwriteMethod(ctx, name, method) {
  var _method = ctx[name]
    , _super = function () {
      throw new Error(name + ' is not a function');
    };

  if (_method && 'function' === typeof _method)
    _super = _method;

  var overwritingMethodWrapper = function () {
    // Setting the `ssfi` flag to `overwritingMethodWrapper` causes this
    // function to be the starting point for removing implementation frames from
    // the stack trace of a failed assertion.
    //
    // However, we only want to use this function as the starting point if the
    // `lockSsfi` flag isn't set.
    //
    // If the `lockSsfi` flag is set, then either this assertion has been
    // overwritten by another assertion, or this assertion is being invoked from
    // inside of another assertion. In the first case, the `ssfi` flag has
    // already been set by the overwriting assertion. In the second case, the
    // `ssfi` flag has already been set by the outer assertion.
    if (!flag(this, 'lockSsfi')) {
      flag(this, 'ssfi', overwritingMethodWrapper);
    }

    // Setting the `lockSsfi` flag to `true` prevents the overwritten assertion
    // from changing the `ssfi` flag. By this point, the `ssfi` flag is already
    // set to the correct starting point for this assertion.
    var origLockSsfi = flag(this, 'lockSsfi');
    flag(this, 'lockSsfi', true);
    var result = method(_super).apply(this, arguments);
    flag(this, 'lockSsfi', origLockSsfi);

    if (result !== undefined) {
      return result;
    }

    var newAssertion = new chai.Assertion();
    transferFlags(this, newAssertion);
    return newAssertion;
  }

  addLengthGuard(overwritingMethodWrapper, name, false);
  ctx[name] = proxify(overwritingMethodWrapper, name);
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/overwriteProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/overwriteProperty.js ***!
  \***************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var chai = __webpack_require__(/*! ../../chai */ "./node_modules/chai/lib/chai.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var isProxyEnabled = __webpack_require__(/*! ./isProxyEnabled */ "./node_modules/chai/lib/chai/utils/isProxyEnabled.js");
var transferFlags = __webpack_require__(/*! ./transferFlags */ "./node_modules/chai/lib/chai/utils/transferFlags.js");

/**
 * ### .overwriteProperty(ctx, name, fn)
 *
 * Overwrites an already existing property getter and provides
 * access to previous value. Must return function to use as getter.
 *
 *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {
 *       return function () {
 *         var obj = utils.flag(this, 'object');
 *         if (obj instanceof Foo) {
 *           new chai.Assertion(obj.name).to.equal('bar');
 *         } else {
 *           _super.call(this);
 *         }
 *       }
 *     });
 *
 *
 * Can also be accessed directly from `chai.Assertion`.
 *
 *     chai.Assertion.overwriteProperty('foo', fn);
 *
 * Then can be used as any other assertion.
 *
 *     expect(myFoo).to.be.ok;
 *
 * @param {Object} ctx object whose property is to be overwritten
 * @param {String} name of property to overwrite
 * @param {Function} getter function that returns a getter function to be used for name
 * @namespace Utils
 * @name overwriteProperty
 * @api public
 */

module.exports = function overwriteProperty(ctx, name, getter) {
  var _get = Object.getOwnPropertyDescriptor(ctx, name)
    , _super = function () {};

  if (_get && 'function' === typeof _get.get)
    _super = _get.get

  Object.defineProperty(ctx, name,
    { get: function overwritingPropertyGetter() {
        // Setting the `ssfi` flag to `overwritingPropertyGetter` causes this
        // function to be the starting point for removing implementation frames
        // from the stack trace of a failed assertion.
        //
        // However, we only want to use this function as the starting point if
        // the `lockSsfi` flag isn't set and proxy protection is disabled.
        //
        // If the `lockSsfi` flag is set, then either this assertion has been
        // overwritten by another assertion, or this assertion is being invoked
        // from inside of another assertion. In the first case, the `ssfi` flag
        // has already been set by the overwriting assertion. In the second
        // case, the `ssfi` flag has already been set by the outer assertion.
        //
        // If proxy protection is enabled, then the `ssfi` flag has already been
        // set by the proxy getter.
        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {
          flag(this, 'ssfi', overwritingPropertyGetter);
        }

        // Setting the `lockSsfi` flag to `true` prevents the overwritten
        // assertion from changing the `ssfi` flag. By this point, the `ssfi`
        // flag is already set to the correct starting point for this assertion.
        var origLockSsfi = flag(this, 'lockSsfi');
        flag(this, 'lockSsfi', true);
        var result = getter(_super).call(this);
        flag(this, 'lockSsfi', origLockSsfi);

        if (result !== undefined) {
          return result;
        }

        var newAssertion = new chai.Assertion();
        transferFlags(this, newAssertion);
        return newAssertion;
      }
    , configurable: true
  });
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/proxify.js":
/*!*****************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/proxify.js ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var config = __webpack_require__(/*! ../config */ "./node_modules/chai/lib/chai/config.js");
var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");
var getProperties = __webpack_require__(/*! ./getProperties */ "./node_modules/chai/lib/chai/utils/getProperties.js");
var isProxyEnabled = __webpack_require__(/*! ./isProxyEnabled */ "./node_modules/chai/lib/chai/utils/isProxyEnabled.js");

/*!
 * Chai - proxify utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .proxify(object)
 *
 * Return a proxy of given object that throws an error when a non-existent
 * property is read. By default, the root cause is assumed to be a misspelled
 * property, and thus an attempt is made to offer a reasonable suggestion from
 * the list of existing properties. However, if a nonChainableMethodName is
 * provided, then the root cause is instead a failure to invoke a non-chainable
 * method prior to reading the non-existent property.
 *
 * If proxies are unsupported or disabled via the user's Chai config, then
 * return object without modification.
 *
 * @param {Object} obj
 * @param {String} nonChainableMethodName
 * @namespace Utils
 * @name proxify
 */

var builtins = ['__flags', '__methods', '_obj', 'assert'];

module.exports = function proxify(obj, nonChainableMethodName) {
  if (!isProxyEnabled()) return obj;

  return new Proxy(obj, {
    get: function proxyGetter(target, property) {
      // This check is here because we should not throw errors on Symbol properties
      // such as `Symbol.toStringTag`.
      // The values for which an error should be thrown can be configured using
      // the `config.proxyExcludedKeys` setting.
      if (typeof property === 'string' &&
          config.proxyExcludedKeys.indexOf(property) === -1 &&
          !Reflect.has(target, property)) {
        // Special message for invalid property access of non-chainable methods.
        if (nonChainableMethodName) {
          throw Error('Invalid Chai property: ' + nonChainableMethodName + '.' +
            property + '. See docs for proper usage of "' +
            nonChainableMethodName + '".');
        }

        // If the property is reasonably close to an existing Chai property,
        // suggest that property to the user. Only suggest properties with a
        // distance less than 4.
        var suggestion = null;
        var suggestionDistance = 4;
        getProperties(target).forEach(function(prop) {
          if (
            !Object.prototype.hasOwnProperty(prop) &&
            builtins.indexOf(prop) === -1
          ) {
            var dist = stringDistanceCapped(
              property,
              prop,
              suggestionDistance
            );
            if (dist < suggestionDistance) {
              suggestion = prop;
              suggestionDistance = dist;
            }
          }
        });

        if (suggestion !== null) {
          throw Error('Invalid Chai property: ' + property +
            '. Did you mean "' + suggestion + '"?');
        } else {
          throw Error('Invalid Chai property: ' + property);
        }
      }

      // Use this proxy getter as the starting point for removing implementation
      // frames from the stack trace of a failed assertion. For property
      // assertions, this prevents the proxy getter from showing up in the stack
      // trace since it's invoked before the property getter. For method and
      // chainable method assertions, this flag will end up getting changed to
      // the method wrapper, which is good since this frame will no longer be in
      // the stack once the method is invoked. Note that Chai builtin assertion
      // properties such as `__flags` are skipped since this is only meant to
      // capture the starting point of an assertion. This step is also skipped
      // if the `lockSsfi` flag is set, thus indicating that this assertion is
      // being called from within another assertion. In that case, the `ssfi`
      // flag is already set to the outer assertion's starting point.
      if (builtins.indexOf(property) === -1 && !flag(target, 'lockSsfi')) {
        flag(target, 'ssfi', proxyGetter);
      }

      return Reflect.get(target, property);
    }
  });
};

/**
 * # stringDistanceCapped(strA, strB, cap)
 * Return the Levenshtein distance between two strings, but no more than cap.
 * @param {string} strA
 * @param {string} strB
 * @param {number} number
 * @return {number} min(string distance between strA and strB, cap)
 * @api private
 */

function stringDistanceCapped(strA, strB, cap) {
  if (Math.abs(strA.length - strB.length) >= cap) {
    return cap;
  }

  var memo = [];
  // `memo` is a two-dimensional array containing distances.
  // memo[i][j] is the distance between strA.slice(0, i) and
  // strB.slice(0, j).
  for (var i = 0; i <= strA.length; i++) {
    memo[i] = Array(strB.length + 1).fill(0);
    memo[i][0] = i;
  }
  for (var j = 0; j < strB.length; j++) {
    memo[0][j] = j;
  }

  for (var i = 1; i <= strA.length; i++) {
    var ch = strA.charCodeAt(i - 1);
    for (var j = 1; j <= strB.length; j++) {
      if (Math.abs(i - j) >= cap) {
        memo[i][j] = cap;
        continue;
      }
      memo[i][j] = Math.min(
        memo[i - 1][j] + 1,
        memo[i][j - 1] + 1,
        memo[i - 1][j - 1] +
          (ch === strB.charCodeAt(j - 1) ? 0 : 1)
      );
    }
  }

  return memo[strA.length][strB.length];
}


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/test.js":
/*!**************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/test.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var flag = __webpack_require__(/*! ./flag */ "./node_modules/chai/lib/chai/utils/flag.js");

/**
 * ### .test(object, expression)
 *
 * Test an object for expression.
 *
 * @param {Object} object (constructed Assertion)
 * @param {Arguments} chai.Assertion.prototype.assert arguments
 * @namespace Utils
 * @name test
 */

module.exports = function test(obj, args) {
  var negate = flag(obj, 'negate')
    , expr = args[0];
  return negate ? !expr : expr;
};


/***/ }),

/***/ "./node_modules/chai/lib/chai/utils/transferFlags.js":
/*!***********************************************************!*\
  !*** ./node_modules/chai/lib/chai/utils/transferFlags.js ***!
  \***********************************************************/
/***/ ((module) => {

/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .transferFlags(assertion, object, includeAll = true)
 *
 * Transfer all the flags for `assertion` to `object`. If
 * `includeAll` is set to `false`, then the base Chai
 * assertion flags (namely `object`, `ssfi`, `lockSsfi`,
 * and `message`) will not be transferred.
 *
 *
 *     var newAssertion = new Assertion();
 *     utils.transferFlags(assertion, newAssertion);
 *
 *     var anotherAssertion = new Assertion(myObj);
 *     utils.transferFlags(assertion, anotherAssertion, false);
 *
 * @param {Assertion} assertion the assertion to transfer the flags from
 * @param {Object} object the object to transfer the flags to; usually a new assertion
 * @param {Boolean} includeAll
 * @namespace Utils
 * @name transferFlags
 * @api private
 */

module.exports = function transferFlags(assertion, object, includeAll) {
  var flags = assertion.__flags || (assertion.__flags = Object.create(null));

  if (!object.__flags) {
    object.__flags = Object.create(null);
  }

  includeAll = arguments.length === 3 ? includeAll : true;

  for (var flag in flags) {
    if (includeAll ||
        (flag !== 'object' && flag !== 'ssfi' && flag !== 'lockSsfi' && flag != 'message')) {
      object.__flags[flag] = flags[flag];
    }
  }
};


/***/ }),

/***/ "./node_modules/check-error/index.js":
/*!*******************************************!*\
  !*** ./node_modules/check-error/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* !
 * Chai - checkError utility
 * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var getFunctionName = __webpack_require__(/*! get-func-name */ "./node_modules/get-func-name/index.js");
/**
 * ### .checkError
 *
 * Checks that an error conforms to a given set of criteria and/or retrieves information about it.
 *
 * @api public
 */

/**
 * ### .compatibleInstance(thrown, errorLike)
 *
 * Checks if two instances are compatible (strict equal).
 * Returns false if errorLike is not an instance of Error, because instances
 * can only be compatible if they're both error instances.
 *
 * @name compatibleInstance
 * @param {Error} thrown error
 * @param {Error|ErrorConstructor} errorLike object to compare against
 * @namespace Utils
 * @api public
 */

function compatibleInstance(thrown, errorLike) {
  return errorLike instanceof Error && thrown === errorLike;
}

/**
 * ### .compatibleConstructor(thrown, errorLike)
 *
 * Checks if two constructors are compatible.
 * This function can receive either an error constructor or
 * an error instance as the `errorLike` argument.
 * Constructors are compatible if they're the same or if one is
 * an instance of another.
 *
 * @name compatibleConstructor
 * @param {Error} thrown error
 * @param {Error|ErrorConstructor} errorLike object to compare against
 * @namespace Utils
 * @api public
 */

function compatibleConstructor(thrown, errorLike) {
  if (errorLike instanceof Error) {
    // If `errorLike` is an instance of any error we compare their constructors
    return thrown.constructor === errorLike.constructor || thrown instanceof errorLike.constructor;
  } else if (errorLike.prototype instanceof Error || errorLike === Error) {
    // If `errorLike` is a constructor that inherits from Error, we compare `thrown` to `errorLike` directly
    return thrown.constructor === errorLike || thrown instanceof errorLike;
  }

  return false;
}

/**
 * ### .compatibleMessage(thrown, errMatcher)
 *
 * Checks if an error's message is compatible with a matcher (String or RegExp).
 * If the message contains the String or passes the RegExp test,
 * it is considered compatible.
 *
 * @name compatibleMessage
 * @param {Error} thrown error
 * @param {String|RegExp} errMatcher to look for into the message
 * @namespace Utils
 * @api public
 */

function compatibleMessage(thrown, errMatcher) {
  var comparisonString = typeof thrown === 'string' ? thrown : thrown.message;
  if (errMatcher instanceof RegExp) {
    return errMatcher.test(comparisonString);
  } else if (typeof errMatcher === 'string') {
    return comparisonString.indexOf(errMatcher) !== -1; // eslint-disable-line no-magic-numbers
  }

  return false;
}

/**
 * ### .getConstructorName(errorLike)
 *
 * Gets the constructor name for an Error instance or constructor itself.
 *
 * @name getConstructorName
 * @param {Error|ErrorConstructor} errorLike
 * @namespace Utils
 * @api public
 */

function getConstructorName(errorLike) {
  var constructorName = errorLike;
  if (errorLike instanceof Error) {
    constructorName = getFunctionName(errorLike.constructor);
  } else if (typeof errorLike === 'function') {
    // If `err` is not an instance of Error it is an error constructor itself or another function.
    // If we've got a common function we get its name, otherwise we may need to create a new instance
    // of the error just in case it's a poorly-constructed error. Please see chaijs/chai/issues/45 to know more.
    constructorName = getFunctionName(errorLike);
    if (constructorName === '') {
      var newConstructorName = getFunctionName(new errorLike()); // eslint-disable-line new-cap
      constructorName = newConstructorName || constructorName;
    }
  }

  return constructorName;
}

/**
 * ### .getMessage(errorLike)
 *
 * Gets the error message from an error.
 * If `err` is a String itself, we return it.
 * If the error has no message, we return an empty string.
 *
 * @name getMessage
 * @param {Error|String} errorLike
 * @namespace Utils
 * @api public
 */

function getMessage(errorLike) {
  var msg = '';
  if (errorLike && errorLike.message) {
    msg = errorLike.message;
  } else if (typeof errorLike === 'string') {
    msg = errorLike;
  }

  return msg;
}

module.exports = {
  compatibleInstance: compatibleInstance,
  compatibleConstructor: compatibleConstructor,
  compatibleMessage: compatibleMessage,
  getMessage: getMessage,
  getConstructorName: getConstructorName,
};


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/coder.scss":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/coder.scss ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-coder {
  height: auto !important;
  min-height: calc(2.25rem + 2px) !important;
  max-height: 443px;
  overflow: auto;
  word-wrap: break-word;
  word-break: break-all;
  white-space: pre-wrap;
  cursor: text;
}

imt-coder[disabled] {
  background-color: #eee;
  cursor: not-allowed;
}

imt-coder imt-pill.function.first:after {
  content: "(";
}

imt-coder::selection {
  background: #b4d5fe;
}

imt-pill {
  font-family: Menlo, "Courier New", Courier, monospace;
  font-size: 12px;
  display: inline-block;
  line-height: 18px;
  margin: 3px 2px 0 2px;
  padding: 0 6px 0 6px;
  border-radius: 3px;
  background-color: #2f8cbb;
  color: white;
  transform: translate(0, -1px);
  cursor: default;
  user-select: none;
  transition: box-shadow 0.2s;
  text-shadow: none;
}

imt-pill::selection {
  background: transparent;
}

imt-pill img {
  width: 14px;
  height: 14px;
  margin-right: 6px;
  margin-top: -1px;
}

imt-pill[prefix]:before {
  content: attr(prefix);
}

imt-pill[invalid] {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  box-shadow: 0 2px 0 0 white, 0 4px 0 0 #eb5768;
}

imt-pill.hover.function, imt-pill.hover.compound {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  box-shadow: 0 2px 0 0 white, 0 4px 0 0 #2f8cbb;
}

imt-pill.selection {
  transition: none;
  border-radius: 0 !important;
  box-shadow: 0 -3px 0 4px #b4d5fe !important;
}

imt-pill.function {
  background-color: #dedede;
  color: #333;
  cursor: move;
}

imt-pill.function.last, imt-pill.function.separator {
  cursor: default;
}

imt-pill.function.unknown {
  background-color: #000000;
  color: #ffffff;
}

imt-pill.variable {
  background-color: #2f8cbb;
  cursor: move;
}

imt-pill.variable.unknown {
  background-color: #000000;
}

imt-pill.variable[type=array]:after {
  content: "[]";
}

imt-pill.variable.compound.first:after {
  content: "[";
}

imt-pill.variable.compound.last[name]:before {
  content: "]: ";
}

imt-pill.variable.compound.last[name].first-unknown {
  padding-left: 0px;
}

imt-pill.variable.compound.last[name].first-unknown:before {
  content: "]:";
  margin-right: 0.5rem;
  display: inline-block;
  padding-left: 6px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
  background-color: var(--pill-backgroundColor);
  color: var(--pill-color);
}

imt-pill.variable.compound:not(.first):not(.last):before {
  content: "]: ";
}

imt-pill.variable.compound:not(.first):not(.last).first-unknown {
  padding-left: 0px;
}

imt-pill.variable.compound:not(.first):not(.last).first-unknown:before {
  content: "]:";
  margin-right: 0.5rem;
  display: inline-block;
  padding-left: 6px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
  background-color: var(--pill-backgroundColor);
  color: var(--pill-color);
}

imt-pill.variable.compound:not(.first):not(.last):after {
  content: "[";
}

imt-pill.operator {
  background-color: #71ac34;
  cursor: move;
}

imt-pill.operator.unknown {
  background-color: #000000;
}

imt-pill.keyword {
  background-color: #ea89bf;
  cursor: move;
}

imt-pill.keyword.unknown {
  background-color: #000000;
}

imt-pill.custom-variable {
  cursor: move;
}

imt-pill.custom-variable.unknown {
  background-color: #000000 !important;
}

imt-pill.custom-variable:not([custom-iml_system]):not(.unknown)::before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  display: inline-block;
  content: "\\f007";
  margin-right: 3px;
  font-size: 8px;
  transform: translate(0px, -1px);
}

imt-pill.custom-function[custom-iml_system=false]:not(.unknown)::before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  display: inline-block;
  content: "\\f007";
  margin-right: 3px;
  font-size: 8px;
  transform: translate(0px, -1px);
}

imt-panel .panel-close {
  position: absolute;
  right: 8px;
  top: 0px;
}

imt-panel .panel-close button i {
  font-size: 14px;
}

imt-panel.forman-panel.coder-pills imt-pill[prefix]:before {
  content: none;
}

imt-panel.forman-panel.coder-pills imt-coder-panel-master-expander {
  display: flex;
  align-items: center;
  color: #868686;
  margin-bottom: 0.5rem;
  margin-left: 10px;
  cursor: pointer;
  transition: color 0.1s;
}

imt-panel.forman-panel.coder-pills imt-coder-panel-master-expander:before {
  transition: transform 0.2s, color 0.1s;
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f0d7";
  font-size: 0.6rem;
  margin-left: -10px;
  cursor: pointer;
  width: 10px;
  line-height: 10px;
  text-align: center;
}

imt-panel.forman-panel.coder-pills imt-coder-panel-master-expander:hover:before {
  color: #868686;
}

imt-panel.forman-panel.coder-pills imt-coder-panel-master-expander.collapsed:before {
  transform: rotate(-90deg);
}

imt-panel.forman-panel.coder-pills imt-coder-panel-master-expander .coder-master-expander-title {
  margin-left: 2px;
  font-weight: bold;
  font-size: 12px;
}

imt-panel.forman-panel.coder-pills imt-panel-header {
  background: linear-gradient(115deg, #b55dcd 0, #724ebf 100%);
  position: relative;
  height: auto;
  padding: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav {
  margin: 3px 0 0 3px;
  border: none;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-link {
  display: block;
  padding: 0.5rem 0.8rem;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link {
  font-family: "Font Awesome 6 Pro";
  font-weight: 400;
  font-size: 14px;
  opacity: 1;
  transition: background-color 0.2s;
  color: white;
  border: none;
  display: block;
  background-color: transparent;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link svg {
  width: 15px;
  height: 15px;
  transform: translate(0, 2px);
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link:hover {
  background-color: rgba(248, 248, 248, 0.2);
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.active {
  color: #006baa;
  background-color: #f8f8f8;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.active svg path {
  fill: #006baa;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-best:before {
  content: "\\f005";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-general:before {
  content: "\\f013";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-math:before {
  content: "\\f12b";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-string:before {
  content: "\\f031";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-date:before {
  content: "\\f073";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-array:before {
  content: "\\f00b";
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-integromat {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
}

imt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-integromat:before {
  content: "\\f7ea";
}

imt-panel.forman-panel.coder-pills imt-panel-header .help,
imt-panel.forman-panel.coder-pills imt-panel-header .close {
  position: absolute;
  top: 5px;
  padding: 4px 10px 5px 10px;
  opacity: 0.8;
  color: white;
  background-color: transparent;
  border: none;
  font-size: 14px;
  line-height: inherit;
  font-weight: inherit;
  text-shadow: none;
}

imt-panel.forman-panel.coder-pills imt-panel-header .help:hover,
imt-panel.forman-panel.coder-pills imt-panel-header .close:hover {
  color: white !important;
  opacity: 1 !important;
}

imt-panel.forman-panel.coder-pills imt-panel-header .help {
  right: 30px;
}

imt-panel.forman-panel.coder-pills imt-panel-header .close {
  right: 2px;
}

imt-panel.forman-panel.coder-pills .arrow-right {
  border-right-color: #f8f8f8;
}

imt-panel.forman-panel.coder-pills .arrow-left {
  border-left-color: #f8f8f8;
}

imt-panel.forman-panel.coder-pills imt-panel-body {
  padding: 0;
  background-color: #f8f8f8;
  border-bottom-left-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content {
  margin: 0;
  padding: 15px 10px 18px 10px;
  background-color: transparent;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content h4 {
  font-weight: 400;
  font-size: 15px;
  margin-top: 1rem;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content h4:first-child {
  margin-top: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content h5 {
  font-size: 10px;
  color: #868686;
  margin: 12px 0 5px 0;
  text-transform: uppercase;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-search:not(:only-child) {
  margin-bottom: 1rem;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container {
  position: relative;
  margin-bottom: 1rem;
  margin-left: 10px;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
  cursor: pointer;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title:before {
  transition: transform 0.2s, color 0.1s;
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f0d7";
  font-size: 0.6rem;
  margin-left: -10px;
  cursor: pointer;
  width: 10px;
  line-height: 10px;
  text-align: center;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title:hover:before {
  color: #868686;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .coder-pill-container-icon {
  display: flex;
  border-radius: 3px;
  height: 24px;
  width: 24px;
  margin-left: 2px;
  padding: 4px;
  margin-right: 0.3rem;
  flex-shrink: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .coder-pill-container-icon img {
  width: 100%;
  height: 100%;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .square {
  display: inline-block;
  vertical-align: bottom;
  border: 1px solid #bbb;
  color: #888;
  text-align: center;
  font-weight: 300;
  font-size: 11px;
  min-width: 18px;
  padding: 0;
  line-height: 16px;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title h4 {
  font-weight: 400;
  font-size: 15px;
  margin: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed {
  margin-bottom: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed .coder-pill-container-title:before {
  transform: rotate(-90deg);
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed .coder-pill-row {
  max-height: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.search-hide {
  display: none;
}

imt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .variables-license-panel button.close {
  font-size: 14px;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-showall {
  border-top: 1px solid #f8f8f8;
  cursor: pointer;
  padding: 10px 0 0 0;
  margin-top: 10px;
  color: #2f8cbb;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-showall .fa {
  margin-right: 6px;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row {
  display: flex;
  max-height: 60px;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
  align-items: center;
  padding-left: 10px;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.search-hide {
  max-height: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row > div {
  flex: 0 0 auto;
  max-width: 100%;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row .coder-sample {
  flex: 1 1 auto;
  font-size: 12px;
  padding: 0 7px;
  overflow: hidden;
  color: gray;
  white-space: nowrap;
  position: relative;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row .coder-sample:after {
  content: "";
  display: block;
  position: absolute;
  right: 0;
  top: 0;
  width: 50px;
  height: 22px;
  background: linear-gradient(to right, rgba(255, 255, 255, 0), #f8f8f8);
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-nested.out {
  max-height: 0;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:before {
  transition: transform 0.2s, color 0.1s;
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f0d7";
  font-size: 0.6rem;
  margin-left: -10px;
  cursor: pointer;
  width: 10px;
  line-height: 10px;
  text-align: center;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:hover:before {
  color: #868686;
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:before {
  transform: rotate(-90deg);
}

imt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children.open:before {
  transform: rotate(0);
}

imt-panel.forman-panel.coder-pills .coder-level-1 {
  margin-left: 15px;
}

imt-panel.forman-panel.coder-pills .coder-level-2 {
  margin-left: 30px;
}

imt-panel.forman-panel.coder-pills .coder-level-3 {
  margin-left: 45px;
}

imt-panel.forman-panel.coder-pills .coder-level-4 {
  margin-left: 60px;
}

imt-panel.forman-panel.coder-pills .coder-level-5 {
  margin-left: 75px;
}

imt-panel.forman-panel.coder-pills .coder-level-6 {
  margin-left: 90px;
}

imt-panel.forman-panel.coder-pills .coder-level-7 {
  margin-left: 105px;
}

imt-panel.forman-panel.coder-pills .coder-level-8 {
  margin-left: 120px;
}

imt-panel.forman-panel.coder-pills .coder-level-9 {
  margin-left: 135px;
}

imt-panel.forman-panel.coder-pills .coder-level-10 {
  margin-left: 150px;
}

imt-panel.forman-panel.coder-pills imt-panel-footer {
  display: none;
}

imt-panel.forman-panel.coder-hint {
  width: auto;
  max-width: 300px;
  box-shadow: 0px 6px 38px -9px rgba(0, 0, 0, 0.58);
}

imt-panel.forman-panel.coder-hint h6 {
  font-family: Menlo, "Courier New", Courier, monospace;
  font-size: 12px;
  font-weight: bold;
  margin: 0 0 5px 0;
}

imt-panel.forman-panel.coder-hint h6 .argument {
  font-weight: normal;
}

imt-panel.forman-panel.coder-hint h6 .argument:not(:last-of-type) {
  margin-right: 0.5rem;
}

imt-panel.forman-panel.coder-hint h6 .active-argument {
  text-decoration: underline;
  color: black;
  font-weight: bold;
}

imt-panel.forman-panel.coder-hint h6 small {
  font-weight: normal;
  font-size: 10px;
  margin-left: 7px;
  color: inherit;
}

imt-panel.forman-panel.coder-hint h6 small:before {
  content: "<";
}

imt-panel.forman-panel.coder-hint h6 small:after {
  content: ">";
}

imt-panel.forman-panel.coder-hint p {
  font-size: 12px;
  margin-bottom: 0;
}

imt-panel.forman-panel.coder-hint p.raw {
  font-family: Menlo, "Courier New", Courier, monospace;
  font-size: 10px;
}

imt-panel.forman-panel.coder-hint p.raw:before {
  content: "Raw: ";
}

imt-panel.forman-panel.coder-hint p.coder-hint-value {
  max-height: 132px;
  overflow: auto;
}

imt-panel.forman-panel.coder-hint pre {
  font-size: 11px;
  overflow-x: auto;
  padding: 0 7px 7px 7px;
  color: gray;
  background-color: #fbfbfb;
  margin-bottom: 0;
  white-space: nowrap;
  -ms-overflow-style: -ms-autohiding-scrollbar;
}

imt-panel.forman-panel.coder-hint pre:first-of-type {
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  padding-top: 7px;
}

imt-panel.forman-panel.coder-hint pre code {
  display: block;
  color: #c7254e;
  font-size: 12px;
}

imt-panel.forman-panel.coder-hint pre code .variable {
  background-color: #2f8cbb;
}

imt-panel.forman-panel.coder-hint pre code imt-pill.function.first:after {
  content: "(";
}

imt-panel.forman-panel.coder-hint pre:last-of-type {
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
}

imt-panel.forman-panel.coder-hint pre:first-of-type {
  margin-top: 1rem;
}`, "",{"version":3,"sources":["webpack://./lib/controls/coder.scss"],"names":[],"mappings":"AAAA;EACE,uBAAA;EACA,0CAAA;EACA,iBAAA;EACA,cAAA;EACA,qBAAA;EACA,qBAAA;EACA,qBAAA;EACA,YAAA;AACF;;AACA;EACE,sBAAA;EACA,mBAAA;AAEF;;AAAA;EACE,YAAA;AAGF;;AADA;EACE,mBAAA;AAIF;;AADA;EACE,qDAAA;EACA,eAAA;EACA,qBAAA;EACA,iBAAA;EACA,qBAAA;EACA,oBAAA;EACA,kBAAA;EACA,yBAAA;EACA,YAAA;EACA,6BAAA;EACA,eAAA;EACA,iBAAA;EACA,2BAAA;EACA,iBAAA;AAIF;;AAFA;EACE,uBAAA;AAKF;;AAHA;EACE,WAAA;EACA,YAAA;EACA,iBAAA;EACA,gBAAA;AAMF;;AAJA;EACE,qBAAA;AAOF;;AALA;EACE,4BAAA;EACA,6BAAA;EACA,8CAAA;AAQF;;AANA;EACE,4BAAA;EACA,6BAAA;EACA,8CAAA;AASF;;AAPA;EACE,gBAAA;EACA,2BAAA;EACA,2CAAA;AAUF;;AARA;EACE,yBAAA;EACA,WAAA;EACA,YAAA;AAWF;;AATA;EACE,eAAA;AAYF;;AAVA;EACE,yBAAA;EACA,cAAA;AAaF;;AAXA;EACE,yBAAA;EACA,YAAA;AAcF;;AAZA;EACE,yBAAA;AAeF;;AAbA;EACE,aAAA;AAgBF;;AAdA;EACE,YAAA;AAiBF;;AAfA;EACE,cAAA;AAkBF;;AAhBA;EACE,iBAAA;AAmBF;;AAjBA;EACE,aAAA;EACA,oBAAA;EACA,qBAAA;EACA,iBAAA;EACA,2BAAA;EACA,8BAAA;EACA,6CAAA;EACA,wBAAA;AAoBF;;AAlBA;EACE,cAAA;AAqBF;;AAnBA;EACE,iBAAA;AAsBF;;AApBA;EACE,aAAA;EACA,oBAAA;EACA,qBAAA;EACA,iBAAA;EACA,2BAAA;EACA,8BAAA;EACA,6CAAA;EACA,wBAAA;AAuBF;;AArBA;EACE,YAAA;AAwBF;;AAtBA;EACE,yBAAA;EACA,YAAA;AAyBF;;AAvBA;EACE,yBAAA;AA0BF;;AAxBA;EACE,yBAAA;EACA,YAAA;AA2BF;;AAzBA;EACE,yBAAA;AA4BF;;AA1BA;EACE,YAAA;AA6BF;;AA3BA;EACE,oCAAA;AA8BF;;AA5BA;EACE,iCAAA;EACA,gBAAA;EACA,qBAAA;EACA,gBAAA;EACA,iBAAA;EACA,cAAA;EACA,+BAAA;AA+BF;;AA7BA;EACE,iCAAA;EACA,gBAAA;EACA,qBAAA;EACA,gBAAA;EACA,iBAAA;EACA,cAAA;EACA,+BAAA;AAgCF;;AA7BA;EACE,kBAAA;EACA,UAAA;EACA,QAAA;AAgCF;;AA9BA;EACE,eAAA;AAiCF;;AA9BA;EACE,aAAA;AAiCF;;AA/BA;EACE,aAAA;EACA,mBAAA;EACA,cAAA;EACA,qBAAA;EACA,iBAAA;EACA,eAAA;EACA,sBAAA;AAkCF;;AAhCA;EACE,sCAAA;EACA,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;AAmCF;;AAjCA;EACE,cAAA;AAoCF;;AAlCA;EACE,yBAAA;AAqCF;;AAnCA;EACE,gBAAA;EACA,iBAAA;EACA,eAAA;AAsCF;;AApCA;EACE,4DAAA;EACA,kBAAA;EACA,YAAA;EACA,UAAA;AAuCF;;AArCA;EACE,mBAAA;EACA,YAAA;AAwCF;;AAtCA;EACE,cAAA;EACA,sBAAA;AAyCF;;AAvCA;EACE,iCAAA;EACA,gBAAA;EACA,eAAA;EACA,UAAA;EACA,iCAAA;EACA,YAAA;EACA,YAAA;EACA,cAAA;EACA,6BAAA;AA0CF;;AAxCA;EACE,WAAA;EACA,YAAA;EACA,4BAAA;AA2CF;;AAzCA;EACE,0CAAA;AA4CF;;AA1CA;EACE,cAAA;EACA,yBAAA;AA6CF;;AA3CA;EACE,aAAA;AA8CF;;AA5CA;EACE,gBAAA;AA+CF;;AA7CA;EACE,gBAAA;AAgDF;;AA9CA;EACE,gBAAA;AAiDF;;AA/CA;EACE,gBAAA;AAkDF;;AAhDA;EACE,gBAAA;AAmDF;;AAjDA;EACE,gBAAA;AAoDF;;AAlDA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,YAAA;AAqDF;;AAnDA;EACE,gBAAA;AAsDF;;AApDA;;EAEE,kBAAA;EACA,QAAA;EACA,0BAAA;EACA,YAAA;EACA,YAAA;EACA,6BAAA;EACA,YAAA;EACA,eAAA;EACA,oBAAA;EACA,oBAAA;EACA,iBAAA;AAuDF;;AArDA;;EAEE,uBAAA;EACA,qBAAA;AAwDF;;AAtDA;EACE,WAAA;AAyDF;;AAvDA;EACE,UAAA;AA0DF;;AAxDA;EACE,2BAAA;AA2DF;;AAzDA;EACE,0BAAA;AA4DF;;AA1DA;EACE,UAAA;EACA,yBAAA;EACA,kCAAA;EACA,mCAAA;AA6DF;;AA3DA;EACE,SAAA;EACA,4BAAA;EACA,6BAAA;AA8DF;;AA5DA;EACE,gBAAA;EACA,eAAA;EACA,gBAAA;AA+DF;;AA7DA;EACE,aAAA;AAgEF;;AA9DA;EACE,eAAA;EACA,cAAA;EACA,oBAAA;EACA,yBAAA;AAiEF;;AA/DA;EACE,mBAAA;AAkEF;;AAhEA;EACE,kBAAA;EACA,mBAAA;EACA,iBAAA;AAmEF;;AAjEA;EACE,aAAA;EACA,mBAAA;EACA,qBAAA;EACA,eAAA;AAoEF;;AAlEA;EACE,sCAAA;EACA,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;AAqEF;;AAnEA;EACE,cAAA;AAsEF;;AApEA;EACE,aAAA;EACA,kBAAA;EACA,YAAA;EACA,WAAA;EACA,gBAAA;EACA,YAAA;EACA,oBAAA;EACA,cAAA;AAuEF;;AArEA;EACE,WAAA;EACA,YAAA;AAwEF;;AAtEA;EACE,qBAAA;EACA,sBAAA;EACA,sBAAA;EACA,WAAA;EACA,kBAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;EACA,UAAA;EACA,iBAAA;AAyEF;;AAvEA;EACE,gBAAA;EACA,eAAA;EACA,SAAA;AA0EF;;AAxEA;EACE,gBAAA;AA2EF;;AAzEA;EACE,yBAAA;AA4EF;;AA1EA;EACE,aAAA;AA6EF;;AA3EA;EACE,aAAA;AA8EF;;AA5EA;EACE,eAAA;AA+EF;;AA7EA;EACE,6BAAA;EACA,eAAA;EACA,mBAAA;EACA,gBAAA;EACA,cAAA;AAgFF;;AA9EA;EACE,iBAAA;AAiFF;;AA/EA;EACE,aAAA;EACA,gBAAA;EACA,gBAAA;EACA,oCAAA;EACA,mBAAA;EACA,kBAAA;AAkFF;;AAhFA;EACE,aAAA;AAmFF;;AAjFA;EACE,cAAA;EACA,eAAA;AAoFF;;AAlFA;EACE,cAAA;EACA,eAAA;EACA,cAAA;EACA,gBAAA;EACA,WAAA;EACA,mBAAA;EACA,kBAAA;AAqFF;;AAnFA;EACE,WAAA;EACA,cAAA;EACA,kBAAA;EACA,QAAA;EACA,MAAA;EACA,WAAA;EACA,YAAA;EACA,sEAAA;AAsFF;;AApFA;EACE,aAAA;AAuFF;;AArFA;EACE,sCAAA;EACA,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,iBAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,iBAAA;EACA,kBAAA;AAwFF;;AAtFA;EACE,cAAA;AAyFF;;AAvFA;EACE,yBAAA;AA0FF;;AAxFA;EACE,oBAAA;AA2FF;;AAzFA;EACE,iBAAA;AA4FF;;AA1FA;EACE,iBAAA;AA6FF;;AA3FA;EACE,iBAAA;AA8FF;;AA5FA;EACE,iBAAA;AA+FF;;AA7FA;EACE,iBAAA;AAgGF;;AA9FA;EACE,iBAAA;AAiGF;;AA/FA;EACE,kBAAA;AAkGF;;AAhGA;EACE,kBAAA;AAmGF;;AAjGA;EACE,kBAAA;AAoGF;;AAlGA;EACE,kBAAA;AAqGF;;AAnGA;EACE,aAAA;AAsGF;;AAnGA;EACE,WAAA;EACA,gBAAA;EACA,iDAAA;AAsGF;;AApGA;EACE,qDAAA;EACA,eAAA;EACA,iBAAA;EACA,iBAAA;AAuGF;;AArGA;EACE,mBAAA;AAwGF;;AAtGA;EACE,oBAAA;AAyGF;;AAvGA;EACE,0BAAA;EACA,YAAA;EACA,iBAAA;AA0GF;;AAxGA;EACE,mBAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;AA2GF;;AAzGA;EACE,YAAA;AA4GF;;AA1GA;EACE,YAAA;AA6GF;;AA3GA;EACE,eAAA;EACA,gBAAA;AA8GF;;AA5GA;EACE,qDAAA;EACA,eAAA;AA+GF;;AA7GA;EACE,gBAAA;AAgHF;;AA9GA;EACE,iBAAA;EACA,cAAA;AAiHF;;AA/GA;EACE,eAAA;EACA,gBAAA;EACA,sBAAA;EACA,WAAA;EACA,yBAAA;EACA,gBAAA;EACA,mBAAA;EACA,4CAAA;AAkHF;;AAhHA;EACE,2BAAA;EACA,4BAAA;EACA,gBAAA;AAmHF;;AAjHA;EACE,cAAA;EACA,cAAA;EACA,eAAA;AAoHF;;AAlHA;EACE,yBAAA;AAqHF;;AAnHA;EACE,YAAA;AAsHF;;AApHA;EACE,8BAAA;EACA,+BAAA;AAuHF;;AArHA;EACE,gBAAA;AAwHF","sourcesContent":["imt-coder {\n  height: auto !important;\n  min-height: calc(2.25rem + 2px) !important;\n  max-height: 443px;\n  overflow: auto;\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n  cursor: text;\n}\nimt-coder[disabled] {\n  background-color: #eee;\n  cursor: not-allowed;\n}\nimt-coder imt-pill.function.first:after {\n  content: \"(\";\n}\nimt-coder::selection {\n  background: #b4d5fe;\n}\n\nimt-pill {\n  font-family: Menlo, \"Courier New\", Courier, monospace;\n  font-size: 12px;\n  display: inline-block;\n  line-height: 18px;\n  margin: 3px 2px 0 2px;\n  padding: 0 6px 0 6px;\n  border-radius: 3px;\n  background-color: #2f8cbb;\n  color: white;\n  transform: translate(0, -1px);\n  cursor: default;\n  user-select: none;\n  transition: box-shadow 0.2s;\n  text-shadow: none;\n}\nimt-pill::selection {\n  background: transparent;\n}\nimt-pill img {\n  width: 14px;\n  height: 14px;\n  margin-right: 6px;\n  margin-top: -1px;\n}\nimt-pill[prefix]:before {\n  content: attr(prefix);\n}\nimt-pill[invalid] {\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  box-shadow: 0 2px 0 0 white, 0 4px 0 0 #eb5768;\n}\nimt-pill.hover.function, imt-pill.hover.compound {\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  box-shadow: 0 2px 0 0 white, 0 4px 0 0 #2f8cbb;\n}\nimt-pill.selection {\n  transition: none;\n  border-radius: 0 !important;\n  box-shadow: 0 -3px 0 4px #b4d5fe !important;\n}\nimt-pill.function {\n  background-color: #dedede;\n  color: #333;\n  cursor: move;\n}\nimt-pill.function.last, imt-pill.function.separator {\n  cursor: default;\n}\nimt-pill.function.unknown {\n  background-color: #000000;\n  color: #ffffff;\n}\nimt-pill.variable {\n  background-color: #2f8cbb;\n  cursor: move;\n}\nimt-pill.variable.unknown {\n  background-color: #000000;\n}\nimt-pill.variable[type=array]:after {\n  content: \"[]\";\n}\nimt-pill.variable.compound.first:after {\n  content: \"[\";\n}\nimt-pill.variable.compound.last[name]:before {\n  content: \"]: \";\n}\nimt-pill.variable.compound.last[name].first-unknown {\n  padding-left: 0px;\n}\nimt-pill.variable.compound.last[name].first-unknown:before {\n  content: \"]:\";\n  margin-right: 0.5rem;\n  display: inline-block;\n  padding-left: 6px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n  background-color: var(--pill-backgroundColor);\n  color: var(--pill-color);\n}\nimt-pill.variable.compound:not(.first):not(.last):before {\n  content: \"]: \";\n}\nimt-pill.variable.compound:not(.first):not(.last).first-unknown {\n  padding-left: 0px;\n}\nimt-pill.variable.compound:not(.first):not(.last).first-unknown:before {\n  content: \"]:\";\n  margin-right: 0.5rem;\n  display: inline-block;\n  padding-left: 6px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n  background-color: var(--pill-backgroundColor);\n  color: var(--pill-color);\n}\nimt-pill.variable.compound:not(.first):not(.last):after {\n  content: \"[\";\n}\nimt-pill.operator {\n  background-color: #71ac34;\n  cursor: move;\n}\nimt-pill.operator.unknown {\n  background-color: #000000;\n}\nimt-pill.keyword {\n  background-color: #ea89bf;\n  cursor: move;\n}\nimt-pill.keyword.unknown {\n  background-color: #000000;\n}\nimt-pill.custom-variable {\n  cursor: move;\n}\nimt-pill.custom-variable.unknown {\n  background-color: #000000 !important;\n}\nimt-pill.custom-variable:not([custom-iml_system]):not(.unknown)::before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  display: inline-block;\n  content: \"\\f007\";\n  margin-right: 3px;\n  font-size: 8px;\n  transform: translate(0px, -1px);\n}\nimt-pill.custom-function[custom-iml_system=false]:not(.unknown)::before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  display: inline-block;\n  content: \"\\f007\";\n  margin-right: 3px;\n  font-size: 8px;\n  transform: translate(0px, -1px);\n}\n\nimt-panel .panel-close {\n  position: absolute;\n  right: 8px;\n  top: 0px;\n}\nimt-panel .panel-close button i {\n  font-size: 14px;\n}\n\nimt-panel.forman-panel.coder-pills imt-pill[prefix]:before {\n  content: none;\n}\nimt-panel.forman-panel.coder-pills imt-coder-panel-master-expander {\n  display: flex;\n  align-items: center;\n  color: #868686;\n  margin-bottom: 0.5rem;\n  margin-left: 10px;\n  cursor: pointer;\n  transition: color 0.1s;\n}\nimt-panel.forman-panel.coder-pills imt-coder-panel-master-expander:before {\n  transition: transform 0.2s, color 0.1s;\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f0d7\";\n  font-size: 0.6rem;\n  margin-left: -10px;\n  cursor: pointer;\n  width: 10px;\n  line-height: 10px;\n  text-align: center;\n}\nimt-panel.forman-panel.coder-pills imt-coder-panel-master-expander:hover:before {\n  color: #868686;\n}\nimt-panel.forman-panel.coder-pills imt-coder-panel-master-expander.collapsed:before {\n  transform: rotate(-90deg);\n}\nimt-panel.forman-panel.coder-pills imt-coder-panel-master-expander .coder-master-expander-title {\n  margin-left: 2px;\n  font-weight: bold;\n  font-size: 12px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header {\n  background: linear-gradient(115deg, #b55dcd 0, #724ebf 100%);\n  position: relative;\n  height: auto;\n  padding: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav {\n  margin: 3px 0 0 3px;\n  border: none;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-link {\n  display: block;\n  padding: 0.5rem 0.8rem;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 400;\n  font-size: 14px;\n  opacity: 1;\n  transition: background-color 0.2s;\n  color: white;\n  border: none;\n  display: block;\n  background-color: transparent;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link svg {\n  width: 15px;\n  height: 15px;\n  transform: translate(0, 2px);\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link:hover {\n  background-color: rgba(248, 248, 248, 0.2);\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.active {\n  color: #006baa;\n  background-color: #f8f8f8;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.active svg path {\n  fill: #006baa;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-best:before {\n  content: \"\\f005\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-general:before {\n  content: \"\\f013\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-math:before {\n  content: \"\\f12b\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-string:before {\n  content: \"\\f031\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-date:before {\n  content: \"\\f073\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-array:before {\n  content: \"\\f00b\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-integromat {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header ul.nav .nav-item .nav-link.pills-integromat:before {\n  content: \"\\f7ea\";\n}\nimt-panel.forman-panel.coder-pills imt-panel-header .help,\nimt-panel.forman-panel.coder-pills imt-panel-header .close {\n  position: absolute;\n  top: 5px;\n  padding: 4px 10px 5px 10px;\n  opacity: 0.8;\n  color: white;\n  background-color: transparent;\n  border: none;\n  font-size: 14px;\n  line-height: inherit;\n  font-weight: inherit;\n  text-shadow: none;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header .help:hover,\nimt-panel.forman-panel.coder-pills imt-panel-header .close:hover {\n  color: white !important;\n  opacity: 1 !important;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header .help {\n  right: 30px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-header .close {\n  right: 2px;\n}\nimt-panel.forman-panel.coder-pills .arrow-right {\n  border-right-color: #f8f8f8;\n}\nimt-panel.forman-panel.coder-pills .arrow-left {\n  border-left-color: #f8f8f8;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body {\n  padding: 0;\n  background-color: #f8f8f8;\n  border-bottom-left-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content {\n  margin: 0;\n  padding: 15px 10px 18px 10px;\n  background-color: transparent;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content h4 {\n  font-weight: 400;\n  font-size: 15px;\n  margin-top: 1rem;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content h4:first-child {\n  margin-top: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content h5 {\n  font-size: 10px;\n  color: #868686;\n  margin: 12px 0 5px 0;\n  text-transform: uppercase;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-search:not(:only-child) {\n  margin-bottom: 1rem;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container {\n  position: relative;\n  margin-bottom: 1rem;\n  margin-left: 10px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  cursor: pointer;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title:before {\n  transition: transform 0.2s, color 0.1s;\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f0d7\";\n  font-size: 0.6rem;\n  margin-left: -10px;\n  cursor: pointer;\n  width: 10px;\n  line-height: 10px;\n  text-align: center;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title:hover:before {\n  color: #868686;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .coder-pill-container-icon {\n  display: flex;\n  border-radius: 3px;\n  height: 24px;\n  width: 24px;\n  margin-left: 2px;\n  padding: 4px;\n  margin-right: 0.3rem;\n  flex-shrink: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .coder-pill-container-icon img {\n  width: 100%;\n  height: 100%;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title .square {\n  display: inline-block;\n  vertical-align: bottom;\n  border: 1px solid #bbb;\n  color: #888;\n  text-align: center;\n  font-weight: 300;\n  font-size: 11px;\n  min-width: 18px;\n  padding: 0;\n  line-height: 16px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container .coder-pill-container-title h4 {\n  font-weight: 400;\n  font-size: 15px;\n  margin: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed {\n  margin-bottom: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed .coder-pill-container-title:before {\n  transform: rotate(-90deg);\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.collapsed .coder-pill-row {\n  max-height: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .coder-pill-container.search-hide {\n  display: none;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .tab-content .tab-pane .variables-license-panel button.close {\n  font-size: 14px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-showall {\n  border-top: 1px solid #f8f8f8;\n  cursor: pointer;\n  padding: 10px 0 0 0;\n  margin-top: 10px;\n  color: #2f8cbb;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-showall .fa {\n  margin-right: 6px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row {\n  display: flex;\n  max-height: 60px;\n  overflow: hidden;\n  transition: max-height 0.2s ease-out;\n  align-items: center;\n  padding-left: 10px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.search-hide {\n  max-height: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row > div {\n  flex: 0 0 auto;\n  max-width: 100%;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row .coder-sample {\n  flex: 1 1 auto;\n  font-size: 12px;\n  padding: 0 7px;\n  overflow: hidden;\n  color: gray;\n  white-space: nowrap;\n  position: relative;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row .coder-sample:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 50px;\n  height: 22px;\n  background: linear-gradient(to right, rgba(255, 255, 255, 0), #f8f8f8);\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-nested.out {\n  max-height: 0;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:before {\n  transition: transform 0.2s, color 0.1s;\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f0d7\";\n  font-size: 0.6rem;\n  margin-left: -10px;\n  cursor: pointer;\n  width: 10px;\n  line-height: 10px;\n  text-align: center;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:hover:before {\n  color: #868686;\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children:before {\n  transform: rotate(-90deg);\n}\nimt-panel.forman-panel.coder-pills imt-panel-body .coder-pill-row.coder-pill-row-has-children.open:before {\n  transform: rotate(0);\n}\nimt-panel.forman-panel.coder-pills .coder-level-1 {\n  margin-left: 15px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-2 {\n  margin-left: 30px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-3 {\n  margin-left: 45px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-4 {\n  margin-left: 60px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-5 {\n  margin-left: 75px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-6 {\n  margin-left: 90px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-7 {\n  margin-left: 105px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-8 {\n  margin-left: 120px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-9 {\n  margin-left: 135px;\n}\nimt-panel.forman-panel.coder-pills .coder-level-10 {\n  margin-left: 150px;\n}\nimt-panel.forman-panel.coder-pills imt-panel-footer {\n  display: none;\n}\n\nimt-panel.forman-panel.coder-hint {\n  width: auto;\n  max-width: 300px;\n  box-shadow: 0px 6px 38px -9px rgba(0, 0, 0, 0.58);\n}\nimt-panel.forman-panel.coder-hint h6 {\n  font-family: Menlo, \"Courier New\", Courier, monospace;\n  font-size: 12px;\n  font-weight: bold;\n  margin: 0 0 5px 0;\n}\nimt-panel.forman-panel.coder-hint h6 .argument {\n  font-weight: normal;\n}\nimt-panel.forman-panel.coder-hint h6 .argument:not(:last-of-type) {\n  margin-right: 0.5rem;\n}\nimt-panel.forman-panel.coder-hint h6 .active-argument {\n  text-decoration: underline;\n  color: black;\n  font-weight: bold;\n}\nimt-panel.forman-panel.coder-hint h6 small {\n  font-weight: normal;\n  font-size: 10px;\n  margin-left: 7px;\n  color: inherit;\n}\nimt-panel.forman-panel.coder-hint h6 small:before {\n  content: \"<\";\n}\nimt-panel.forman-panel.coder-hint h6 small:after {\n  content: \">\";\n}\nimt-panel.forman-panel.coder-hint p {\n  font-size: 12px;\n  margin-bottom: 0;\n}\nimt-panel.forman-panel.coder-hint p.raw {\n  font-family: Menlo, \"Courier New\", Courier, monospace;\n  font-size: 10px;\n}\nimt-panel.forman-panel.coder-hint p.raw:before {\n  content: \"Raw: \";\n}\nimt-panel.forman-panel.coder-hint p.coder-hint-value {\n  max-height: 132px;\n  overflow: auto;\n}\nimt-panel.forman-panel.coder-hint pre {\n  font-size: 11px;\n  overflow-x: auto;\n  padding: 0 7px 7px 7px;\n  color: gray;\n  background-color: #fbfbfb;\n  margin-bottom: 0;\n  white-space: nowrap;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n}\nimt-panel.forman-panel.coder-hint pre:first-of-type {\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  padding-top: 7px;\n}\nimt-panel.forman-panel.coder-hint pre code {\n  display: block;\n  color: #c7254e;\n  font-size: 12px;\n}\nimt-panel.forman-panel.coder-hint pre code .variable {\n  background-color: #2f8cbb;\n}\nimt-panel.forman-panel.coder-hint pre code imt-pill.function.first:after {\n  content: \"(\";\n}\nimt-panel.forman-panel.coder-hint pre:last-of-type {\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\nimt-panel.forman-panel.coder-hint pre:first-of-type {\n  margin-top: 1rem;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/panel.scss":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/panel.scss ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-panel.forman-panel {
  background-color: #f8f8f8;
  box-shadow: 0 20px 60px 0 rgba(0, 0, 0, 0.2);
  width: 600px;
  max-height: calc(100vh - 20px);
  max-width: calc(100vw - 20px);
  display: flex;
  flex-direction: column;
  border-radius: 0.25rem;
  z-index: 100;
}

imt-panel.forman-panel.fit-content {
  width: fit-content !important;
  padding-right: 12px;
}

imt-panel.forman-panel:not([position=inline]) {
  position: fixed;
}

imt-panel.forman-panel[compact] imt-panel-header,
imt-panel.forman-panel[compact] imt-panel-footer {
  display: none;
}

imt-panel.forman-panel.imt-datetimepicker imt-panel-footer {
  display: none;
}

imt-panel.forman-panel imt-panel-arrow {
  transform: rotate(45deg);
  height: 10px;
  width: 10px;
  position: absolute;
  pointer-events: none;
  background-color: inherit;
  z-index: -1;
}

imt-panel.forman-panel[resolved-position=right] > imt-panel-arrow {
  left: -5px;
  margin-top: -6px;
}

imt-panel.forman-panel[resolved-position=left] > imt-panel-arrow {
  right: -5px;
  margin-top: -6px;
}

imt-panel.forman-panel[resolved-position=top] > imt-panel-arrow {
  bottom: -5px;
  margin-left: -6px;
}

imt-panel.forman-panel[resolved-position=bottom] > imt-panel-arrow {
  top: -5px;
  margin-left: -6px;
}

imt-panel.forman-panel .imt-panel-loading {
  padding: 0.75rem 0 0.75rem 0.75rem;
  color: #a4a9ae;
  font-weight: 400;
  font-size: 12px;
  display: flex;
  align-items: center;
}

imt-panel.forman-panel .imt-panel-loading i.loading-loader {
  margin-right: 0.5rem;
  font-size: 1rem;
}

imt-panel.forman-panel imt-panel-header {
  background: linear-gradient(115deg, #ac94ea 0%, #846cc2 100%);
  color: #fff;
  height: 50px;
  border-radius: 0.25rem 0.25rem 0 0;
  padding: 10px;
  flex: 1 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

imt-panel.forman-panel imt-panel-header h1 {
  margin: 0;
  padding: 0;
  font-size: 16px;
}

imt-panel.forman-panel imt-panel-header .header-buttons {
  display: flex;
  justify-content: center;
  align-items: center;
}

imt-panel.forman-panel imt-panel-header .header-buttons .close {
  font-size: 14px;
  color: inherit;
  padding: 10px;
}

imt-panel.forman-panel imt-panel-header .header-buttons .panel-menu {
  color: inherit;
  padding: 10px;
  opacity: 0.5;
  font-size: inherit;
  line-height: inherit;
  font-weight: inherit;
  text-shadow: none;
  flex: 0 0;
  border: none;
  background: transparent;
  font-size: 14px;
}

imt-panel.forman-panel imt-panel-header .header-buttons .panel-menu:hover {
  opacity: 1;
}

imt-panel.forman-panel imt-panel-header button.close {
  font-size: 14px;
  color: inherit;
  padding: 10px;
}

imt-panel.forman-panel imt-panel-body {
  padding: 15px;
  overflow-y: auto;
  flex: 1 1 auto;
}

imt-panel.forman-panel imt-panel-body .alert {
  padding: 0.75rem;
}

imt-panel.forman-panel imt-panel-footer {
  flex: 1 0 auto;
  display: flex;
  border-top: 1px solid #cecece;
  padding: 12px 20px;
  justify-content: space-between;
  align-items: center;
}

imt-panel.forman-panel imt-panel-footer .footer-display,
imt-panel.forman-panel imt-panel-footer .footer-buttons {
  display: flex;
  align-items: center;
}

imt-panel.forman-panel imt-panel-footer .footer-display label.show-advanced-label {
  margin: 0 0 0 10px;
}`, "",{"version":3,"sources":["webpack://./lib/controls/panel.scss"],"names":[],"mappings":"AAAA;EACE,yBAAA;EACA,4CAAA;EACA,YAAA;EACA,8BAAA;EACA,6BAAA;EACA,aAAA;EACA,sBAAA;EACA,sBAAA;EACA,YAAA;AACF;;AACA;EACE,6BAAA;EACA,mBAAA;AAEF;;AAAA;EACE,eAAA;AAGF;;AADA;;EAEE,aAAA;AAIF;;AAFA;EACE,aAAA;AAKF;;AAHA;EACE,wBAAA;EACA,YAAA;EACA,WAAA;EACA,kBAAA;EACA,oBAAA;EACA,yBAAA;EACA,WAAA;AAMF;;AAJA;EACE,UAAA;EACA,gBAAA;AAOF;;AALA;EACE,WAAA;EACA,gBAAA;AAQF;;AANA;EACE,YAAA;EACA,iBAAA;AASF;;AAPA;EACE,SAAA;EACA,iBAAA;AAUF;;AARA;EACE,kCAAA;EACA,cAAA;EACA,gBAAA;EACA,eAAA;EACA,aAAA;EACA,mBAAA;AAWF;;AATA;EACE,oBAAA;EACA,eAAA;AAYF;;AAVA;EACE,6DAAA;EACA,WAAA;EACA,YAAA;EACA,kCAAA;EACA,aAAA;EACA,cAAA;EACA,aAAA;EACA,8BAAA;EACA,mBAAA;AAaF;;AAXA;EACE,SAAA;EACA,UAAA;EACA,eAAA;AAcF;;AAZA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;AAeF;;AAbA;EACE,eAAA;EACA,cAAA;EACA,aAAA;AAgBF;;AAdA;EACE,cAAA;EACA,aAAA;EACA,YAAA;EACA,kBAAA;EACA,oBAAA;EACA,oBAAA;EACA,iBAAA;EACA,SAAA;EACA,YAAA;EACA,uBAAA;EACA,eAAA;AAiBF;;AAfA;EACE,UAAA;AAkBF;;AAhBA;EACE,eAAA;EACA,cAAA;EACA,aAAA;AAmBF;;AAjBA;EACE,aAAA;EACA,gBAAA;EACA,cAAA;AAoBF;;AAlBA;EACE,gBAAA;AAqBF;;AAnBA;EACE,cAAA;EACA,aAAA;EACA,6BAAA;EACA,kBAAA;EACA,8BAAA;EACA,mBAAA;AAsBF;;AApBA;;EAEE,aAAA;EACA,mBAAA;AAuBF;;AArBA;EACE,kBAAA;AAwBF","sourcesContent":["imt-panel.forman-panel {\n  background-color: #f8f8f8;\n  box-shadow: 0 20px 60px 0 rgba(0, 0, 0, 0.2);\n  width: 600px;\n  max-height: calc(100vh - 20px);\n  max-width: calc(100vw - 20px);\n  display: flex;\n  flex-direction: column;\n  border-radius: 0.25rem;\n  z-index: 100;\n}\nimt-panel.forman-panel.fit-content {\n  width: fit-content !important;\n  padding-right: 12px;\n}\nimt-panel.forman-panel:not([position=inline]) {\n  position: fixed;\n}\nimt-panel.forman-panel[compact] imt-panel-header,\nimt-panel.forman-panel[compact] imt-panel-footer {\n  display: none;\n}\nimt-panel.forman-panel.imt-datetimepicker imt-panel-footer {\n  display: none;\n}\nimt-panel.forman-panel imt-panel-arrow {\n  transform: rotate(45deg);\n  height: 10px;\n  width: 10px;\n  position: absolute;\n  pointer-events: none;\n  background-color: inherit;\n  z-index: -1;\n}\nimt-panel.forman-panel[resolved-position=right] > imt-panel-arrow {\n  left: -5px;\n  margin-top: -6px;\n}\nimt-panel.forman-panel[resolved-position=left] > imt-panel-arrow {\n  right: -5px;\n  margin-top: -6px;\n}\nimt-panel.forman-panel[resolved-position=top] > imt-panel-arrow {\n  bottom: -5px;\n  margin-left: -6px;\n}\nimt-panel.forman-panel[resolved-position=bottom] > imt-panel-arrow {\n  top: -5px;\n  margin-left: -6px;\n}\nimt-panel.forman-panel .imt-panel-loading {\n  padding: 0.75rem 0 0.75rem 0.75rem;\n  color: #a4a9ae;\n  font-weight: 400;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n}\nimt-panel.forman-panel .imt-panel-loading i.loading-loader {\n  margin-right: 0.5rem;\n  font-size: 1rem;\n}\nimt-panel.forman-panel imt-panel-header {\n  background: linear-gradient(115deg, #ac94ea 0%, #846cc2 100%);\n  color: #fff;\n  height: 50px;\n  border-radius: 0.25rem 0.25rem 0 0;\n  padding: 10px;\n  flex: 1 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\nimt-panel.forman-panel imt-panel-header h1 {\n  margin: 0;\n  padding: 0;\n  font-size: 16px;\n}\nimt-panel.forman-panel imt-panel-header .header-buttons {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nimt-panel.forman-panel imt-panel-header .header-buttons .close {\n  font-size: 14px;\n  color: inherit;\n  padding: 10px;\n}\nimt-panel.forman-panel imt-panel-header .header-buttons .panel-menu {\n  color: inherit;\n  padding: 10px;\n  opacity: 0.5;\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  text-shadow: none;\n  flex: 0 0;\n  border: none;\n  background: transparent;\n  font-size: 14px;\n}\nimt-panel.forman-panel imt-panel-header .header-buttons .panel-menu:hover {\n  opacity: 1;\n}\nimt-panel.forman-panel imt-panel-header button.close {\n  font-size: 14px;\n  color: inherit;\n  padding: 10px;\n}\nimt-panel.forman-panel imt-panel-body {\n  padding: 15px;\n  overflow-y: auto;\n  flex: 1 1 auto;\n}\nimt-panel.forman-panel imt-panel-body .alert {\n  padding: 0.75rem;\n}\nimt-panel.forman-panel imt-panel-footer {\n  flex: 1 0 auto;\n  display: flex;\n  border-top: 1px solid #cecece;\n  padding: 12px 20px;\n  justify-content: space-between;\n  align-items: center;\n}\nimt-panel.forman-panel imt-panel-footer .footer-display,\nimt-panel.forman-panel imt-panel-footer .footer-buttons {\n  display: flex;\n  align-items: center;\n}\nimt-panel.forman-panel imt-panel-footer .footer-display label.show-advanced-label {\n  margin: 0 0 0 10px;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/picker.scss":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/picker.scss ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-picker {
  position: relative;
  cursor: pointer;
  user-select: none;
}

imt-picker:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f0d7";
  display: block;
  position: absolute;
  top: 5px;
  right: 12px;
  color: #495057;
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

imt-picker imt-searcher {
  display: block;
}

imt-picker imt-searcher:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f002";
  position: absolute;
  top: 9px;
  left: 0.7rem;
  color: #cecece;
}

imt-picker imt-searcher input {
  color: #ababab;
  border-top: 1px solid #eee;
  border-bottom: 1px solid #eee;
}

imt-picker > imt-picker-dropdown {
  display: none;
  position: fixed;
  cursor: default;
  background-color: white;
  border: 1px solid #cecece;
  border-top: none;
  z-index: 200;
  border-bottom-left-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
  font-size: 14px;
  box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.2);
}

imt-picker > imt-picker-dropdown > .options {
  overflow-y: auto;
}

imt-picker > imt-picker-dropdown.top-aligned {
  border-bottom: none;
  border-top: inherit;
  border-top-left-radius: 0.25rem;
  border-top-right-radius: 0.25rem;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

imt-picker > imt-picker-dropdown.top-aligned imt-searcher {
  border-top-left-radius: 0.25rem;
  border-top-right-radius: 0.25rem;
}

imt-picker .image-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  overflow-y: auto;
}

imt-picker > .btn.reload {
  display: none;
  color: #868686;
  position: absolute;
  top: 1px;
  right: 25px;
}

imt-picker > .btn.reload:focus, imt-picker > .btn.reload:hover {
  box-shadow: none;
  color: #2f8cbb;
}

imt-picker.expanded {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

imt-picker.expanded:before {
  transform: rotate(180deg);
}

imt-picker.expanded imt-picker-dropdown {
  display: block;
}

imt-picker.expanded[provider] .reload {
  display: block;
}

imt-picker.loading > imt-picker-dropdown {
  height: 38px;
}

imt-picker.loading > imt-picker-dropdown > .options {
  display: none;
}

imt-picker.loading > .btn.reload {
  pointer-events: none;
}

imt-picker.loading > .btn.reload > i {
  animation: spin 1.25s infinite cubic-bezier(0.4, 0, 0.2, 1);
}

imt-picker .display,
imt-picker .messages {
  width: calc(100% - 50px);
  min-height: 100%;
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow-x: hidden;
}

imt-picker .messages {
  display: none;
}

imt-picker[error] {
  border-color: #eb5768;
}

imt-picker[error] > .display,
imt-picker[error] .options {
  display: none;
}

imt-picker[error] > .messages {
  display: flex;
  color: #eb5768;
  font-size: 12px;
  align-items: center;
}

imt-picker[multiple]:not([dropdown]):not([error]) {
  min-height: calc(2.25rem + 2px);
  height: auto;
  padding: 0;
}

imt-picker[multiple]:not([dropdown]):before {
  display: none !important;
}

imt-picker[multiple]:not([dropdown]) .display {
  display: none;
}

imt-picker[multiple]:not([dropdown]) .options {
  max-height: 200px;
  overflow-y: auto;
}

imt-picker.form-control[list] {
  height: auto;
  border: none;
  background: #fff;
  padding: 0;
}

imt-picker.form-control[list]:focus {
  box-shadow: none;
}

imt-picker.form-control[list]::before {
  display: none;
}

imt-picker.form-control[list] .display {
  display: none;
}

imt-picker.form-control[list] .list-group .list-group-item {
  border: 1px solid rgba(0, 0, 0, 0.125);
  border-radius: 0;
}

imt-picker.form-control[list] .list-group .list-group-item:first-of-type {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}

imt-picker.form-control[list] .list-group .list-group-item:last-of-type {
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}

imt-picker.form-control[list] .list-group .list-group-item + .list-group-item {
  border-top-width: 0;
}

imt-picker.form-control[list] .empty-list {
  cursor: initial;
}

imt-optgroup:before {
  content: attr(label);
  display: block;
  background-color: #eee;
  padding: 0.2rem 0.7rem;
  font-weight: bold;
  font-size: 11px;
}

imt-option {
  display: block;
  transition: background-color 0.2s;
  padding: 0.4rem 0.7rem;
  cursor: pointer;
}

.image-options imt-option {
  flex: 0 33%;
}

.image-options imt-option > img {
  width: 100%;
}

imt-option .option-value {
  color: #cecece;
}

imt-option:hover, imt-option.hover {
  background-color: #f8f8f8;
}

imt-option + imt-option {
  border-top: 1px solid #eee;
}

imt-option.empty {
  color: #868686;
}

imt-picker:not([multiple]) imt-option[selected] {
  background-color: #daecf6;
}

imt-picker[multiple] imt-option {
  padding-left: 2.2rem;
  position: relative;
}

imt-picker[multiple] imt-option:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 300;
  content: "\\f0c8";
  position: absolute;
  top: 7px;
  left: 0.75rem;
  color: #006baa;
}

imt-picker[multiple] imt-option[selected]:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f14a";
}`, "",{"version":3,"sources":["webpack://./lib/controls/picker.scss"],"names":[],"mappings":"AAAA;EACE,kBAAA;EACA,eAAA;EACA,iBAAA;AACF;;AACA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;EACA,cAAA;EACA,wDAAA;AAEF;;AAAA;EACE,cAAA;AAGF;;AADA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,QAAA;EACA,YAAA;EACA,cAAA;AAIF;;AAFA;EACE,cAAA;EACA,0BAAA;EACA,6BAAA;AAKF;;AAHA;EACE,aAAA;EACA,eAAA;EACA,eAAA;EACA,uBAAA;EACA,yBAAA;EACA,gBAAA;EACA,YAAA;EACA,kCAAA;EACA,mCAAA;EACA,eAAA;EACA,2CAAA;AAMF;;AAJA;EACE,gBAAA;AAOF;;AALA;EACE,mBAAA;EACA,mBAAA;EACA,+BAAA;EACA,gCAAA;EACA,4BAAA;EACA,6BAAA;AAQF;;AANA;EACE,+BAAA;EACA,gCAAA;AASF;;AAPA;EACE,aAAA;EACA,eAAA;EACA,2BAAA;EACA,gBAAA;AAUF;;AARA;EACE,aAAA;EACA,cAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;AAWF;;AATA;EACE,gBAAA;EACA,cAAA;AAYF;;AAVA;EACE,4BAAA;EACA,6BAAA;AAaF;;AAXA;EACE,yBAAA;AAcF;;AAZA;EACE,cAAA;AAeF;;AAbA;EACE,cAAA;AAgBF;;AAdA;EACE,YAAA;AAiBF;;AAfA;EACE,aAAA;AAkBF;;AAhBA;EACE,oBAAA;AAmBF;;AAjBA;EACE,2DAAA;AAoBF;;AAlBA;;EAEE,wBAAA;EACA,gBAAA;EACA,cAAA;EACA,mBAAA;EACA,uBAAA;EACA,kBAAA;AAqBF;;AAnBA;EACE,aAAA;AAsBF;;AApBA;EACE,qBAAA;AAuBF;;AArBA;;EAEE,aAAA;AAwBF;;AAtBA;EACE,aAAA;EACA,cAAA;EACA,eAAA;EACA,mBAAA;AAyBF;;AAvBA;EACE,+BAAA;EACA,YAAA;EACA,UAAA;AA0BF;;AAxBA;EACE,wBAAA;AA2BF;;AAzBA;EACE,aAAA;AA4BF;;AA1BA;EACE,iBAAA;EACA,gBAAA;AA6BF;;AA3BA;EACE,YAAA;EACA,YAAA;EACA,gBAAA;EACA,UAAA;AA8BF;;AA5BA;EACE,gBAAA;AA+BF;;AA7BA;EACE,aAAA;AAgCF;;AA9BA;EACE,aAAA;AAiCF;;AA/BA;EACE,sCAAA;EACA,gBAAA;AAkCF;;AAhCA;EACE,2BAAA;EACA,4BAAA;AAmCF;;AAjCA;EACE,8BAAA;EACA,+BAAA;AAoCF;;AAlCA;EACE,mBAAA;AAqCF;;AAnCA;EACE,eAAA;AAsCF;;AAnCA;EACE,oBAAA;EACA,cAAA;EACA,sBAAA;EACA,sBAAA;EACA,iBAAA;EACA,eAAA;AAsCF;;AAnCA;EACE,cAAA;EACA,iCAAA;EACA,sBAAA;EACA,eAAA;AAsCF;;AApCA;EACE,WAAA;AAuCF;;AArCA;EACE,WAAA;AAwCF;;AAtCA;EACE,cAAA;AAyCF;;AAvCA;EACE,yBAAA;AA0CF;;AAxCA;EACE,0BAAA;AA2CF;;AAzCA;EACE,cAAA;AA4CF;;AAzCA;EACE,yBAAA;AA4CF;;AAzCA;EACE,oBAAA;EACA,kBAAA;AA4CF;;AA1CA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,QAAA;EACA,aAAA;EACA,cAAA;AA6CF;;AA3CA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AA8CF","sourcesContent":["imt-picker {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n}\nimt-picker:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f0d7\";\n  display: block;\n  position: absolute;\n  top: 5px;\n  right: 12px;\n  color: #495057;\n  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n}\nimt-picker imt-searcher {\n  display: block;\n}\nimt-picker imt-searcher:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f002\";\n  position: absolute;\n  top: 9px;\n  left: 0.7rem;\n  color: #cecece;\n}\nimt-picker imt-searcher input {\n  color: #ababab;\n  border-top: 1px solid #eee;\n  border-bottom: 1px solid #eee;\n}\nimt-picker > imt-picker-dropdown {\n  display: none;\n  position: fixed;\n  cursor: default;\n  background-color: white;\n  border: 1px solid #cecece;\n  border-top: none;\n  z-index: 200;\n  border-bottom-left-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n  font-size: 14px;\n  box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.2);\n}\nimt-picker > imt-picker-dropdown > .options {\n  overflow-y: auto;\n}\nimt-picker > imt-picker-dropdown.top-aligned {\n  border-bottom: none;\n  border-top: inherit;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\nimt-picker > imt-picker-dropdown.top-aligned imt-searcher {\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n}\nimt-picker .image-options {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  overflow-y: auto;\n}\nimt-picker > .btn.reload {\n  display: none;\n  color: #868686;\n  position: absolute;\n  top: 1px;\n  right: 25px;\n}\nimt-picker > .btn.reload:focus, imt-picker > .btn.reload:hover {\n  box-shadow: none;\n  color: #2f8cbb;\n}\nimt-picker.expanded {\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\nimt-picker.expanded:before {\n  transform: rotate(180deg);\n}\nimt-picker.expanded imt-picker-dropdown {\n  display: block;\n}\nimt-picker.expanded[provider] .reload {\n  display: block;\n}\nimt-picker.loading > imt-picker-dropdown {\n  height: 38px;\n}\nimt-picker.loading > imt-picker-dropdown > .options {\n  display: none;\n}\nimt-picker.loading > .btn.reload {\n  pointer-events: none;\n}\nimt-picker.loading > .btn.reload > i {\n  animation: spin 1.25s infinite cubic-bezier(0.4, 0, 0.2, 1);\n}\nimt-picker .display,\nimt-picker .messages {\n  width: calc(100% - 50px);\n  min-height: 100%;\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n}\nimt-picker .messages {\n  display: none;\n}\nimt-picker[error] {\n  border-color: #eb5768;\n}\nimt-picker[error] > .display,\nimt-picker[error] .options {\n  display: none;\n}\nimt-picker[error] > .messages {\n  display: flex;\n  color: #eb5768;\n  font-size: 12px;\n  align-items: center;\n}\nimt-picker[multiple]:not([dropdown]):not([error]) {\n  min-height: calc(2.25rem + 2px);\n  height: auto;\n  padding: 0;\n}\nimt-picker[multiple]:not([dropdown]):before {\n  display: none !important;\n}\nimt-picker[multiple]:not([dropdown]) .display {\n  display: none;\n}\nimt-picker[multiple]:not([dropdown]) .options {\n  max-height: 200px;\n  overflow-y: auto;\n}\nimt-picker.form-control[list] {\n  height: auto;\n  border: none;\n  background: #fff;\n  padding: 0;\n}\nimt-picker.form-control[list]:focus {\n  box-shadow: none;\n}\nimt-picker.form-control[list]::before {\n  display: none;\n}\nimt-picker.form-control[list] .display {\n  display: none;\n}\nimt-picker.form-control[list] .list-group .list-group-item {\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0;\n}\nimt-picker.form-control[list] .list-group .list-group-item:first-of-type {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\nimt-picker.form-control[list] .list-group .list-group-item:last-of-type {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\nimt-picker.form-control[list] .list-group .list-group-item + .list-group-item {\n  border-top-width: 0;\n}\nimt-picker.form-control[list] .empty-list {\n  cursor: initial;\n}\n\nimt-optgroup:before {\n  content: attr(label);\n  display: block;\n  background-color: #eee;\n  padding: 0.2rem 0.7rem;\n  font-weight: bold;\n  font-size: 11px;\n}\n\nimt-option {\n  display: block;\n  transition: background-color 0.2s;\n  padding: 0.4rem 0.7rem;\n  cursor: pointer;\n}\n.image-options imt-option {\n  flex: 0 33%;\n}\n.image-options imt-option > img {\n  width: 100%;\n}\nimt-option .option-value {\n  color: #cecece;\n}\nimt-option:hover, imt-option.hover {\n  background-color: #f8f8f8;\n}\nimt-option + imt-option {\n  border-top: 1px solid #eee;\n}\nimt-option.empty {\n  color: #868686;\n}\n\nimt-picker:not([multiple]) imt-option[selected] {\n  background-color: #daecf6;\n}\n\nimt-picker[multiple] imt-option {\n  padding-left: 2.2rem;\n  position: relative;\n}\nimt-picker[multiple] imt-option:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 300;\n  content: \"\\f0c8\";\n  position: absolute;\n  top: 7px;\n  left: 0.75rem;\n  color: #006baa;\n}\nimt-picker[multiple] imt-option[selected]:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f14a\";\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/searcher.scss":
/*!************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/searcher.scss ***!
  \************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-searcher input {
  outline: 0;
  border: none;
  display: block;
  width: 100%;
  padding: 0.375rem 2rem;
}

imt-searcher input:focus {
  box-shadow: none;
}

.hidden-by-searcher {
  display: none !important;
}`, "",{"version":3,"sources":["webpack://./lib/controls/searcher.scss"],"names":[],"mappings":"AAAA;EACE,UAAA;EACA,YAAA;EACA,cAAA;EACA,WAAA;EACA,sBAAA;AACF;;AACA;EACE,gBAAA;AAEF;;AACA;EACE,wBAAA;AAEF","sourcesContent":["imt-searcher input {\n  outline: 0;\n  border: none;\n  display: block;\n  width: 100%;\n  padding: 0.375rem 2rem;\n}\nimt-searcher input:focus {\n  box-shadow: none;\n}\n\n.hidden-by-searcher {\n  display: none !important;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/switch.scss":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/switch.scss ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@charset "UTF-8";
imt-switch {
  display: inline-block;
  width: 100px;
  background-color: rgba(0, 0, 0, 0.14);
  cursor: pointer;
  user-select: none;
  position: relative;
  border-radius: 0.25rem;
  flex: 0 0 100px;
  transition: box-shadow 0.2s;
}

imt-switch:before {
  display: block;
  width: 40px;
  height: 32px;
}

imt-switch div {
  position: relative;
  width: 50%;
  transition: background-color 0.2s, left 0.2s, transform 0.2s;
  font-weight: 300;
  font-size: 1rem;
  text-align: center;
  line-height: 1.15;
  padding: 0.5rem 0.75rem;
  border: 0;
  background-color: white;
  left: 0;
  border-radius: 0.25rem;
  border: 2px solid #ddd;
}

imt-switch div:before {
  content: "\\2800";
}

imt-switch:before, imt-switch:after {
  content: "ON";
  width: 50%;
  text-align: center;
  position: absolute;
  z-index: 10;
  left: 0;
  top: 50%;
  margin-top: -10px;
  font-size: 13px;
  height: 15px;
  color: white;
}

imt-switch:before {
  color: white;
}

imt-switch:after {
  left: 50%;
  content: "OFF";
  transition: color 0.2s;
  color: #999;
}

imt-switch[active] {
  background-color: #2f8cbb;
}

imt-switch[active] div {
  left: 50%;
  color: white;
  border: 2px solid #2f8cbb;
}

imt-switch[active]:after {
  color: white;
}

imt-switch[disabled] {
  cursor: not-allowed;
}

imt-switch.sm {
  width: 80px;
  flex: 0 0 80px;
}

imt-switch.sm:before, imt-switch.sm:after {
  margin-top: -8px;
  font-size: 12px;
}

imt-switch.sm div {
  font-size: 0.875rem;
  line-height: 1.4;
  padding: 0.25rem 0.5rem;
}

imt-switch.xs {
  width: 40px;
  flex: 0 0 40px;
}

imt-switch.xs:before, imt-switch.xs:after {
  margin-top: -8px;
  font-size: 12px;
  content: "";
}

imt-switch.xs div {
  font-size: 0.5rem;
  line-height: 1.4;
  padding: 0 0.25rem;
}

imt-switch.neutral {
  background-color: #ddd;
}

imt-switch.neutral:before {
  content: attr(data-left) !important;
}

imt-switch.neutral[active]:before {
  color: #999;
}

imt-switch.neutral:after {
  content: attr(data-right) !important;
}

imt-switch.neutral div {
  background-color: blue;
  border: 2px solid #ddd;
}

imt-switch:focus {
  outline: 0;
  box-shadow: 0 0 0 3px rgba(47, 140, 187, 0.5);
}

imt-switch:hover div {
  transform: scale(1.15, 1.15);
  box-shadow: 0px 0 15px 0px rgba(0, 0, 0, 0.1);
}`, "",{"version":3,"sources":["webpack://./lib/controls/switch.scss"],"names":[],"mappings":"AAAA,gBAAgB;AAChB;EACE,qBAAA;EACA,YAAA;EACA,qCAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,eAAA;EACA,2BAAA;AACF;;AACA;EACE,cAAA;EACA,WAAA;EACA,YAAA;AAEF;;AAAA;EACE,kBAAA;EACA,UAAA;EACA,4DAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,iBAAA;EACA,uBAAA;EACA,SAAA;EACA,uBAAA;EACA,OAAA;EACA,sBAAA;EACA,sBAAA;AAGF;;AADA;EACE,YAAA;AAIF;;AAFA;EACE,aAAA;EACA,UAAA;EACA,kBAAA;EACA,kBAAA;EACA,WAAA;EACA,OAAA;EACA,QAAA;EACA,iBAAA;EACA,eAAA;EACA,YAAA;EACA,YAAA;AAKF;;AAHA;EACE,YAAA;AAMF;;AAJA;EACE,SAAA;EACA,cAAA;EACA,sBAAA;EACA,WAAA;AAOF;;AALA;EACE,yBAAA;AAQF;;AANA;EACE,SAAA;EACA,YAAA;EACA,yBAAA;AASF;;AAPA;EACE,YAAA;AAUF;;AARA;EACE,mBAAA;AAWF;;AATA;EACE,WAAA;EACA,cAAA;AAYF;;AAVA;EACE,gBAAA;EACA,eAAA;AAaF;;AAXA;EACE,mBAAA;EACA,gBAAA;EACA,uBAAA;AAcF;;AAZA;EACE,WAAA;EACA,cAAA;AAeF;;AAbA;EACE,gBAAA;EACA,eAAA;EACA,WAAA;AAgBF;;AAdA;EACE,iBAAA;EACA,gBAAA;EACA,kBAAA;AAiBF;;AAfA;EACE,sBAAA;AAkBF;;AAhBA;EACE,mCAAA;AAmBF;;AAjBA;EACE,WAAA;AAoBF;;AAlBA;EACE,oCAAA;AAqBF;;AAnBA;EACE,sBAAA;EACA,sBAAA;AAsBF;;AApBA;EACE,UAAA;EACA,6CAAA;AAuBF;;AArBA;EACE,4BAAA;EACA,6CAAA;AAwBF","sourcesContent":["@charset \"UTF-8\";\nimt-switch {\n  display: inline-block;\n  width: 100px;\n  background-color: rgba(0, 0, 0, 0.14);\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n  border-radius: 0.25rem;\n  flex: 0 0 100px;\n  transition: box-shadow 0.2s;\n}\nimt-switch:before {\n  display: block;\n  width: 40px;\n  height: 32px;\n}\nimt-switch div {\n  position: relative;\n  width: 50%;\n  transition: background-color 0.2s, left 0.2s, transform 0.2s;\n  font-weight: 300;\n  font-size: 1rem;\n  text-align: center;\n  line-height: 1.15;\n  padding: 0.5rem 0.75rem;\n  border: 0;\n  background-color: white;\n  left: 0;\n  border-radius: 0.25rem;\n  border: 2px solid #ddd;\n}\nimt-switch div:before {\n  content: \"\";\n}\nimt-switch:before, imt-switch:after {\n  content: \"ON\";\n  width: 50%;\n  text-align: center;\n  position: absolute;\n  z-index: 10;\n  left: 0;\n  top: 50%;\n  margin-top: -10px;\n  font-size: 13px;\n  height: 15px;\n  color: white;\n}\nimt-switch:before {\n  color: white;\n}\nimt-switch:after {\n  left: 50%;\n  content: \"OFF\";\n  transition: color 0.2s;\n  color: #999;\n}\nimt-switch[active] {\n  background-color: #2f8cbb;\n}\nimt-switch[active] div {\n  left: 50%;\n  color: white;\n  border: 2px solid #2f8cbb;\n}\nimt-switch[active]:after {\n  color: white;\n}\nimt-switch[disabled] {\n  cursor: not-allowed;\n}\nimt-switch.sm {\n  width: 80px;\n  flex: 0 0 80px;\n}\nimt-switch.sm:before, imt-switch.sm:after {\n  margin-top: -8px;\n  font-size: 12px;\n}\nimt-switch.sm div {\n  font-size: 0.875rem;\n  line-height: 1.4;\n  padding: 0.25rem 0.5rem;\n}\nimt-switch.xs {\n  width: 40px;\n  flex: 0 0 40px;\n}\nimt-switch.xs:before, imt-switch.xs:after {\n  margin-top: -8px;\n  font-size: 12px;\n  content: \"\";\n}\nimt-switch.xs div {\n  font-size: 0.5rem;\n  line-height: 1.4;\n  padding: 0 0.25rem;\n}\nimt-switch.neutral {\n  background-color: #ddd;\n}\nimt-switch.neutral:before {\n  content: attr(data-left) !important;\n}\nimt-switch.neutral[active]:before {\n  color: #999;\n}\nimt-switch.neutral:after {\n  content: attr(data-right) !important;\n}\nimt-switch.neutral div {\n  background-color: blue;\n  border: 2px solid #ddd;\n}\nimt-switch:focus {\n  outline: 0;\n  box-shadow: 0 0 0 3px rgba(47, 140, 187, 0.5);\n}\nimt-switch:hover div {\n  transform: scale(1.15, 1.15);\n  box-shadow: 0px 0 15px 0px rgba(0, 0, 0, 0.1);\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/forman.scss":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/forman.scss ***!
  \*************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(1turn);
  }
}
imt-forman.forman {
  display: block;
  font-size: 14px;
  --forman-loading-from-color: #ac94ea;
  --forman-loading-to-color: #846cc2;
}

imt-forman.forman .i-templater-block {
  margin: 0.2rem 0;
  background-color: #d3e9f4;
  min-height: 25px;
  border: 1px solid #c1d7e3;
  border-radius: 0.25rem;
  padding: 0.3rem;
}

imt-forman.forman .i-templater-block label {
  font-weight: 400;
  font-size: 11px;
  display: inline-flex !important;
  width: auto !important;
  margin-bottom: 0.5rem;
}

imt-forman.forman .i-templater-block label input {
  vertical-align: middle;
  margin: 0.3rem;
}

imt-forman.forman .i-templater-block label span {
  vertical-align: middle;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

imt-forman.forman .i-templater-block label + label {
  margin-left: 15px;
}

imt-forman.forman .i-templater-block label:has(input) + textarea {
  display: none;
}

imt-forman.forman .form-expander {
  display: none;
  position: absolute;
  width: 14px;
  height: 14px;
  left: -24px;
  top: 4px;
  text-align: center;
  cursor: pointer;
  font-size: 10px;
  border-radius: 3px;
  background-color: #ababab;
  color: #ffffff;
  transition: background-color 0.2s;
}

imt-forman.forman .form-expander span {
  display: block;
  transition: transform 0.2s;
  width: 14px;
  height: 14px;
}

imt-forman.forman .form-expander span:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f107";
}

imt-forman.forman .form-remover,
imt-forman.forman .form-drag-drop {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20px;
  height: 20px;
  padding: 0;
  font-size: 13px;
  text-align: center;
  color: #868686;
  background-color: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
  border-radius: 3px;
}

imt-forman.forman .form-remover:focus {
  color: #eb5768;
  outline: 0;
}

imt-forman.forman .form-remover:hover {
  background-color: #eb5768;
  color: #ffffff;
}

imt-forman.forman .form-remover:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f00d";
}

imt-forman.forman .form-drag-drop {
  cursor: move;
  cursor: grab;
  margin-right: 6px;
}

imt-forman.forman .form-drag-drop:focus {
  color: #006baa;
  outline: 0;
}

imt-forman.forman .form-drag-drop:hover {
  background-color: #006baa;
  color: #ffffff;
}

imt-forman.forman .form-drag-drop:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\e411";
}

imt-forman.forman .form-drag-drop:active {
  cursor: grabbing;
}

imt-forman.forman .form-text {
  font-size: 12px;
  margin-top: 0.5rem;
  padding-left: 22px;
  position: relative;
}

imt-forman.forman .form-text:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 300;
  content: "\\f0eb";
  color: #fecd5f;
  display: inline-block;
  width: 14px;
  text-align: center;
  position: absolute;
  left: 0;
}

imt-forman.forman .form-text:empty {
  display: none !important;
}

imt-forman.forman .form-hints {
  margin-top: 0.5rem;
  list-style: none;
  padding-left: 0;
  font-size: 12px;
}

imt-forman.forman .form-hints li i {
  color: #fecd5f;
  margin-right: 7px;
}

imt-forman.forman .form-hints:empty {
  display: none;
}

imt-forman.forman .form-validations,
imt-forman.forman .form-errors {
  display: none;
  font-size: 12px;
  color: #eb5768;
  margin-top: 1rem;
  padding-left: 22px;
  position: relative;
}

imt-forman.forman .form-validations:before,
imt-forman.forman .form-errors:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 300;
  content: "\\f071";
  display: inline-block;
  width: 14px;
  text-align: center;
  position: absolute;
  left: 0;
}

imt-forman.forman .form-validations:empty,
imt-forman.forman .form-errors:empty {
  display: none !important;
}

imt-forman.forman .form-validations:not(:empty) + .form-text,
imt-forman.forman .form-errors:not(:empty) + .form-text {
  margin-top: 0.25rem;
}

imt-forman.forman .form-validations {
  max-height: 0;
  overflow-y: hidden;
  margin-top: 0;
  display: block;
  opacity: 0;
}

imt-forman.forman .input-icon {
  align-items: center;
  padding: 4px 7px;
  border-radius: 0.25rem 0 0 0.25rem;
}

imt-forman.forman .input-icon img {
  width: 24px;
  height: 24px;
}

imt-forman.forman [type=array-item] {
  display: block;
  position: relative;
  border-left: 1px dotted #ababab;
  padding-left: 22px;
  background-color: #f8f8f8;
  transition: opacity cubic-bezier(0.4, 0, 0.2, 1) 250ms, border-left cubic-bezier(0.4, 0, 0.2, 1) 150ms;
}

imt-forman.forman [type=array-item]:before {
  content: "";
  position: absolute;
  display: block;
  width: 8px;
  height: 10px;
  border-bottom: 1px dotted #ababab;
  left: 1px;
  top: 2px;
  transition: border-bottom ease-in 150ms;
}

imt-forman.forman [type=array-item]:not([disabled]):hover {
  border-left: 1px solid #006baa;
}

imt-forman.forman [type=array-item]:not([disabled]):hover::before {
  border-bottom: 1px solid #006baa;
}

imt-forman.forman [type=array-item].dragging-preview {
  background: #f8f8f8;
  border-left: none;
}

imt-forman.forman [type=array-item].dragging-preview::before {
  display: none;
}

imt-forman.forman [type=array-item].dragging-preview:hover {
  border-left: none !important;
}

imt-forman.forman [type=array-item].drop-zone {
  background-color: #e8f1fa;
  border-radius: 4px;
  border: 1px dotted #8fc0da;
  margin-left: 0 !important;
  z-index: 1 !important;
}

imt-forman.forman [type=array-item].drop-zone * {
  opacity: 0;
}

imt-forman.forman [type=array-item].drop-zone::before {
  left: -18px;
  width: 0;
  height: calc(100% + 0.5rem);
  border-bottom: none !important;
  border-left: 1px dotted #8fc0da;
  top: 0;
}

imt-forman.forman [type=array-item].drop-zone:hover {
  border-left-color: #8fc0da !important;
  border-left-style: dotted !important;
}

imt-forman.forman .form-group[type=array] > .list > [type=array-item] {
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

imt-forman.forman .form-group[type=array] [type=array-item] {
  padding-left: 41px;
}

imt-forman.forman .form-group[type=array] [type=array-item].loading > .loader {
  width: calc(100% - 41px);
  left: 41px;
}

imt-forman.forman .form-group[type=array] [type=array-item] > .form-group {
  margin-bottom: 0;
  padding-bottom: 1rem;
}

imt-forman.forman .form-group[type=array] [type=array-item] > .form-group.collapsed:last-of-type {
  padding-bottom: 0.5rem;
}

imt-forman.forman .form-group[type=array] [type=array-item] > .form-group.collapsed:last-of-type > label {
  margin-bottom: 0;
}

imt-forman.forman[tree] imt-fieldset {
  margin-left: 24px;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset {
  margin-left: 0;
  padding-left: 1px;
}

imt-forman.forman[tree] imt-nested {
  margin-left: -24px;
}

imt-forman.forman[tree] .form-expander {
  display: block;
}

imt-forman.forman[tree] .form-group.loading > .loader {
  width: calc(100% - 41px);
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group,
imt-forman.forman[tree] [type=array-item] {
  padding-left: 41px;
  margin-left: -17px;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group[type=collection][shadow],
imt-forman.forman[tree] [type=array-item][type=collection][shadow] {
  padding-left: 17px;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group.loading > .loader,
imt-forman.forman[tree] [type=array-item].loading > .loader {
  width: calc(100% - 41px);
  left: 41px;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group > .form-expander {
  left: 16px;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group:last-child {
  border-left-color: transparent;
}

imt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group:last-child:before {
  border-left: 1px dotted #ababab;
  width: 10px;
  left: -1px;
}

imt-forman.forman[tree] .form-group[type=array] [type=array-item] > [field] > .form-expander {
  left: -24px;
}

imt-forman.forman[tree] imt-input-array-button {
  margin-left: -17px;
}

imt-forman.forman[tree] imt-input-udtspec-item[type=array-item] > .form-group > imt-fieldset > .form-group,
imt-forman.forman[tree] imt-input-udtspec-item[type=array-item] > .form-group > imt-fieldset > .form-group imt-fieldset > imt-input-collection.form-group {
  padding-left: 16px;
}

imt-forman.forman[tree] imt-input-udttype imt-nested imt-input-udtspec[name=spec] {
  margin-left: 0;
}

imt-forman.forman[tree] imt-input-udttype imt-nested imt-input-udtspec[name=spec] > label {
  margin-left: -17px;
}

imt-forman.forman[tree] imt-input-udttype imt-nested imt-input-collection[name=spec] {
  margin-left: 7px;
}

imt-forman.forman[tree] imt-input-collection[shadow] {
  margin-left: -24px;
}

imt-forman.forman:not([tree]) imt-input-list > label {
  display: none;
}

imt-forman.forman:not([tree]) imt-input-radio > label {
  display: none;
}

imt-forman.forman .form-group {
  position: relative;
  display: block;
  margin-bottom: 1rem;
}

imt-forman.forman .form-group[mode=map] > imt-picker {
  display: none;
}

imt-forman.forman .form-group.collapsed label .label-text-content {
  flex: 0 0 auto;
  max-width: 100%;
  text-overflow: ellipsis;
  overflow-x: hidden;
  white-space: nowrap;
}

imt-forman.forman .form-group label {
  width: 100%;
  display: flex;
  align-items: center;
}

imt-forman.forman .form-group label .label-text-content {
  word-wrap: break-word;
  min-width: 0;
  flex: 0 1 auto;
}

imt-forman.forman .form-group label .label-preview {
  font-size: 12px;
  margin-left: 10px;
  line-height: 14px;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  display: none;
  color: gray;
  font-weight: 400;
  height: 14px;
}

imt-forman.forman .form-group label .label-preview > imt-pill {
  pointer-events: none;
  line-height: 1;
  margin: 0 2px;
  padding: 0;
  background: transparent;
  color: gray;
}

imt-forman.forman .form-group label .label-preview > imt-pill.function.first:after {
  content: "(";
}

imt-forman.forman .form-group label .label-preview > imt-pill.function {
  color: #000;
  font-weight: 600;
}

imt-forman.forman .form-group label .label-preview > imt-pill.variable {
  color: #000;
  font-weight: 600;
  font-style: italic;
}

imt-forman.forman .form-group label .label-preview > imt-pill.operator {
  font-weight: 600;
}

imt-forman.forman .form-group[required] > label {
  font-weight: bold;
}

imt-forman.forman .form-group[required] > .form-expander, imt-forman.forman .form-group:not(.empty) > .form-expander {
  background-color: #ababab;
}

imt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > label {
  color: #eb5768;
}

imt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-control {
  border-color: #eb5768;
}

imt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-expander {
  pointer-events: none;
  cursor: default;
  background-color: #eb5768;
}

imt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-expander span:before {
  content: "\\f12a";
}

imt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-validations {
  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
  opacity: 1;
  max-height: 10rem;
  margin-top: 1rem;
}

imt-forman.forman .form-group[error] > .form-errors {
  display: block;
}

imt-forman.forman .form-group > label > .input-actions {
  display: flex;
  flex-direction: row-reverse;
  font-size: 12px;
  color: #868686;
  flex: 0 0 auto;
  margin: 2px 0 auto auto;
  font-weight: normal;
}

imt-forman.forman .form-group > label > .input-actions > .mode-switch {
  display: flex;
  align-items: center;
  margin-left: 10px;
}

imt-forman.forman .form-group > label > .input-actions > .nested-refresh {
  display: flex;
  align-items: center;
  cursor: pointer;
}

imt-forman.forman .form-group > label > .input-actions > .nested-refresh:focus .nested-refresh-button, imt-forman.forman .form-group > label > .input-actions > .nested-refresh:hover .nested-refresh-button {
  box-shadow: none;
  color: #2f8cbb;
}

imt-forman.forman .form-group.collapsed:not([invalid]) > imt-picker {
  display: none;
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) {
  padding-bottom: 0;
  margin-bottom: 0;
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-expander span {
  transform: rotate(-90deg);
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-control,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-text,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-actions,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > imt-coder,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > input,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-validations,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-errors,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-hints,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-group,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-tools,
imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .wrapper {
  display: none;
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > imt-nested > imt-fieldset {
  padding: 0;
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > label > .label-preview {
  display: block;
}

imt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > label > .input-actions > .mode-switch {
  display: none;
}

imt-forman.forman .form-group > imt-option,
imt-forman.forman .form-group > imt-optgroup {
  display: none !important;
}

imt-forman.forman [field].loading {
  position: relative;
  cursor: progress;
}

imt-forman.forman [field].loading imt-switch,
imt-forman.forman [field].loading imt-picker {
  pointer-events: none;
}

imt-forman.forman [field].loading > .loader {
  display: flex;
}

imt-forman.forman [field].loading[type=array] > .loader, imt-forman.forman [field].loading[type=collection] > .loader {
  height: 100%;
  top: 0;
  background-color: transparent;
}

imt-forman.forman [field].loading[type=array][type=array-item] [field],
imt-forman.forman [field].loading[type=array][type=array-item] imt-coder,
imt-forman.forman [field].loading[type=array][type=array-item] imt-picker, imt-forman.forman [field].loading[type=collection][type=array-item] [field],
imt-forman.forman [field].loading[type=collection][type=array-item] imt-coder,
imt-forman.forman [field].loading[type=collection][type=array-item] imt-picker {
  cursor: progress !important;
}

imt-forman.forman [field].loading [field] {
  cursor: progress;
  display: none;
}

imt-forman.forman [field] .input-group .create-connection {
  display: flex;
  align-items: center;
  border: none !important;
  border-left: 1px solid white !important;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  color: white;
  opacity: 1;
}

imt-forman.forman [field] .input-group .create-connection.black-text {
  color: black;
}

imt-forman.forman [field] .input-group .create-connection.black-text .circle-loader {
  border-color: black;
  border-bottom-color: transparent;
}

imt-forman.forman [field] .input-group .create-connection .circle-loader {
  display: none;
}

imt-forman.forman [field] .input-group .create-connection.in-progress {
  opacity: 0.8;
}

imt-forman.forman [field] .input-group .create-connection.in-progress .circle-loader {
  display: block;
}

imt-forman.forman [field] .input-group .create-connection:focus {
  box-shadow: none;
}

imt-forman.forman [field] .input-group .create-connection .circle-loader {
  margin-right: 8px;
}

imt-forman.forman [field] .input-group .create-connection + imt-picker {
  display: none;
}

imt-forman.forman [field] .input-group .create-connection ~ .input-group-append > .btn:not(.imt-btn-dropdown) {
  display: none;
}

imt-forman.forman [field] .input-group .create-connection ~ .input-group-append > .btn.imt-btn-dropdown {
  margin-left: 4px;
  color: var(--gray);
  border-radius: 4px;
}

imt-forman.forman [field] .input-group-append {
  position: relative;
}

imt-forman.forman [field] .input-group-append > .btn:hover {
  background-color: var(--gray);
  color: var(--white) !important;
}

imt-forman.forman [field] .input-group-append > .btn:last-of-type {
  border-top-right-radius: 4px !important;
  border-bottom-right-radius: 4px !important;
}

imt-forman.forman [field] .input-group-append > .imt-btn-dropdown {
  padding: 0.375rem 0.75rem;
}

imt-forman.forman [field] .input-group-append > .imt-btn-dropdown:focus {
  box-shadow: none;
}

imt-forman.forman [field] .input-group-append > .imt-btn-dropdown-menu {
  position: fixed;
  display: none;
  background-color: #fff;
  border-radius: 4px;
  z-index: 4;
  padding: 0.5rem 0;
  border: 1px solid #cecece;
  box-shadow: 0 20px 60px 0 rgba(0, 0, 0, 0.2);
}

imt-forman.forman imt-nested {
  position: relative;
  display: block;
  margin-bottom: 0;
}

imt-forman.forman imt-nested .form-group:last-child {
  padding-bottom: 0;
}

imt-forman.forman imt-nested imt-fieldset:not([nested]) {
  margin-top: 1rem;
}

imt-forman.forman imt-picker[disabled]:focus {
  background-color: #eee;
  outline: none;
  border: 1px solid #ced4da;
  box-shadow: none;
}

imt-forman.forman imt-option[disabled] {
  cursor: not-allowed;
}

imt-forman.forman imt-option[disabled]:hover {
  background-color: inherit;
}

imt-forman.forman imt-fieldset[hidden] {
  display: block;
}

imt-forman.forman imt-fieldset[disabled] .input-actions {
  display: none;
}

imt-forman.forman.template .template-hidden-item {
  display: none;
}

imt-forman.forman .btn[disabled] {
  cursor: not-allowed;
}

imt-forman.forman .circle-loader {
  width: 16px;
  height: 16px;
  border: 2px solid #fff;
  border-bottom-color: transparent;
  border-radius: 50%;
  display: inline-block;
  box-sizing: border-box;
  animation: rotation 1s linear infinite;
}

@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
imt-forman.forman .loader {
  height: 38px;
  width: 100%;
  top: calc(0.5rem + 21px);
  left: 0;
  overflow: hidden;
  border-radius: 0.25rem;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 1rem;
  display: none;
}

imt-forman.forman .loader > .loader-circle {
  height: 10px;
  width: 10px;
  transform: scale(1);
  background: var(--forman-loading-from-color);
  top: 7px;
  border-radius: 50%;
  transform: scale(0.5);
  margin-left: 6px;
}

imt-forman.forman .loader > .loader-circle:nth-child(1) {
  animation: ball-anim 1s 0ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

imt-forman.forman .loader > .loader-circle:nth-child(2) {
  animation: ball-anim 1s 75ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

imt-forman.forman .loader > .loader-circle:nth-child(3) {
  animation: ball-anim 1s 150ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

imt-forman.forman .loader > .loader-circle:nth-child(4) {
  animation: ball-anim 1s 225ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;
}

imt-forman.forman[hideLabels] [field] > label {
  display: none;
}

imt-forman.forman imt-fieldset,
imt-forman.forman imt-alerts,
imt-forman.forman imt-alert {
  display: block;
}

imt-forman.forman imt-fieldset.alert,
imt-forman.forman imt-alerts.alert,
imt-forman.forman imt-alert.alert {
  padding: 0.75rem;
}

imt-forman.forman imt-alert .close {
  padding-top: 0.6rem !important;
}

imt-forman.forman imt-value,
imt-forman.forman imt-input {
  display: none !important;
}

imt-forman.forman .form-icon {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  display: inline-block;
  font-size: 12px;
  margin-right: 7px;
  color: #ababab;
  border-right: 1px solid #ababab;
  transition: margin-left 0.2s, opacity 0.2s;
  margin-left: -8px;
  height: 0;
  width: 0;
}

imt-forman.forman .form-icon:before {
  display: none;
}

imt-forman.forman .form-group.focused > label .form-icon {
  display: inline-block;
  transition: margin-left 0.2s, opacity 0.2s;
  opacity: 1;
  margin-left: 0;
  width: 20px;
  height: 16px;
}

imt-forman.forman .form-group.focused > label .form-icon:before {
  display: inline-block;
}

imt-forman.forman .form-icon-text:before {
  content: "\\f031";
}

imt-forman.forman .form-icon-number:before {
  content: "\\f292";
}

imt-forman.forman .form-icon-date:before {
  content: "\\f133";
  font-family: "Font Awesome 6 Pro";
  font-weight: 400;
}

imt-forman.forman .form-icon-boolean:before {
  content: "\\f205";
}

imt-forman.forman .form-icon-email:before {
  content: "\\f1fa";
}

imt-forman.forman .form-icon-select:before {
  content: "\\f150";
}

imt-forman.forman .form-icon-select.type-country:before {
  content: "\\f024";
}

imt-forman.forman .form-icon-select.type-language:before {
  content: "\\f024";
}

imt-forman.forman .form-icon-select.type-localization:before {
  content: "\\f024";
}

imt-forman.forman .form-icon-select.type-locale:before {
  content: "\\f024";
}

imt-forman.forman .form-icon-select.type-timezone:before {
  content: "\\f0ac";
}

imt-forman.forman .form-icon-select.type-imtregion:before {
  content: "\\f3c5";
}

imt-forman.forman .form-icon-select.type-usersorganizationsrole:before {
  content: "\\f507";
}

imt-forman.forman .form-icon-select.type-userapitokenscope:before {
  content: "\\f577";
}

imt-forman.forman .form-icon-buffer:before {
  content: "\\f15b";
}

imt-forman.forman .form-icon-array:before {
  content: "\\f03a";
}

imt-forman.forman .form-icon-collection:before {
  content: "\\f1b2";
}

imt-forman.forman .form-icon-password:before {
  content: "\\f084";
}

imt-forman.forman .form-icon-upload:before {
  content: "\\f574";
}

imt-forman.forman .form-icon-editor:before {
  content: "\\f031";
}

imt-forman.forman .form-icon-checkbox:before {
  content: "\\f14a";
}

imt-forman.forman .form-icon-url:before {
  content: "\\f0c1";
}

imt-forman.forman .form-icon-folder:before {
  content: "\\f07c";
}

imt-forman.forman .form-icon-file:before {
  content: "\\f15b";
}

imt-forman.forman .form-icon-cert:before {
  content: "\\f5f3";
}

imt-forman.forman .form-icon-pkey:before {
  content: "\\f5f3";
}

imt-forman.forman .form-icon-json:before {
  content: "\\f7ea";
}

imt-forman.forman .form-icon-color:before {
  content: "\\f1fb";
}

imt-forman.forman .form-icon-port:before {
  content: "\\f601";
}

imt-forman.forman .form-icon-filename:before {
  content: "\\f15b";
}

imt-forman.forman .form-icon-filter:before {
  content: "\\f0b0";
}

imt-forman.forman .form-icon-timestamp:before {
  content: "\\f017";
}

imt-forman.forman .form-icon-time:before {
  content: "\\f017";
}

imt-forman.forman .form-icon-radio:before {
  content: "\\f03a";
}

imt-forman.forman .form-icon-udttype:before {
  content: "\\f0e8";
}

imt-forman.forman .form-icon-account:before {
  content: "\\f2bd";
}

imt-forman.forman .form-icon-hook:before {
  content: "\\f0c1";
}

imt-forman.forman .form-icon-device:before {
  content: "\\f10b";
}

imt-forman.forman .form-icon-integer:before {
  content: "\\f292";
}

imt-forman.forman .form-icon-uinteger:before {
  content: "\\f292";
}

imt-forman.forman .form-icon-agent:before {
  content: "\\f07e";
}

imt-forman.forman .form-icon-keychain:before {
  content: "\\f084";
}

imt-forman.forman .form-icon-udtspec:before {
  content: "\\f1c0";
}

imt-forman.forman .form-icon-udt:before {
  content: "\\f1c0";
}

imt-forman.forman .form-icon-tokens:before {
  content: "\\f084";
}

imt-forman.forman .form-icon-datastore:before {
  content: "\\f1c0";
}

imt-forman.forman .form-icon-any:before {
  content: "\\f039";
}

imt-forman.forman imt-input-text textarea {
  max-height: 443px;
}

imt-forman.forman imt-input-text textarea::selection {
  background: #b4d5fe;
}

imt-forman.forman imt-input-cert textarea,
imt-forman.forman imt-input-pkey textarea {
  min-height: 70px;
}

imt-forman.forman imt-input-account :not(imt-nested) imt-picker > imt-picker-dropdown,
imt-forman.forman imt-input-hook :not(imt-nested) imt-picker > imt-picker-dropdown,
imt-forman.forman imt-input-device :not(imt-nested) imt-picker > imt-picker-dropdown,
imt-forman.forman imt-input-keychain :not(imt-nested) imt-picker > imt-picker-dropdown {
  margin-top: -1px;
}

imt-forman.forman imt-input-account :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,
imt-forman.forman imt-input-hook :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,
imt-forman.forman imt-input-device :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,
imt-forman.forman imt-input-keychain :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child {
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}

imt-forman.forman imt-input-hook .input-tools button {
  font-size: 12px;
}

imt-forman.forman imt-input-hook .hook-info .hook-url-wrapper {
  position: relative;
  overflow-x: auto;
  font-size: 12px;
  padding-left: 38px;
  line-height: 35px;
  color: #006baa;
  text-align: left;
}

imt-forman.forman imt-input-hook .hook-info .hook-url-wrapper::before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 400;
  display: block;
  content: "\\f0ac";
  color: #006baa;
  font-weight: 400;
  font-size: 16px;
  position: absolute;
  left: 0;
  top: 0;
  width: 38px;
  height: 20px;
  text-align: center;
  pointer-events: none;
}

imt-forman.forman imt-input-hook .hook-attach p {
  font-size: 12px;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

imt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] > imt-picker,
imt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] .form-control,
imt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] imt-fieldset,
imt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] .form-validations {
  display: none;
}

imt-forman.forman imt-input-array-button,
imt-forman.forman imt-input-udtspec-generate-button {
  position: relative;
  border-left: 1px solid transparent;
  padding-left: 11px;
}

imt-forman.forman imt-input-array-button:before,
imt-forman.forman imt-input-udtspec-generate-button:before {
  content: "";
  position: absolute;
  display: block;
  width: 10px;
  height: 12px;
  border-bottom: 1px dotted #ababab;
  border-left: 1px dotted #ababab;
  left: -1px;
  top: -1px;
}

imt-forman.forman imt-input-array-button button,
imt-forman.forman imt-input-udtspec-generate-button button {
  padding: 0.1rem 0.5rem 0.1rem 0.25rem !important;
  font-size: 0.75rem !important;
  background-color: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
  border-radius: 3px;
}

imt-forman.forman imt-input-array-button button:before,
imt-forman.forman imt-input-udtspec-generate-button button:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f067";
  display: inline-block;
  width: 14px;
  height: 14px;
  font-size: 10px;
  border-radius: 3px;
  background-color: #2f8cbb;
  color: #ffffff;
  margin-right: 0.5rem;
}

imt-forman.forman imt-input-array-button button:focus,
imt-forman.forman imt-input-udtspec-generate-button button:focus {
  color: #2f8cbb;
  outline: 0;
}

imt-forman.forman imt-input-array-button button:hover,
imt-forman.forman imt-input-udtspec-generate-button button:hover {
  background-color: #2f8cbb;
  color: #ffffff;
}

imt-forman.forman imt-input-array-button button.array-rpc-button::before,
imt-forman.forman imt-input-udtspec-generate-button button.array-rpc-button::before {
  content: "\\f002";
}

imt-forman.forman imt-input-udtspec-generate-button:before {
  display: none;
}

imt-forman.forman imt-input-udtspec-generate-button button:before {
  content: "\\f0ad";
}

imt-forman.forman [type=array][mode=map] > .list, imt-forman.forman [type=array][mode=map] > imt-input-array-button {
  display: none;
}

imt-forman.forman [type=array].collapsed:not([invalid]) .list,
imt-forman.forman [type=array].collapsed:not([invalid]) imt-input-array-button,
imt-forman.forman [type=array].collapsed:not([invalid]) imt-input-udtspec-generate-button {
  display: none;
}

imt-forman.forman [type=array][disabled] imt-input-array-button button,
imt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button, imt-forman.forman [type=array][readonly] imt-input-array-button button,
imt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button {
  color: #cecece;
  cursor: not-allowed;
}

imt-forman.forman [type=array][disabled] imt-input-array-button button:before,
imt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button:before, imt-forman.forman [type=array][readonly] imt-input-array-button button:before,
imt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button:before {
  background-color: #cecece;
}

imt-forman.forman [type=array][disabled] imt-input-array-button button:hover,
imt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button:hover, imt-forman.forman [type=array][readonly] imt-input-array-button button:hover,
imt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button:hover {
  background-color: transparent;
  color: #cecece;
}

imt-forman.forman imt-input-boolean[mode=map] .wrapper,
imt-forman.forman imt-input-checkbox[mode=map] .wrapper {
  display: none;
}

imt-forman.forman imt-input-boolean.collapsed:not([invalid]) > .wrapper,
imt-forman.forman imt-input-checkbox.collapsed:not([invalid]) > .wrapper {
  display: none;
}

imt-forman.forman imt-input-boolean .custom-control-label::before,
imt-forman.forman imt-input-checkbox .custom-control-label::before {
  background-color: #ffffff;
  border: 1px solid #cecece;
}

imt-forman.forman imt-input-boolean .custom-control-input:checked ~ .custom-control-label::before,
imt-forman.forman imt-input-checkbox .custom-control-input:checked ~ .custom-control-label::before {
  border: none;
}

imt-forman.forman imt-input-folder .wrapper,
imt-forman.forman imt-input-file .wrapper {
  display: flex;
  align-items: center;
  height: inherit;
  flex-wrap: wrap;
}

imt-forman.forman imt-input-folder .wrapper imt-picker,
imt-forman.forman imt-input-file .wrapper imt-picker {
  display: flex;
  align-items: center;
  transition: background-color 0.2s;
  cursor: pointer;
  border-radius: 3px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker::before,
imt-forman.forman imt-input-file .wrapper imt-picker::before {
  position: relative;
  content: "/";
  padding-right: 8px;
  padding-left: 8px;
  top: initial;
  right: initial;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:hover,
imt-forman.forman imt-input-file .wrapper imt-picker:hover {
  background-color: #eee;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:active,
imt-forman.forman imt-input-file .wrapper imt-picker:active {
  color: white;
  background-color: #eee;
}

imt-forman.forman imt-input-folder .wrapper imt-picker > .reload.btn,
imt-forman.forman imt-input-file .wrapper imt-picker > .reload.btn {
  position: relative;
  top: initial;
  right: initial;
  padding: 0;
  margin-left: 8px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker .display,
imt-forman.forman imt-input-folder .wrapper imt-picker .messages,
imt-forman.forman imt-input-file .wrapper imt-picker .display,
imt-forman.forman imt-input-file .wrapper imt-picker .messages {
  width: 100%;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.loading,
imt-forman.forman imt-input-file .wrapper imt-picker.loading {
  padding: 0;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.loading > .reload.btn,
imt-forman.forman imt-input-file .wrapper imt-picker.loading > .reload.btn {
  display: block;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.loading .display,
imt-forman.forman imt-input-file .wrapper imt-picker.loading .display {
  display: none;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add > .reload.btn,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add > .reload.btn {
  margin: 0;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add .display,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add .display {
  color: #ffffff !important;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add:before,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add:before {
  color: #ababab;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add:not([error]):after,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add:not([error]):after {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f055";
  font-size: 14px;
  line-height: 1.5;
  color: #2f8cbb;
  padding-top: 3px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add.expanded:after, imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add.loading:after,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add.expanded:after,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add.loading:after {
  content: "";
}

imt-forman.forman imt-input-folder .wrapper imt-picker:first-child:before,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child:before {
  margin-left: -8px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:before, imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:after,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:before,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:after {
  display: none;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display {
  border-radius: 3px;
  font-size: 12px;
  line-height: 1.5;
  padding: 2px 5px;
  background-color: #2f8cbb;
  margin: 0;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:hover,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:hover {
  background-color: #2a7da7;
}

imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:active,
imt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:active {
  color: #2f8cbb;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root:before, imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root + imt-picker:before,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root:before,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root + imt-picker:before {
  display: none;
}

imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root + imt-picker,
imt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root + imt-picker {
  margin-left: 8px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker imt-option:before,
imt-forman.forman imt-input-file .wrapper imt-picker imt-option:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  font-size: 14px;
  line-height: 1.5;
}

imt-forman.forman imt-input-folder .wrapper imt-picker imt-option[data-type=folder]:before,
imt-forman.forman imt-input-file .wrapper imt-picker imt-option[data-type=folder]:before {
  content: "\\f07c";
  padding-right: 7px;
}

imt-forman.forman imt-input-folder .wrapper imt-picker imt-option[data-type=file]:before,
imt-forman.forman imt-input-file .wrapper imt-picker imt-option[data-type=file]:before {
  content: "\\f15b";
  padding-right: 12px;
}

imt-forman.forman imt-input-folder[mode=map] .wrapper,
imt-forman.forman imt-input-file[mode=map] .wrapper {
  display: none;
}

imt-forman.forman:not([mappable]) imt-input-boolean[required] label {
  font-weight: normal !important;
}

imt-forman.forman imt-input-collection[mode=map] > imt-fieldset {
  display: none;
}

imt-forman.forman imt-input-collection.collapsed:not([invalid]) > imt-fieldset {
  display: none;
}

imt-forman.forman imt-input-collection[invisible] > label {
  display: none;
}

imt-forman.forman imt-input-collection > label.new-item {
  font-style: italic;
}

imt-forman.forman imt-input-collection > label.new-item .form-icon {
  font-style: normal;
}

imt-forman.forman imt-input-collection[shadow] > .form-expander, imt-forman.forman imt-input-collection[shadow] > label {
  display: none;
}

imt-forman.forman imt-input-hidden {
  display: none !important;
}

imt-forman.forman imt-input-grecaptcha[data-version="3"] {
  display: none !important;
}

imt-forman.forman imt-input-grecaptcha[data-version="2"] label {
  display: none !important;
}

imt-forman.forman imt-input-separator {
  display: block;
  color: #ababab;
  border-bottom: 1px solid #ababab;
  text-transform: uppercase;
  font-size: 11px;
  margin-bottom: 1rem;
}

imt-forman.forman imt-input-separator::before {
  content: attr(title);
}

imt-forman.forman[mappable] imt-input-separator {
  margin-left: -24px;
}

imt-forman.forman imt-input-filter div.group {
  position: relative;
  border-left: 5px solid #006baa;
  padding-left: 15px;
}

imt-forman.forman imt-input-filter div.group:not(:first-child) {
  margin-top: 50px;
}

imt-forman.forman imt-input-filter div.group:not(:first-child):before {
  display: block;
  content: "";
  background-color: #006baa;
  position: absolute;
  top: -25px;
  height: 1px;
  width: 100%;
  left: -5px;
}

imt-forman.forman imt-input-filter div.group:not(:first-child):after {
  display: block;
  content: "or";
  text-align: center;
  color: #006baa;
  background-color: #f8f8f8;
  font-weight: bold;
  position: absolute;
  top: -40px;
  left: 50%;
  width: 40px;
  margin-left: -20px;
  line-height: 30px;
}

imt-forman.forman imt-input-filter div.group div.group-items:empty ~ button.add-group {
  display: none;
}

imt-forman.forman imt-input-filter div.group div.item {
  position: relative;
  margin-right: 25px;
  margin-bottom: 15px;
}

imt-forman.forman imt-input-filter div.group div.item:not(:first-child) {
  margin-top: 50px;
}

imt-forman.forman imt-input-filter div.group div.item:not(:first-child):before {
  display: block;
  content: "and";
  text-align: center;
  color: #006baa;
  font-weight: bold;
  position: absolute;
  top: -40px;
  left: 50%;
  width: 40px;
  margin-left: -20px;
  line-height: 30px;
}

imt-forman.forman imt-input-filter div.group div.item imt-picker.operator:not(.expanded) {
  background-color: transparent;
  border: none;
}

imt-forman.forman imt-input-filter div.group div.item .close {
  position: absolute;
  top: 5px;
  right: -25px;
}

imt-forman.forman imt-input-filter[logic=reverse] div.group div.item:not(:first-child):before {
  content: "or";
}

imt-forman.forman imt-input-filter[logic=reverse] div.group:not(:first-child):after {
  content: "and";
}

imt-forman.forman imt-input-radio div.form-check {
  margin-bottom: 10px;
}

imt-forman.forman imt-input-radio[disabled] .form-check-input, imt-forman.forman imt-input-radio[disabled] .form-check-input ~ label {
  cursor: not-allowed;
}

imt-forman.forman imt-input-radio[mode=map] .wrapper {
  display: none;
}

imt-forman.forman imt-input-password .password-button-container {
  position: relative;
}

imt-forman.forman imt-input-password .password-button-container .form-control {
  padding-right: 42px;
}

imt-forman.forman imt-input-password .password-button-container .show-password {
  position: absolute;
  border: none;
  outline: none;
  cursor: pointer;
  background-color: transparent;
  padding-right: 0.75rem;
  padding-left: 0.75rem;
  border-radius: 4px;
  top: 2px;
  width: 42px;
  height: calc(100% - 4px);
  right: 1px;
}

imt-forman.forman imt-input-password .password-button-container .show-password:focus {
  box-shadow: none;
}

imt-forman.forman imt-picker[disabled],
imt-forman.forman imt-picker[disabled].form-control,
imt-forman.forman imt-input-folder[disabled] .form-control,
imt-forman.forman imt-input-file[disabled] .form-control,
imt-forman.forman imt-input-password[disabled] .form-control,
imt-forman.forman imt-coder[disabled].form-control {
  background-color: #eee;
  cursor: not-allowed;
}

imt-forman.forman imt-input-upload[disabled] .form-control {
  background-color: #eee;
  cursor: not-allowed !important;
}

imt-forman.forman imt-input-editor[disabled] .CodeMirror-line, imt-forman.forman imt-input-editor[disabled] .CodeMirror-lines, imt-forman.forman imt-input-editor[disabled] textarea,
imt-forman.forman imt-input-json[disabled] .CodeMirror-line,
imt-forman.forman imt-input-json[disabled] .CodeMirror-lines,
imt-forman.forman imt-input-json[disabled] textarea {
  background-color: #eee;
  cursor: not-allowed;
}

imt-forman.forman imt-input-checkbox[disabled] .custom-control, imt-forman.forman imt-input-checkbox[disabled] .custom-control-input, imt-forman.forman imt-input-checkbox[disabled] .custom-control-input ~ label {
  cursor: not-allowed;
}

imt-forman.forman imt-input-folder[disabled] .form-control imt-picker:only-child.imt-input-folder-add:hover,
imt-forman.forman imt-input-file[disabled] .form-control imt-picker:only-child.imt-input-folder-add:hover {
  background-color: #2f8cbb;
}

imt-forman.forman imt-input-folder[disabled] .form-control imt-picker:focus,
imt-forman.forman imt-input-file[disabled] .form-control imt-picker:focus {
  border: none;
}

imt-forman.forman imt-input-folder[disabled] .form-control imt-picker:active,
imt-forman.forman imt-input-file[disabled] .form-control imt-picker:active {
  color: inherit;
  background-color: inherit;
}

imt-forman.forman imt-semantic-group {
  position: relative;
  display: block;
}

imt-forman.forman imt-semantic-group.collapsed:not([invalid]):not([error]) > .wrapper, imt-forman.forman imt-semantic-group.collapsed:not([invalid]):not([error]) > .control {
  display: none;
}

imt-forman.forman imt-semantic-group > .wrapper {
  margin-left: 24px;
}

imt-forman.forman imt-semantic-group > .control:not(:empty) {
  padding-bottom: 10px;
}

imt-forman.forman imt-semantic-group > .control > .custom-control {
  cursor: pointer;
}

imt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-label > .badge {
  font-weight: normal;
  font-size: 14px;
}

imt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-input,
imt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-label {
  cursor: pointer;
}

imt-forman.forman imt-semantic-group[mode=pick] div.wrapper {
  display: none;
}

imt-forman.forman imt-input-udtspec-item[type=array-item] {
  min-width: 275px;
  padding-left: 41px;
}

imt-forman.forman imt-input-udtspec-item[type=array-item] .form-expander {
  display: none;
}

imt-forman.forman imt-input-udtspec-item[type=array-item] > imt-input-collection.form-group > .form-expander {
  display: block;
}

imt-forman.forman imt-input-udttype.has-unknown-type > :not(imt-nested) {
  display: none;
}

imt-forman.forman imt-input-udttype imt-nested imt-input-collection[name=spec] {
  margin-left: 17px;
}

imt-forman.forman imt-input-udttype imt-nested imt-input-collection[name=spec] > label {
  margin-left: -17px;
}

imt-forman.forman imt-input-select .select-all {
  position: relative;
  padding: 0 0 8px 2.2rem;
  font-size: 1rem;
}

imt-forman.forman imt-input-select .select-all:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 300;
  content: "\\f0c8";
  position: absolute;
  top: 4px;
  left: 0.75rem;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 3px;
  color: #006baa;
  line-height: 1rem;
  cursor: pointer;
}

imt-forman.forman imt-input-select .select-all[selected]:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f14a";
}

imt-forman.forman imt-input-select.collapsed > .select-all {
  display: none;
}

imt-forman.forman imt-input-select[mode=map] > .select-all {
  display: none;
}

imt-forman.forman imt-input-text:not(.form-group),
imt-forman.forman imt-input-number:not(.form-group),
imt-forman.forman imt-input-url:not(.form-group),
imt-forman.forman imt-input-select:not(.form-group) {
  display: block;
  margin-bottom: 1rem;
}

imt-forman.forman imt-input-text:not(.form-group):before,
imt-forman.forman imt-input-number:not(.form-group):before,
imt-forman.forman imt-input-url:not(.form-group):before,
imt-forman.forman imt-input-select:not(.form-group):before {
  content: attr(label);
  display: block;
}

imt-forman.forman imt-input-text:not(.form-group):after,
imt-forman.forman imt-input-number:not(.form-group):after,
imt-forman.forman imt-input-url:not(.form-group):after,
imt-forman.forman imt-input-select:not(.form-group):after {
  content: "";
  display: block;
  width: 100%;
  height: calc(2.25rem + 2px);
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  background-color: #fff;
  border: 1px solid #cecece;
  border-radius: 0.25rem;
  margin-top: 0.5rem;
}

imt-forman.forman .CodeMirror {
  border: 1px solid #cecece;
  border-radius: 0.25rem;
}

imt-forman.forman .fr-box.fr-basic .fr-toolbar.fr-top {
  border-color: #cecece;
  border-top-left-radius: 0.25rem !important;
  border-top-right-radius: 0.25rem !important;
}

imt-forman.forman .fr-box.fr-basic .fr-wrapper {
  border-left-color: #cecece !important;
  border-right-color: #cecece !important;
}

imt-forman.forman .fr-box.fr-basic .second-toolbar {
  border-color: #cecece !important;
  border-bottom-left-radius: 0.25rem !important;
  border-bottom-right-radius: 0.25rem !important;
}

imt-forman.forman .fr-box.fr-basic #logo {
  visibility: hidden;
}

imt-forman.forman .bootstrap-datetimepicker-widget .fa {
  font-family: "Font Awesome 6 Pro";
  font-weight: 400;
}

imt-forman.forman .bootstrap-datetimepicker-widget .fa-calendar-check-o:before {
  content: "\\f274";
}

imt-forman.forman .bootstrap-datetimepicker-widget .fa-clock-o:before {
  content: "\\f017";
}

imt-forman.forman .bootstrap-datetimepicker-widget .table td {
  border: 1px solid #f8f8f8;
}

imt-forman.forman .bootstrap-datetimepicker-widget .table td.new, imt-forman.forman .bootstrap-datetimepicker-widget .table td.old {
  color: #aaa;
}

imt-forman.forman .bootstrap-datetimepicker-widget .table thead th {
  border-radius: 0 !important;
  background-color: transparent !important;
  border: none;
}

imt-forman.forman .bootstrap-datetimepicker-widget .table tbody td:not(.active):not(:hover) {
  background-color: white;
}

@keyframes ball-anim {
  0% {
    transform: scale(0.5);
    background: var(--forman-loading-from-color);
  }
  50% {
    transform: scale(1);
    background: var(--forman-loading-to-color);
  }
  100% {
    transform: scale(0.5);
    background: var(--forman-loading-from-color);
  }
}
imt-forman.forman imt-input-array > .i-templater-block {
  display: none;
}

.forman-array-dragging-preview {
  position: fixed !important;
  background: #f8f8f8;
  top: 0;
  left: 0;
  pointer-events: none;
  border: none !important;
  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);
  z-index: 999999;
  border-radius: 4px;
  padding-top: 2px;
}

.forman-array-dragging-preview::before {
  display: none !important;
}

.forman-dragging * {
  cursor: grabbing !important;
}

.formula.is-templater #pills-integromat imt-pill.custom-variable:not([custom-iml_system=true]),
.formula.is-templater .search-iml-matches imt-pill.custom-variable:not([custom-iml_system=true]) {
  display: none;
}

div.grecaptcha-badge {
  display: none !important;
}

imt-input-sort.form-group.pristine .form-sort-drag-drop,
imt-input-sort.form-group.pristine .form-arrow-up,
imt-input-sort.form-group.pristine .form-arrow-down {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 20px;
  height: 20px;
  padding: 0;
  font-size: 13px;
  text-align: center;
  color: #868686;
  background-color: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
  border-radius: 3px;
}

imt-input-sort.form-group.pristine .form-arrow-up {
  cursor: pointer;
  margin-right: 6px;
}

imt-input-sort.form-group.pristine .form-arrow-up:focus {
  color: #006baa;
  outline: 0;
}

imt-input-sort.form-group.pristine .form-arrow-up:hover {
  background-color: #006baa;
  color: #ffffff;
}

imt-input-sort.form-group.pristine .form-arrow-up:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f077";
}

imt-input-sort.form-group.pristine .form-arrow-up:active {
  cursor: grabbing;
}

imt-input-sort.form-group.pristine .form-arrow-down {
  cursor: pointer;
  margin-right: 6px;
}

imt-input-sort.form-group.pristine .form-arrow-down:focus {
  color: #006baa;
  outline: 0;
}

imt-input-sort.form-group.pristine .form-arrow-down:hover {
  background-color: #006baa;
  color: #ffffff;
}

imt-input-sort.form-group.pristine .form-arrow-down:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  content: "\\f078";
}

imt-input-sort.form-group.pristine .form-arrow-down:active {
  cursor: grabbing;
}

imt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop {
  cursor: move;
  cursor: grab;
  margin-right: 6px;
}

imt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:focus {
  color: #006baa;
  outline: 0;
}

imt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:hover {
  background-color: #006baa;
  color: #ffffff;
}

imt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:before {
  font-family: "Font Awesome 6 Pro";
  font-weight: 900;
  font-size: 18px;
  content: "\\e411";
}

imt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:active {
  cursor: grabbing;
}

imt-input-sort.form-group.pristine .form-arrow-hidden {
  visibility: hidden;
}

imt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item] {
  padding-left: 15px;
  padding-bottom: 10px;
}

imt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:before {
  height: 20px;
}

imt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:first-of-type {
  padding-top: 0.5rem;
}

imt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:first-of-type:before {
  height: 28px;
}

imt-input-sort.form-group.pristine .sort {
  display: flex;
  flex-direction: row-reverse;
  max-width: calc(100% - 78px);
}

imt-input-sort.form-group.pristine .sort-img {
  display: flex;
  justify-content: center;
  align-items: center;
}

imt-input-sort.form-group.pristine .sort-text {
  display: flex;
  justify-content: center;
  align-items: left;
  flex-direction: column;
  max-width: calc(100% - 56px);
}

imt-input-sort.form-group.pristine .sort-img {
  height: 41px;
  width: 41px;
  background-color: #846cc2;
  border-radius: 10%;
  margin-right: 15px;
}

imt-input-sort.form-group.pristine .sort-img img {
  width: 100%;
  height: 100%;
  padding: 8px;
}

imt-input-sort.form-group.pristine .sort-label {
  justify-content: space-between;
}

imt-input-sort.form-group.pristine .sort-label .label-text-content-sort-item {
  max-width: 100%;
  text-overflow: ellipsis;
  overflow-x: hidden;
  white-space: nowrap;
}

imt-input-sort.form-group.pristine .input-actions-sort {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

imt-input-sort.form-group.pristine .input-actions-sort-hidden {
  visibility: hidden;
}

imt-input-sort.form-group.pristine .label-preview-sort.label-preview {
  display: block;
  height: auto;
  margin-left: 5px;
  overflow: auto;
}

imt-input-sort.form-group.pristine .label-id.label-preview-sort.label-preview {
  border: 1px solid rgb(190, 190, 190);
  padding: 2px 6px;
  margin-left: 0px;
  color: rgb(190, 190, 190);
}

imt-input-sort.form-group.pristine .sort-label-id {
  display: flex;
  flex-direction: row;
  justify-content: left;
  align-items: center;
}`, "",{"version":3,"sources":["webpack://./lib/forman.scss"],"names":[],"mappings":"AAAA;EACE;IACE,uBAAA;EACF;EACA;IACE,wBAAA;EACF;AACF;AACA;EACE,cAAA;EACA,eAAA;EACA,oCAAA;EACA,kCAAA;AACF;;AACA;EACE,gBAAA;EACA,yBAAA;EACA,gBAAA;EACA,yBAAA;EACA,sBAAA;EACA,eAAA;AAEF;;AAAA;EACE,gBAAA;EACA,eAAA;EACA,+BAAA;EACA,sBAAA;EACA,qBAAA;AAGF;;AADA;EACE,sBAAA;EACA,cAAA;AAIF;;AAFA;EACE,sBAAA;EACA,mBAAA;EACA,kBAAA;AAKF;;AAHA;EACE,iBAAA;AAMF;;AAJA;EACE,aAAA;AAOF;;AALA;EACE,aAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,WAAA;EACA,QAAA;EACA,kBAAA;EACA,eAAA;EACA,eAAA;EACA,kBAAA;EACA,yBAAA;EACA,cAAA;EACA,iCAAA;AAQF;;AANA;EACE,cAAA;EACA,0BAAA;EACA,WAAA;EACA,YAAA;AASF;;AAPA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AAUF;;AARA;;EAEE,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,eAAA;EACA,kBAAA;EACA,cAAA;EACA,6BAAA;EACA,YAAA;EACA,eAAA;EACA,6CAAA;EACA,kBAAA;AAWF;;AATA;EACE,cAAA;EACA,UAAA;AAYF;;AAVA;EACE,yBAAA;EACA,cAAA;AAaF;;AAXA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AAcF;;AAZA;EACE,YAAA;EACA,YAAA;EACA,iBAAA;AAeF;;AAbA;EACE,cAAA;EACA,UAAA;AAgBF;;AAdA;EACE,yBAAA;EACA,cAAA;AAiBF;;AAfA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AAkBF;;AAhBA;EACE,gBAAA;AAmBF;;AAjBA;EACE,eAAA;EACA,kBAAA;EACA,kBAAA;EACA,kBAAA;AAoBF;;AAlBA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,cAAA;EACA,qBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;EACA,OAAA;AAqBF;;AAnBA;EACE,wBAAA;AAsBF;;AApBA;EACE,kBAAA;EACA,gBAAA;EACA,eAAA;EACA,eAAA;AAuBF;;AArBA;EACE,cAAA;EACA,iBAAA;AAwBF;;AAtBA;EACE,aAAA;AAyBF;;AAvBA;;EAEE,aAAA;EACA,eAAA;EACA,cAAA;EACA,gBAAA;EACA,kBAAA;EACA,kBAAA;AA0BF;;AAxBA;;EAEE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,qBAAA;EACA,WAAA;EACA,kBAAA;EACA,kBAAA;EACA,OAAA;AA2BF;;AAzBA;;EAEE,wBAAA;AA4BF;;AA1BA;;EAEE,mBAAA;AA6BF;;AA3BA;EACE,aAAA;EACA,kBAAA;EACA,aAAA;EACA,cAAA;EACA,UAAA;AA8BF;;AA5BA;EACE,mBAAA;EACA,gBAAA;EACA,kCAAA;AA+BF;;AA7BA;EACE,WAAA;EACA,YAAA;AAgCF;;AA9BA;EACE,cAAA;EACA,kBAAA;EACA,+BAAA;EACA,kBAAA;EACA,yBAAA;EACA,sGAAA;AAiCF;;AA/BA;EACE,WAAA;EACA,kBAAA;EACA,cAAA;EACA,UAAA;EACA,YAAA;EACA,iCAAA;EACA,SAAA;EACA,QAAA;EACA,uCAAA;AAkCF;;AAhCA;EACE,8BAAA;AAmCF;;AAjCA;EACE,gCAAA;AAoCF;;AAlCA;EACE,mBAAA;EACA,iBAAA;AAqCF;;AAnCA;EACE,aAAA;AAsCF;;AApCA;EACE,4BAAA;AAuCF;;AArCA;EACE,yBAAA;EACA,kBAAA;EACA,0BAAA;EACA,yBAAA;EACA,qBAAA;AAwCF;;AAtCA;EACE,UAAA;AAyCF;;AAvCA;EACE,WAAA;EACA,QAAA;EACA,2BAAA;EACA,8BAAA;EACA,+BAAA;EACA,MAAA;AA0CF;;AAxCA;EACE,qCAAA;EACA,oCAAA;AA2CF;;AAzCA;EACE,sDAAA;AA4CF;;AA1CA;EACE,kBAAA;AA6CF;;AA3CA;EACE,wBAAA;EACA,UAAA;AA8CF;;AA5CA;EACE,gBAAA;EACA,oBAAA;AA+CF;;AA7CA;EACE,sBAAA;AAgDF;;AA9CA;EACE,gBAAA;AAiDF;;AA/CA;EACE,iBAAA;AAkDF;;AAhDA;EACE,cAAA;EACA,iBAAA;AAmDF;;AAjDA;EACE,kBAAA;AAoDF;;AAlDA;EACE,cAAA;AAqDF;;AAnDA;EACE,wBAAA;AAsDF;;AApDA;;EAEE,kBAAA;EACA,kBAAA;AAuDF;;AArDA;;EAEE,kBAAA;AAwDF;;AAtDA;;EAEE,wBAAA;EACA,UAAA;AAyDF;;AAvDA;EACE,UAAA;AA0DF;;AAxDA;EACE,8BAAA;AA2DF;;AAzDA;EACE,+BAAA;EACA,WAAA;EACA,UAAA;AA4DF;;AA1DA;EACE,WAAA;AA6DF;;AA3DA;EACE,kBAAA;AA8DF;;AA5DA;;EAEE,kBAAA;AA+DF;;AA7DA;EACE,cAAA;AAgEF;;AA9DA;EACE,kBAAA;AAiEF;;AA/DA;EACE,gBAAA;AAkEF;;AAhEA;EACE,kBAAA;AAmEF;;AAjEA;EACE,aAAA;AAoEF;;AAlEA;EACE,aAAA;AAqEF;;AAnEA;EACE,kBAAA;EACA,cAAA;EACA,mBAAA;AAsEF;;AApEA;EACE,aAAA;AAuEF;;AArEA;EACE,cAAA;EACA,eAAA;EACA,uBAAA;EACA,kBAAA;EACA,mBAAA;AAwEF;;AAtEA;EACE,WAAA;EACA,aAAA;EACA,mBAAA;AAyEF;;AAvEA;EACE,qBAAA;EACA,YAAA;EACA,cAAA;AA0EF;;AAxEA;EACE,eAAA;EACA,iBAAA;EACA,iBAAA;EACA,uBAAA;EACA,gBAAA;EACA,mBAAA;EACA,aAAA;EACA,WAAA;EACA,gBAAA;EACA,YAAA;AA2EF;;AAzEA;EACE,oBAAA;EACA,cAAA;EACA,aAAA;EACA,UAAA;EACA,uBAAA;EACA,WAAA;AA4EF;;AA1EA;EACE,YAAA;AA6EF;;AA3EA;EACE,WAAA;EACA,gBAAA;AA8EF;;AA5EA;EACE,WAAA;EACA,gBAAA;EACA,kBAAA;AA+EF;;AA7EA;EACE,gBAAA;AAgFF;;AA9EA;EACE,iBAAA;AAiFF;;AA/EA;EACE,yBAAA;AAkFF;;AAhFA;EACE,cAAA;AAmFF;;AAjFA;EACE,qBAAA;AAoFF;;AAlFA;EACE,oBAAA;EACA,eAAA;EACA,yBAAA;AAqFF;;AAnFA;EACE,gBAAA;AAsFF;;AApFA;EACE,uDAAA;EACA,UAAA;EACA,iBAAA;EACA,gBAAA;AAuFF;;AArFA;EACE,cAAA;AAwFF;;AAtFA;EACE,aAAA;EACA,2BAAA;EACA,eAAA;EACA,cAAA;EACA,cAAA;EACA,uBAAA;EACA,mBAAA;AAyFF;;AAvFA;EACE,aAAA;EACA,mBAAA;EACA,iBAAA;AA0FF;;AAxFA;EACE,aAAA;EACA,mBAAA;EACA,eAAA;AA2FF;;AAzFA;EACE,gBAAA;EACA,cAAA;AA4FF;;AA1FA;EACE,aAAA;AA6FF;;AA3FA;EACE,iBAAA;EACA,gBAAA;AA8FF;;AA5FA;EACE,yBAAA;AA+FF;;AA7FA;;;;;;;;;;;EAWE,aAAA;AAgGF;;AA9FA;EACE,UAAA;AAiGF;;AA/FA;EACE,cAAA;AAkGF;;AAhGA;EACE,aAAA;AAmGF;;AAjGA;;EAEE,wBAAA;AAoGF;;AAlGA;EACE,kBAAA;EACA,gBAAA;AAqGF;;AAnGA;;EAEE,oBAAA;AAsGF;;AApGA;EACE,aAAA;AAuGF;;AArGA;EACE,YAAA;EACA,MAAA;EACA,6BAAA;AAwGF;;AAtGA;;;;;EAKE,2BAAA;AAyGF;;AAvGA;EACE,gBAAA;EACA,aAAA;AA0GF;;AAxGA;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,uCAAA;EACA,yBAAA;EACA,4BAAA;EACA,YAAA;EACA,UAAA;AA2GF;;AAzGA;EACE,YAAA;AA4GF;;AA1GA;EACE,mBAAA;EACA,gCAAA;AA6GF;;AA3GA;EACE,aAAA;AA8GF;;AA5GA;EACE,YAAA;AA+GF;;AA7GA;EACE,cAAA;AAgHF;;AA9GA;EACE,gBAAA;AAiHF;;AA/GA;EACE,iBAAA;AAkHF;;AAhHA;EACE,aAAA;AAmHF;;AAjHA;EACE,aAAA;AAoHF;;AAlHA;EACE,gBAAA;EACA,kBAAA;EACA,kBAAA;AAqHF;;AAnHA;EACE,kBAAA;AAsHF;;AApHA;EACE,6BAAA;EACA,8BAAA;AAuHF;;AArHA;EACE,uCAAA;EACA,0CAAA;AAwHF;;AAtHA;EACE,yBAAA;AAyHF;;AAvHA;EACE,gBAAA;AA0HF;;AAxHA;EACE,eAAA;EACA,aAAA;EACA,sBAAA;EACA,kBAAA;EACA,UAAA;EACA,iBAAA;EACA,yBAAA;EACA,4CAAA;AA2HF;;AAzHA;EACE,kBAAA;EACA,cAAA;EACA,gBAAA;AA4HF;;AA1HA;EACE,iBAAA;AA6HF;;AA3HA;EACE,gBAAA;AA8HF;;AA5HA;EACE,sBAAA;EACA,aAAA;EACA,yBAAA;EACA,gBAAA;AA+HF;;AA7HA;EACE,mBAAA;AAgIF;;AA9HA;EACE,yBAAA;AAiIF;;AA/HA;EACE,cAAA;AAkIF;;AAhIA;EACE,aAAA;AAmIF;;AAjIA;EACE,aAAA;AAoIF;;AAlIA;EACE,mBAAA;AAqIF;;AAnIA;EACE,WAAA;EACA,YAAA;EACA,sBAAA;EACA,gCAAA;EACA,kBAAA;EACA,qBAAA;EACA,sBAAA;EACA,sCAAA;AAsIF;;AApIA;EACE;IACE,uBAAA;EAuIF;EArIA;IACE,yBAAA;EAuIF;AACF;AArIA;EACE,YAAA;EACA,WAAA;EACA,wBAAA;EACA,OAAA;EACA,gBAAA;EACA,sBAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,gBAAA;EACA,aAAA;AAuIF;;AArIA;EACE,YAAA;EACA,WAAA;EACA,mBAAA;EACA,4CAAA;EACA,QAAA;EACA,kBAAA;EACA,qBAAA;EACA,gBAAA;AAwIF;;AAtIA;EACE,0EAAA;AAyIF;;AAvIA;EACE,2EAAA;AA0IF;;AAxIA;EACE,4EAAA;AA2IF;;AAzIA;EACE,4EAAA;AA4IF;;AA1IA;EACE,aAAA;AA6IF;;AA3IA;;;EAGE,cAAA;AA8IF;;AA5IA;;;EAGE,gBAAA;AA+IF;;AA7IA;EACE,8BAAA;AAgJF;;AA9IA;;EAEE,wBAAA;AAiJF;;AA/IA;EACE,iCAAA;EACA,gBAAA;EACA,qBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;EACA,+BAAA;EACA,0CAAA;EACA,iBAAA;EACA,SAAA;EACA,QAAA;AAkJF;;AAhJA;EACE,aAAA;AAmJF;;AAjJA;EACE,qBAAA;EACA,0CAAA;EACA,UAAA;EACA,cAAA;EACA,WAAA;EACA,YAAA;AAoJF;;AAlJA;EACE,qBAAA;AAqJF;;AAnJA;EACE,gBAAA;AAsJF;;AApJA;EACE,gBAAA;AAuJF;;AArJA;EACE,gBAAA;EACA,iCAAA;EACA,gBAAA;AAwJF;;AAtJA;EACE,gBAAA;AAyJF;;AAvJA;EACE,gBAAA;AA0JF;;AAxJA;EACE,gBAAA;AA2JF;;AAzJA;EACE,gBAAA;AA4JF;;AA1JA;EACE,gBAAA;AA6JF;;AA3JA;EACE,gBAAA;AA8JF;;AA5JA;EACE,gBAAA;AA+JF;;AA7JA;EACE,gBAAA;AAgKF;;AA9JA;EACE,gBAAA;AAiKF;;AA/JA;EACE,gBAAA;AAkKF;;AAhKA;EACE,gBAAA;AAmKF;;AAjKA;EACE,gBAAA;AAoKF;;AAlKA;EACE,gBAAA;AAqKF;;AAnKA;EACE,gBAAA;AAsKF;;AApKA;EACE,gBAAA;AAuKF;;AArKA;EACE,gBAAA;AAwKF;;AAtKA;EACE,gBAAA;AAyKF;;AAvKA;EACE,gBAAA;AA0KF;;AAxKA;EACE,gBAAA;AA2KF;;AAzKA;EACE,gBAAA;AA4KF;;AA1KA;EACE,gBAAA;AA6KF;;AA3KA;EACE,gBAAA;AA8KF;;AA5KA;EACE,gBAAA;AA+KF;;AA7KA;EACE,gBAAA;AAgLF;;AA9KA;EACE,gBAAA;AAiLF;;AA/KA;EACE,gBAAA;AAkLF;;AAhLA;EACE,gBAAA;AAmLF;;AAjLA;EACE,gBAAA;AAoLF;;AAlLA;EACE,gBAAA;AAqLF;;AAnLA;EACE,gBAAA;AAsLF;;AApLA;EACE,gBAAA;AAuLF;;AArLA;EACE,gBAAA;AAwLF;;AAtLA;EACE,gBAAA;AAyLF;;AAvLA;EACE,gBAAA;AA0LF;;AAxLA;EACE,gBAAA;AA2LF;;AAzLA;EACE,gBAAA;AA4LF;;AA1LA;EACE,gBAAA;AA6LF;;AA3LA;EACE,gBAAA;AA8LF;;AA5LA;EACE,gBAAA;AA+LF;;AA7LA;EACE,gBAAA;AAgMF;;AA9LA;EACE,gBAAA;AAiMF;;AA/LA;EACE,gBAAA;AAkMF;;AAhMA;EACE,gBAAA;AAmMF;;AAjMA;EACE,gBAAA;AAoMF;;AAlMA;EACE,iBAAA;AAqMF;;AAnMA;EACE,mBAAA;AAsMF;;AApMA;;EAEE,gBAAA;AAuMF;;AArMA;;;;EAIE,gBAAA;AAwMF;;AAtMA;;;;EAIE,+BAAA;EACA,8BAAA;AAyMF;;AAvMA;EACE,eAAA;AA0MF;;AAxMA;EACE,kBAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,iBAAA;EACA,cAAA;EACA,gBAAA;AA2MF;;AAzMA;EACE,iCAAA;EACA,gBAAA;EACA,cAAA;EACA,gBAAA;EACA,cAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,OAAA;EACA,MAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,oBAAA;AA4MF;;AA1MA;EACE,eAAA;EACA,kBAAA;EACA,qBAAA;AA6MF;;AA3MA;;;;EAIE,aAAA;AA8MF;;AA5MA;;EAEE,kBAAA;EACA,kCAAA;EACA,kBAAA;AA+MF;;AA7MA;;EAEE,WAAA;EACA,kBAAA;EACA,cAAA;EACA,WAAA;EACA,YAAA;EACA,iCAAA;EACA,+BAAA;EACA,UAAA;EACA,SAAA;AAgNF;;AA9MA;;EAEE,gDAAA;EACA,6BAAA;EACA,6BAAA;EACA,YAAA;EACA,eAAA;EACA,6CAAA;EACA,kBAAA;AAiNF;;AA/MA;;EAEE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,qBAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;EACA,yBAAA;EACA,cAAA;EACA,oBAAA;AAkNF;;AAhNA;;EAEE,cAAA;EACA,UAAA;AAmNF;;AAjNA;;EAEE,yBAAA;EACA,cAAA;AAoNF;;AAlNA;;EAEE,gBAAA;AAqNF;;AAnNA;EACE,aAAA;AAsNF;;AApNA;EACE,gBAAA;AAuNF;;AArNA;EACE,aAAA;AAwNF;;AAtNA;;;EAGE,aAAA;AAyNF;;AAvNA;;;EAGE,cAAA;EACA,mBAAA;AA0NF;;AAxNA;;;EAGE,yBAAA;AA2NF;;AAzNA;;;EAGE,6BAAA;EACA,cAAA;AA4NF;;AA1NA;;EAEE,aAAA;AA6NF;;AA3NA;;EAEE,aAAA;AA8NF;;AA5NA;;EAEE,yBAAA;EACA,yBAAA;AA+NF;;AA7NA;;EAEE,YAAA;AAgOF;;AA9NA;;EAEE,aAAA;EACA,mBAAA;EACA,eAAA;EACA,eAAA;AAiOF;;AA/NA;;EAEE,aAAA;EACA,mBAAA;EACA,iCAAA;EACA,eAAA;EACA,kBAAA;AAkOF;;AAhOA;;EAEE,kBAAA;EACA,YAAA;EACA,kBAAA;EACA,iBAAA;EACA,YAAA;EACA,cAAA;AAmOF;;AAjOA;;EAEE,sBAAA;AAoOF;;AAlOA;;EAEE,YAAA;EACA,sBAAA;AAqOF;;AAnOA;;EAEE,kBAAA;EACA,YAAA;EACA,cAAA;EACA,UAAA;EACA,gBAAA;AAsOF;;AApOA;;;;EAIE,WAAA;AAuOF;;AArOA;;EAEE,UAAA;AAwOF;;AAtOA;;EAEE,cAAA;AAyOF;;AAvOA;;EAEE,aAAA;AA0OF;;AAxOA;;EAEE,SAAA;AA2OF;;AAzOA;;EAEE,yBAAA;AA4OF;;AA1OA;;EAEE,cAAA;AA6OF;;AA3OA;;EAEE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,gBAAA;AA8OF;;AA5OA;;;EAGE,WAAA;AA+OF;;AA7OA;;EAEE,iBAAA;AAgPF;;AA9OA;;;EAGE,aAAA;AAiPF;;AA/OA;;EAEE,kBAAA;EACA,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,yBAAA;EACA,SAAA;AAkPF;;AAhPA;;EAEE,yBAAA;AAmPF;;AAjPA;;EAEE,cAAA;AAoPF;;AAlPA;;;EAGE,aAAA;AAqPF;;AAnPA;;EAEE,gBAAA;AAsPF;;AApPA;;EAEE,iCAAA;EACA,gBAAA;EACA,eAAA;EACA,gBAAA;AAuPF;;AArPA;;EAEE,gBAAA;EACA,kBAAA;AAwPF;;AAtPA;;EAEE,gBAAA;EACA,mBAAA;AAyPF;;AAvPA;;EAEE,aAAA;AA0PF;;AAxPA;EACE,8BAAA;AA2PF;;AAzPA;EACE,aAAA;AA4PF;;AA1PA;EACE,aAAA;AA6PF;;AA3PA;EACE,aAAA;AA8PF;;AA5PA;EACE,kBAAA;AA+PF;;AA7PA;EACE,kBAAA;AAgQF;;AA9PA;EACE,aAAA;AAiQF;;AA/PA;EACE,wBAAA;AAkQF;;AAhQA;EACE,wBAAA;AAmQF;;AAjQA;EACE,wBAAA;AAoQF;;AAlQA;EACE,cAAA;EACA,cAAA;EACA,gCAAA;EACA,yBAAA;EACA,eAAA;EACA,mBAAA;AAqQF;;AAnQA;EACE,oBAAA;AAsQF;;AApQA;EACE,kBAAA;AAuQF;;AArQA;EACE,kBAAA;EACA,8BAAA;EACA,kBAAA;AAwQF;;AAtQA;EACE,gBAAA;AAyQF;;AAvQA;EACE,cAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;EACA,UAAA;EACA,WAAA;EACA,WAAA;EACA,UAAA;AA0QF;;AAxQA;EACE,cAAA;EACA,aAAA;EACA,kBAAA;EACA,cAAA;EACA,yBAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;AA2QF;;AAzQA;EACE,aAAA;AA4QF;;AA1QA;EACE,kBAAA;EACA,kBAAA;EACA,mBAAA;AA6QF;;AA3QA;EACE,gBAAA;AA8QF;;AA5QA;EACE,cAAA;EACA,cAAA;EACA,kBAAA;EACA,cAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,kBAAA;EACA,iBAAA;AA+QF;;AA7QA;EACE,6BAAA;EACA,YAAA;AAgRF;;AA9QA;EACE,kBAAA;EACA,QAAA;EACA,YAAA;AAiRF;;AA/QA;EACE,aAAA;AAkRF;;AAhRA;EACE,cAAA;AAmRF;;AAjRA;EACE,mBAAA;AAoRF;;AAlRA;EACE,mBAAA;AAqRF;;AAnRA;EACE,aAAA;AAsRF;;AApRA;EACE,kBAAA;AAuRF;;AArRA;EACE,mBAAA;AAwRF;;AAtRA;EACE,kBAAA;EACA,YAAA;EACA,aAAA;EACA,eAAA;EACA,6BAAA;EACA,sBAAA;EACA,qBAAA;EACA,kBAAA;EACA,QAAA;EACA,WAAA;EACA,wBAAA;EACA,UAAA;AAyRF;;AAvRA;EACE,gBAAA;AA0RF;;AAxRA;;;;;;EAME,sBAAA;EACA,mBAAA;AA2RF;;AAzRA;EACE,sBAAA;EACA,8BAAA;AA4RF;;AA1RA;;;;EAIE,sBAAA;EACA,mBAAA;AA6RF;;AA3RA;EACE,mBAAA;AA8RF;;AA5RA;;EAEE,yBAAA;AA+RF;;AA7RA;;EAEE,YAAA;AAgSF;;AA9RA;;EAEE,cAAA;EACA,yBAAA;AAiSF;;AA/RA;EACE,kBAAA;EACA,cAAA;AAkSF;;AAhSA;EACE,aAAA;AAmSF;;AAjSA;EACE,iBAAA;AAoSF;;AAlSA;EACE,oBAAA;AAqSF;;AAnSA;EACE,eAAA;AAsSF;;AApSA;EACE,mBAAA;EACA,eAAA;AAuSF;;AArSA;;EAEE,eAAA;AAwSF;;AAtSA;EACE,aAAA;AAySF;;AAvSA;EACE,gBAAA;EACA,kBAAA;AA0SF;;AAxSA;EACE,aAAA;AA2SF;;AAzSA;EACE,cAAA;AA4SF;;AA1SA;EACE,aAAA;AA6SF;;AA3SA;EACE,iBAAA;AA8SF;;AA5SA;EACE,kBAAA;AA+SF;;AA7SA;EACE,kBAAA;EACA,uBAAA;EACA,eAAA;AAgTF;;AA9SA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;EACA,kBAAA;EACA,QAAA;EACA,aAAA;EACA,sBAAA;EACA,6BAAA;EACA,kBAAA;EACA,cAAA;EACA,iBAAA;EACA,eAAA;AAiTF;;AA/SA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AAkTF;;AAhTA;EACE,aAAA;AAmTF;;AAjTA;EACE,aAAA;AAoTF;;AAlTA;;;;EAIE,cAAA;EACA,mBAAA;AAqTF;;AAnTA;;;;EAIE,oBAAA;EACA,cAAA;AAsTF;;AApTA;;;;EAIE,WAAA;EACA,cAAA;EACA,WAAA;EACA,2BAAA;EACA,yBAAA;EACA,eAAA;EACA,sBAAA;EACA,yBAAA;EACA,sBAAA;EACA,kBAAA;AAuTF;;AArTA;EACE,yBAAA;EACA,sBAAA;AAwTF;;AAtTA;EACE,qBAAA;EACA,0CAAA;EACA,2CAAA;AAyTF;;AAvTA;EACE,qCAAA;EACA,sCAAA;AA0TF;;AAxTA;EACE,gCAAA;EACA,6CAAA;EACA,8CAAA;AA2TF;;AAzTA;EACE,kBAAA;AA4TF;;AA1TA;EACE,iCAAA;EACA,gBAAA;AA6TF;;AA3TA;EACE,gBAAA;AA8TF;;AA5TA;EACE,gBAAA;AA+TF;;AA7TA;EACE,yBAAA;AAgUF;;AA9TA;EACE,WAAA;AAiUF;;AA/TA;EACE,2BAAA;EACA,wCAAA;EACA,YAAA;AAkUF;;AAhUA;EACE,uBAAA;AAmUF;;AAjUA;EACE;IACE,qBAAA;IACA,4CAAA;EAoUF;EAlUA;IACE,mBAAA;IACA,0CAAA;EAoUF;EAlUA;IACE,qBAAA;IACA,4CAAA;EAoUF;AACF;AAlUA;EACE,aAAA;AAoUF;;AAjUA;EACE,0BAAA;EACA,mBAAA;EACA,MAAA;EACA,OAAA;EACA,oBAAA;EACA,uBAAA;EACA,qHAAA;EACA,eAAA;EACA,kBAAA;EACA,gBAAA;AAoUF;;AAlUA;EACE,wBAAA;AAqUF;;AAlUA;EACE,2BAAA;AAqUF;;AAlUA;;EAEE,aAAA;AAqUF;;AAlUA;EACE,wBAAA;AAqUF;;AAlUA;;;EAGE,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;EACA,eAAA;EACA,kBAAA;EACA,cAAA;EACA,6BAAA;EACA,YAAA;EACA,eAAA;EACA,6CAAA;EACA,kBAAA;AAqUF;;AAnUA;EACE,eAAA;EACA,iBAAA;AAsUF;;AApUA;EACE,cAAA;EACA,UAAA;AAuUF;;AArUA;EACE,yBAAA;EACA,cAAA;AAwUF;;AAtUA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AAyUF;;AAvUA;EACE,gBAAA;AA0UF;;AAxUA;EACE,eAAA;EACA,iBAAA;AA2UF;;AAzUA;EACE,cAAA;EACA,UAAA;AA4UF;;AA1UA;EACE,yBAAA;EACA,cAAA;AA6UF;;AA3UA;EACE,iCAAA;EACA,gBAAA;EACA,gBAAA;AA8UF;;AA5UA;EACE,gBAAA;AA+UF;;AA7UA;EACE,YAAA;EACA,YAAA;EACA,iBAAA;AAgVF;;AA9UA;EACE,cAAA;EACA,UAAA;AAiVF;;AA/UA;EACE,yBAAA;EACA,cAAA;AAkVF;;AAhVA;EACE,iCAAA;EACA,gBAAA;EACA,eAAA;EACA,gBAAA;AAmVF;;AAjVA;EACE,gBAAA;AAoVF;;AAlVA;EACE,kBAAA;AAqVF;;AAnVA;EACE,kBAAA;EACA,oBAAA;AAsVF;;AApVA;EACE,YAAA;AAuVF;;AArVA;EACE,mBAAA;AAwVF;;AAtVA;EACE,YAAA;AAyVF;;AAvVA;EACE,aAAA;EACA,2BAAA;EACA,4BAAA;AA0VF;;AAxVA;EACE,aAAA;EACA,uBAAA;EACA,mBAAA;AA2VF;;AAzVA;EACE,aAAA;EACA,uBAAA;EACA,iBAAA;EACA,sBAAA;EACA,4BAAA;AA4VF;;AA1VA;EACE,YAAA;EACA,WAAA;EACA,yBAAA;EACA,kBAAA;EACA,kBAAA;AA6VF;;AA3VA;EACE,WAAA;EACA,YAAA;EACA,YAAA;AA8VF;;AA5VA;EACE,8BAAA;AA+VF;;AA7VA;EACE,eAAA;EACA,uBAAA;EACA,kBAAA;EACA,mBAAA;AAgWF;;AA9VA;EACE,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,SAAA;AAiWF;;AA/VA;EACE,kBAAA;AAkWF;;AAhWA;EACE,cAAA;EACA,YAAA;EACA,gBAAA;EACA,cAAA;AAmWF;;AAjWA;EACE,oCAAA;EACA,gBAAA;EACA,gBAAA;EACA,yBAAA;AAoWF;;AAlWA;EACE,aAAA;EACA,mBAAA;EACA,qBAAA;EACA,mBAAA;AAqWF","sourcesContent":["@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(1turn);\n  }\n}\nimt-forman.forman {\n  display: block;\n  font-size: 14px;\n  --forman-loading-from-color: #ac94ea;\n  --forman-loading-to-color: #846cc2;\n}\nimt-forman.forman .i-templater-block {\n  margin: 0.2rem 0;\n  background-color: #d3e9f4;\n  min-height: 25px;\n  border: 1px solid #c1d7e3;\n  border-radius: 0.25rem;\n  padding: 0.3rem;\n}\nimt-forman.forman .i-templater-block label {\n  font-weight: 400;\n  font-size: 11px;\n  display: inline-flex !important;\n  width: auto !important;\n  margin-bottom: 0.5rem;\n}\nimt-forman.forman .i-templater-block label input {\n  vertical-align: middle;\n  margin: 0.3rem;\n}\nimt-forman.forman .i-templater-block label span {\n  vertical-align: middle;\n  margin-left: 0.5rem;\n  margin-top: 0.1rem;\n}\nimt-forman.forman .i-templater-block label + label {\n  margin-left: 15px;\n}\nimt-forman.forman .i-templater-block label:has(input) + textarea {\n  display: none;\n}\nimt-forman.forman .form-expander {\n  display: none;\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  left: -24px;\n  top: 4px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 10px;\n  border-radius: 3px;\n  background-color: #ababab;\n  color: #ffffff;\n  transition: background-color 0.2s;\n}\nimt-forman.forman .form-expander span {\n  display: block;\n  transition: transform 0.2s;\n  width: 14px;\n  height: 14px;\n}\nimt-forman.forman .form-expander span:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f107\";\n}\nimt-forman.forman .form-remover,\nimt-forman.forman .form-drag-drop {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  font-size: 13px;\n  text-align: center;\n  color: #868686;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.2s, color 0.2s;\n  border-radius: 3px;\n}\nimt-forman.forman .form-remover:focus {\n  color: #eb5768;\n  outline: 0;\n}\nimt-forman.forman .form-remover:hover {\n  background-color: #eb5768;\n  color: #ffffff;\n}\nimt-forman.forman .form-remover:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f00d\";\n}\nimt-forman.forman .form-drag-drop {\n  cursor: move;\n  cursor: grab;\n  margin-right: 6px;\n}\nimt-forman.forman .form-drag-drop:focus {\n  color: #006baa;\n  outline: 0;\n}\nimt-forman.forman .form-drag-drop:hover {\n  background-color: #006baa;\n  color: #ffffff;\n}\nimt-forman.forman .form-drag-drop:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\e411\";\n}\nimt-forman.forman .form-drag-drop:active {\n  cursor: grabbing;\n}\nimt-forman.forman .form-text {\n  font-size: 12px;\n  margin-top: 0.5rem;\n  padding-left: 22px;\n  position: relative;\n}\nimt-forman.forman .form-text:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 300;\n  content: \"\\f0eb\";\n  color: #fecd5f;\n  display: inline-block;\n  width: 14px;\n  text-align: center;\n  position: absolute;\n  left: 0;\n}\nimt-forman.forman .form-text:empty {\n  display: none !important;\n}\nimt-forman.forman .form-hints {\n  margin-top: 0.5rem;\n  list-style: none;\n  padding-left: 0;\n  font-size: 12px;\n}\nimt-forman.forman .form-hints li i {\n  color: #fecd5f;\n  margin-right: 7px;\n}\nimt-forman.forman .form-hints:empty {\n  display: none;\n}\nimt-forman.forman .form-validations,\nimt-forman.forman .form-errors {\n  display: none;\n  font-size: 12px;\n  color: #eb5768;\n  margin-top: 1rem;\n  padding-left: 22px;\n  position: relative;\n}\nimt-forman.forman .form-validations:before,\nimt-forman.forman .form-errors:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 300;\n  content: \"\\f071\";\n  display: inline-block;\n  width: 14px;\n  text-align: center;\n  position: absolute;\n  left: 0;\n}\nimt-forman.forman .form-validations:empty,\nimt-forman.forman .form-errors:empty {\n  display: none !important;\n}\nimt-forman.forman .form-validations:not(:empty) + .form-text,\nimt-forman.forman .form-errors:not(:empty) + .form-text {\n  margin-top: 0.25rem;\n}\nimt-forman.forman .form-validations {\n  max-height: 0;\n  overflow-y: hidden;\n  margin-top: 0;\n  display: block;\n  opacity: 0;\n}\nimt-forman.forman .input-icon {\n  align-items: center;\n  padding: 4px 7px;\n  border-radius: 0.25rem 0 0 0.25rem;\n}\nimt-forman.forman .input-icon img {\n  width: 24px;\n  height: 24px;\n}\nimt-forman.forman [type=array-item] {\n  display: block;\n  position: relative;\n  border-left: 1px dotted #ababab;\n  padding-left: 22px;\n  background-color: #f8f8f8;\n  transition: opacity cubic-bezier(0.4, 0, 0.2, 1) 250ms, border-left cubic-bezier(0.4, 0, 0.2, 1) 150ms;\n}\nimt-forman.forman [type=array-item]:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  width: 8px;\n  height: 10px;\n  border-bottom: 1px dotted #ababab;\n  left: 1px;\n  top: 2px;\n  transition: border-bottom ease-in 150ms;\n}\nimt-forman.forman [type=array-item]:not([disabled]):hover {\n  border-left: 1px solid #006baa;\n}\nimt-forman.forman [type=array-item]:not([disabled]):hover::before {\n  border-bottom: 1px solid #006baa;\n}\nimt-forman.forman [type=array-item].dragging-preview {\n  background: #f8f8f8;\n  border-left: none;\n}\nimt-forman.forman [type=array-item].dragging-preview::before {\n  display: none;\n}\nimt-forman.forman [type=array-item].dragging-preview:hover {\n  border-left: none !important;\n}\nimt-forman.forman [type=array-item].drop-zone {\n  background-color: #e8f1fa;\n  border-radius: 4px;\n  border: 1px dotted #8fc0da;\n  margin-left: 0 !important;\n  z-index: 1 !important;\n}\nimt-forman.forman [type=array-item].drop-zone * {\n  opacity: 0;\n}\nimt-forman.forman [type=array-item].drop-zone::before {\n  left: -18px;\n  width: 0;\n  height: calc(100% + 0.5rem);\n  border-bottom: none !important;\n  border-left: 1px dotted #8fc0da;\n  top: 0;\n}\nimt-forman.forman [type=array-item].drop-zone:hover {\n  border-left-color: #8fc0da !important;\n  border-left-style: dotted !important;\n}\nimt-forman.forman .form-group[type=array] > .list > [type=array-item] {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\nimt-forman.forman .form-group[type=array] [type=array-item] {\n  padding-left: 41px;\n}\nimt-forman.forman .form-group[type=array] [type=array-item].loading > .loader {\n  width: calc(100% - 41px);\n  left: 41px;\n}\nimt-forman.forman .form-group[type=array] [type=array-item] > .form-group {\n  margin-bottom: 0;\n  padding-bottom: 1rem;\n}\nimt-forman.forman .form-group[type=array] [type=array-item] > .form-group.collapsed:last-of-type {\n  padding-bottom: 0.5rem;\n}\nimt-forman.forman .form-group[type=array] [type=array-item] > .form-group.collapsed:last-of-type > label {\n  margin-bottom: 0;\n}\nimt-forman.forman[tree] imt-fieldset {\n  margin-left: 24px;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset {\n  margin-left: 0;\n  padding-left: 1px;\n}\nimt-forman.forman[tree] imt-nested {\n  margin-left: -24px;\n}\nimt-forman.forman[tree] .form-expander {\n  display: block;\n}\nimt-forman.forman[tree] .form-group.loading > .loader {\n  width: calc(100% - 41px);\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group,\nimt-forman.forman[tree] [type=array-item] {\n  padding-left: 41px;\n  margin-left: -17px;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group[type=collection][shadow],\nimt-forman.forman[tree] [type=array-item][type=collection][shadow] {\n  padding-left: 17px;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group.loading > .loader,\nimt-forman.forman[tree] [type=array-item].loading > .loader {\n  width: calc(100% - 41px);\n  left: 41px;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group > .form-expander {\n  left: 16px;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group:last-child {\n  border-left-color: transparent;\n}\nimt-forman.forman[tree] imt-fieldset imt-fieldset > .form-group:last-child:before {\n  border-left: 1px dotted #ababab;\n  width: 10px;\n  left: -1px;\n}\nimt-forman.forman[tree] .form-group[type=array] [type=array-item] > [field] > .form-expander {\n  left: -24px;\n}\nimt-forman.forman[tree] imt-input-array-button {\n  margin-left: -17px;\n}\nimt-forman.forman[tree] imt-input-udtspec-item[type=array-item] > .form-group > imt-fieldset > .form-group,\nimt-forman.forman[tree] imt-input-udtspec-item[type=array-item] > .form-group > imt-fieldset > .form-group imt-fieldset > imt-input-collection.form-group {\n  padding-left: 16px;\n}\nimt-forman.forman[tree] imt-input-udttype imt-nested imt-input-udtspec[name=spec] {\n  margin-left: 0;\n}\nimt-forman.forman[tree] imt-input-udttype imt-nested imt-input-udtspec[name=spec] > label {\n  margin-left: -17px;\n}\nimt-forman.forman[tree] imt-input-udttype imt-nested imt-input-collection[name=spec] {\n  margin-left: 7px;\n}\nimt-forman.forman[tree] imt-input-collection[shadow] {\n  margin-left: -24px;\n}\nimt-forman.forman:not([tree]) imt-input-list > label {\n  display: none;\n}\nimt-forman.forman:not([tree]) imt-input-radio > label {\n  display: none;\n}\nimt-forman.forman .form-group {\n  position: relative;\n  display: block;\n  margin-bottom: 1rem;\n}\nimt-forman.forman .form-group[mode=map] > imt-picker {\n  display: none;\n}\nimt-forman.forman .form-group.collapsed label .label-text-content {\n  flex: 0 0 auto;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  white-space: nowrap;\n}\nimt-forman.forman .form-group label {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\nimt-forman.forman .form-group label .label-text-content {\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 0 1 auto;\n}\nimt-forman.forman .form-group label .label-preview {\n  font-size: 12px;\n  margin-left: 10px;\n  line-height: 14px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  display: none;\n  color: gray;\n  font-weight: 400;\n  height: 14px;\n}\nimt-forman.forman .form-group label .label-preview > imt-pill {\n  pointer-events: none;\n  line-height: 1;\n  margin: 0 2px;\n  padding: 0;\n  background: transparent;\n  color: gray;\n}\nimt-forman.forman .form-group label .label-preview > imt-pill.function.first:after {\n  content: \"(\";\n}\nimt-forman.forman .form-group label .label-preview > imt-pill.function {\n  color: #000;\n  font-weight: 600;\n}\nimt-forman.forman .form-group label .label-preview > imt-pill.variable {\n  color: #000;\n  font-weight: 600;\n  font-style: italic;\n}\nimt-forman.forman .form-group label .label-preview > imt-pill.operator {\n  font-weight: 600;\n}\nimt-forman.forman .form-group[required] > label {\n  font-weight: bold;\n}\nimt-forman.forman .form-group[required] > .form-expander, imt-forman.forman .form-group:not(.empty) > .form-expander {\n  background-color: #ababab;\n}\nimt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > label {\n  color: #eb5768;\n}\nimt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-control {\n  border-color: #eb5768;\n}\nimt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-expander {\n  pointer-events: none;\n  cursor: default;\n  background-color: #eb5768;\n}\nimt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-expander span:before {\n  content: \"\\f12a\";\n}\nimt-forman.forman .form-group.invalid:not(.untouched):not(:focus-within):not([disabled]) > .form-validations {\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0.2s;\n  opacity: 1;\n  max-height: 10rem;\n  margin-top: 1rem;\n}\nimt-forman.forman .form-group[error] > .form-errors {\n  display: block;\n}\nimt-forman.forman .form-group > label > .input-actions {\n  display: flex;\n  flex-direction: row-reverse;\n  font-size: 12px;\n  color: #868686;\n  flex: 0 0 auto;\n  margin: 2px 0 auto auto;\n  font-weight: normal;\n}\nimt-forman.forman .form-group > label > .input-actions > .mode-switch {\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n}\nimt-forman.forman .form-group > label > .input-actions > .nested-refresh {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\nimt-forman.forman .form-group > label > .input-actions > .nested-refresh:focus .nested-refresh-button, imt-forman.forman .form-group > label > .input-actions > .nested-refresh:hover .nested-refresh-button {\n  box-shadow: none;\n  color: #2f8cbb;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]) > imt-picker {\n  display: none;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) {\n  padding-bottom: 0;\n  margin-bottom: 0;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-expander span {\n  transform: rotate(-90deg);\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-control,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-text,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-actions,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > imt-coder,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > input,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-validations,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-errors,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .form-hints,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-group,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .input-tools,\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > .wrapper {\n  display: none;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > imt-nested > imt-fieldset {\n  padding: 0;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > label > .label-preview {\n  display: block;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]):not([error]) > label > .input-actions > .mode-switch {\n  display: none;\n}\nimt-forman.forman .form-group > imt-option,\nimt-forman.forman .form-group > imt-optgroup {\n  display: none !important;\n}\nimt-forman.forman [field].loading {\n  position: relative;\n  cursor: progress;\n}\nimt-forman.forman [field].loading imt-switch,\nimt-forman.forman [field].loading imt-picker {\n  pointer-events: none;\n}\nimt-forman.forman [field].loading > .loader {\n  display: flex;\n}\nimt-forman.forman [field].loading[type=array] > .loader, imt-forman.forman [field].loading[type=collection] > .loader {\n  height: 100%;\n  top: 0;\n  background-color: transparent;\n}\nimt-forman.forman [field].loading[type=array][type=array-item] [field],\nimt-forman.forman [field].loading[type=array][type=array-item] imt-coder,\nimt-forman.forman [field].loading[type=array][type=array-item] imt-picker, imt-forman.forman [field].loading[type=collection][type=array-item] [field],\nimt-forman.forman [field].loading[type=collection][type=array-item] imt-coder,\nimt-forman.forman [field].loading[type=collection][type=array-item] imt-picker {\n  cursor: progress !important;\n}\nimt-forman.forman [field].loading [field] {\n  cursor: progress;\n  display: none;\n}\nimt-forman.forman [field] .input-group .create-connection {\n  display: flex;\n  align-items: center;\n  border: none !important;\n  border-left: 1px solid white !important;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  color: white;\n  opacity: 1;\n}\nimt-forman.forman [field] .input-group .create-connection.black-text {\n  color: black;\n}\nimt-forman.forman [field] .input-group .create-connection.black-text .circle-loader {\n  border-color: black;\n  border-bottom-color: transparent;\n}\nimt-forman.forman [field] .input-group .create-connection .circle-loader {\n  display: none;\n}\nimt-forman.forman [field] .input-group .create-connection.in-progress {\n  opacity: 0.8;\n}\nimt-forman.forman [field] .input-group .create-connection.in-progress .circle-loader {\n  display: block;\n}\nimt-forman.forman [field] .input-group .create-connection:focus {\n  box-shadow: none;\n}\nimt-forman.forman [field] .input-group .create-connection .circle-loader {\n  margin-right: 8px;\n}\nimt-forman.forman [field] .input-group .create-connection + imt-picker {\n  display: none;\n}\nimt-forman.forman [field] .input-group .create-connection ~ .input-group-append > .btn:not(.imt-btn-dropdown) {\n  display: none;\n}\nimt-forman.forman [field] .input-group .create-connection ~ .input-group-append > .btn.imt-btn-dropdown {\n  margin-left: 4px;\n  color: var(--gray);\n  border-radius: 4px;\n}\nimt-forman.forman [field] .input-group-append {\n  position: relative;\n}\nimt-forman.forman [field] .input-group-append > .btn:hover {\n  background-color: var(--gray);\n  color: var(--white) !important;\n}\nimt-forman.forman [field] .input-group-append > .btn:last-of-type {\n  border-top-right-radius: 4px !important;\n  border-bottom-right-radius: 4px !important;\n}\nimt-forman.forman [field] .input-group-append > .imt-btn-dropdown {\n  padding: 0.375rem 0.75rem;\n}\nimt-forman.forman [field] .input-group-append > .imt-btn-dropdown:focus {\n  box-shadow: none;\n}\nimt-forman.forman [field] .input-group-append > .imt-btn-dropdown-menu {\n  position: fixed;\n  display: none;\n  background-color: #fff;\n  border-radius: 4px;\n  z-index: 4;\n  padding: 0.5rem 0;\n  border: 1px solid #cecece;\n  box-shadow: 0 20px 60px 0 rgba(0, 0, 0, 0.2);\n}\nimt-forman.forman imt-nested {\n  position: relative;\n  display: block;\n  margin-bottom: 0;\n}\nimt-forman.forman imt-nested .form-group:last-child {\n  padding-bottom: 0;\n}\nimt-forman.forman imt-nested imt-fieldset:not([nested]) {\n  margin-top: 1rem;\n}\nimt-forman.forman imt-picker[disabled]:focus {\n  background-color: #eee;\n  outline: none;\n  border: 1px solid #ced4da;\n  box-shadow: none;\n}\nimt-forman.forman imt-option[disabled] {\n  cursor: not-allowed;\n}\nimt-forman.forman imt-option[disabled]:hover {\n  background-color: inherit;\n}\nimt-forman.forman imt-fieldset[hidden] {\n  display: block;\n}\nimt-forman.forman imt-fieldset[disabled] .input-actions {\n  display: none;\n}\nimt-forman.forman.template .template-hidden-item {\n  display: none;\n}\nimt-forman.forman .btn[disabled] {\n  cursor: not-allowed;\n}\nimt-forman.forman .circle-loader {\n  width: 16px;\n  height: 16px;\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n  display: inline-block;\n  box-sizing: border-box;\n  animation: rotation 1s linear infinite;\n}\n@keyframes rotation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\nimt-forman.forman .loader {\n  height: 38px;\n  width: 100%;\n  top: calc(0.5rem + 21px);\n  left: 0;\n  overflow: hidden;\n  border-radius: 0.25rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1rem;\n  display: none;\n}\nimt-forman.forman .loader > .loader-circle {\n  height: 10px;\n  width: 10px;\n  transform: scale(1);\n  background: var(--forman-loading-from-color);\n  top: 7px;\n  border-radius: 50%;\n  transform: scale(0.5);\n  margin-left: 6px;\n}\nimt-forman.forman .loader > .loader-circle:nth-child(1) {\n  animation: ball-anim 1s 0ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;\n}\nimt-forman.forman .loader > .loader-circle:nth-child(2) {\n  animation: ball-anim 1s 75ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;\n}\nimt-forman.forman .loader > .loader-circle:nth-child(3) {\n  animation: ball-anim 1s 150ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;\n}\nimt-forman.forman .loader > .loader-circle:nth-child(4) {\n  animation: ball-anim 1s 225ms cubic-bezier(0.445, 0.05, 0.55, 0.95) infinite;\n}\nimt-forman.forman[hideLabels] [field] > label {\n  display: none;\n}\nimt-forman.forman imt-fieldset,\nimt-forman.forman imt-alerts,\nimt-forman.forman imt-alert {\n  display: block;\n}\nimt-forman.forman imt-fieldset.alert,\nimt-forman.forman imt-alerts.alert,\nimt-forman.forman imt-alert.alert {\n  padding: 0.75rem;\n}\nimt-forman.forman imt-alert .close {\n  padding-top: 0.6rem !important;\n}\nimt-forman.forman imt-value,\nimt-forman.forman imt-input {\n  display: none !important;\n}\nimt-forman.forman .form-icon {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  display: inline-block;\n  font-size: 12px;\n  margin-right: 7px;\n  color: #ababab;\n  border-right: 1px solid #ababab;\n  transition: margin-left 0.2s, opacity 0.2s;\n  margin-left: -8px;\n  height: 0;\n  width: 0;\n}\nimt-forman.forman .form-icon:before {\n  display: none;\n}\nimt-forman.forman .form-group.focused > label .form-icon {\n  display: inline-block;\n  transition: margin-left 0.2s, opacity 0.2s;\n  opacity: 1;\n  margin-left: 0;\n  width: 20px;\n  height: 16px;\n}\nimt-forman.forman .form-group.focused > label .form-icon:before {\n  display: inline-block;\n}\nimt-forman.forman .form-icon-text:before {\n  content: \"\\f031\";\n}\nimt-forman.forman .form-icon-number:before {\n  content: \"\\f292\";\n}\nimt-forman.forman .form-icon-date:before {\n  content: \"\\f133\";\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 400;\n}\nimt-forman.forman .form-icon-boolean:before {\n  content: \"\\f205\";\n}\nimt-forman.forman .form-icon-email:before {\n  content: \"\\f1fa\";\n}\nimt-forman.forman .form-icon-select:before {\n  content: \"\\f150\";\n}\nimt-forman.forman .form-icon-select.type-country:before {\n  content: \"\\f024\";\n}\nimt-forman.forman .form-icon-select.type-language:before {\n  content: \"\\f024\";\n}\nimt-forman.forman .form-icon-select.type-localization:before {\n  content: \"\\f024\";\n}\nimt-forman.forman .form-icon-select.type-locale:before {\n  content: \"\\f024\";\n}\nimt-forman.forman .form-icon-select.type-timezone:before {\n  content: \"\\f0ac\";\n}\nimt-forman.forman .form-icon-select.type-imtregion:before {\n  content: \"\\f3c5\";\n}\nimt-forman.forman .form-icon-select.type-usersorganizationsrole:before {\n  content: \"\\f507\";\n}\nimt-forman.forman .form-icon-select.type-userapitokenscope:before {\n  content: \"\\f577\";\n}\nimt-forman.forman .form-icon-buffer:before {\n  content: \"\\f15b\";\n}\nimt-forman.forman .form-icon-array:before {\n  content: \"\\f03a\";\n}\nimt-forman.forman .form-icon-collection:before {\n  content: \"\\f1b2\";\n}\nimt-forman.forman .form-icon-password:before {\n  content: \"\\f084\";\n}\nimt-forman.forman .form-icon-upload:before {\n  content: \"\\f574\";\n}\nimt-forman.forman .form-icon-editor:before {\n  content: \"\\f031\";\n}\nimt-forman.forman .form-icon-checkbox:before {\n  content: \"\\f14a\";\n}\nimt-forman.forman .form-icon-url:before {\n  content: \"\\f0c1\";\n}\nimt-forman.forman .form-icon-folder:before {\n  content: \"\\f07c\";\n}\nimt-forman.forman .form-icon-file:before {\n  content: \"\\f15b\";\n}\nimt-forman.forman .form-icon-cert:before {\n  content: \"\\f5f3\";\n}\nimt-forman.forman .form-icon-pkey:before {\n  content: \"\\f5f3\";\n}\nimt-forman.forman .form-icon-json:before {\n  content: \"\\f7ea\";\n}\nimt-forman.forman .form-icon-color:before {\n  content: \"\\f1fb\";\n}\nimt-forman.forman .form-icon-port:before {\n  content: \"\\f601\";\n}\nimt-forman.forman .form-icon-filename:before {\n  content: \"\\f15b\";\n}\nimt-forman.forman .form-icon-filter:before {\n  content: \"\\f0b0\";\n}\nimt-forman.forman .form-icon-timestamp:before {\n  content: \"\\f017\";\n}\nimt-forman.forman .form-icon-time:before {\n  content: \"\\f017\";\n}\nimt-forman.forman .form-icon-radio:before {\n  content: \"\\f03a\";\n}\nimt-forman.forman .form-icon-udttype:before {\n  content: \"\\f0e8\";\n}\nimt-forman.forman .form-icon-account:before {\n  content: \"\\f2bd\";\n}\nimt-forman.forman .form-icon-hook:before {\n  content: \"\\f0c1\";\n}\nimt-forman.forman .form-icon-device:before {\n  content: \"\\f10b\";\n}\nimt-forman.forman .form-icon-integer:before {\n  content: \"\\f292\";\n}\nimt-forman.forman .form-icon-uinteger:before {\n  content: \"\\f292\";\n}\nimt-forman.forman .form-icon-agent:before {\n  content: \"\\f07e\";\n}\nimt-forman.forman .form-icon-keychain:before {\n  content: \"\\f084\";\n}\nimt-forman.forman .form-icon-udtspec:before {\n  content: \"\\f1c0\";\n}\nimt-forman.forman .form-icon-udt:before {\n  content: \"\\f1c0\";\n}\nimt-forman.forman .form-icon-tokens:before {\n  content: \"\\f084\";\n}\nimt-forman.forman .form-icon-datastore:before {\n  content: \"\\f1c0\";\n}\nimt-forman.forman .form-icon-any:before {\n  content: \"\\f039\";\n}\nimt-forman.forman imt-input-text textarea {\n  max-height: 443px;\n}\nimt-forman.forman imt-input-text textarea::selection {\n  background: #b4d5fe;\n}\nimt-forman.forman imt-input-cert textarea,\nimt-forman.forman imt-input-pkey textarea {\n  min-height: 70px;\n}\nimt-forman.forman imt-input-account :not(imt-nested) imt-picker > imt-picker-dropdown,\nimt-forman.forman imt-input-hook :not(imt-nested) imt-picker > imt-picker-dropdown,\nimt-forman.forman imt-input-device :not(imt-nested) imt-picker > imt-picker-dropdown,\nimt-forman.forman imt-input-keychain :not(imt-nested) imt-picker > imt-picker-dropdown {\n  margin-top: -1px;\n}\nimt-forman.forman imt-input-account :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,\nimt-forman.forman imt-input-hook :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,\nimt-forman.forman imt-input-device :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child,\nimt-forman.forman imt-input-keychain :not(imt-nested) imt-picker > imt-picker-dropdown imt-option:last-child {\n  border-bottom-right-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\nimt-forman.forman imt-input-hook .input-tools button {\n  font-size: 12px;\n}\nimt-forman.forman imt-input-hook .hook-info .hook-url-wrapper {\n  position: relative;\n  overflow-x: auto;\n  font-size: 12px;\n  padding-left: 38px;\n  line-height: 35px;\n  color: #006baa;\n  text-align: left;\n}\nimt-forman.forman imt-input-hook .hook-info .hook-url-wrapper::before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 400;\n  display: block;\n  content: \"\\f0ac\";\n  color: #006baa;\n  font-weight: 400;\n  font-size: 16px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 38px;\n  height: 20px;\n  text-align: center;\n  pointer-events: none;\n}\nimt-forman.forman imt-input-hook .hook-attach p {\n  font-size: 12px;\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n}\nimt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] > imt-picker,\nimt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] .form-control,\nimt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] imt-fieldset,\nimt-forman.forman .forman-dragging-array[type=array] [type=array-item] .form-group.collapsed[invalid] .form-validations {\n  display: none;\n}\nimt-forman.forman imt-input-array-button,\nimt-forman.forman imt-input-udtspec-generate-button {\n  position: relative;\n  border-left: 1px solid transparent;\n  padding-left: 11px;\n}\nimt-forman.forman imt-input-array-button:before,\nimt-forman.forman imt-input-udtspec-generate-button:before {\n  content: \"\";\n  position: absolute;\n  display: block;\n  width: 10px;\n  height: 12px;\n  border-bottom: 1px dotted #ababab;\n  border-left: 1px dotted #ababab;\n  left: -1px;\n  top: -1px;\n}\nimt-forman.forman imt-input-array-button button,\nimt-forman.forman imt-input-udtspec-generate-button button {\n  padding: 0.1rem 0.5rem 0.1rem 0.25rem !important;\n  font-size: 0.75rem !important;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.2s, color 0.2s;\n  border-radius: 3px;\n}\nimt-forman.forman imt-input-array-button button:before,\nimt-forman.forman imt-input-udtspec-generate-button button:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f067\";\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  font-size: 10px;\n  border-radius: 3px;\n  background-color: #2f8cbb;\n  color: #ffffff;\n  margin-right: 0.5rem;\n}\nimt-forman.forman imt-input-array-button button:focus,\nimt-forman.forman imt-input-udtspec-generate-button button:focus {\n  color: #2f8cbb;\n  outline: 0;\n}\nimt-forman.forman imt-input-array-button button:hover,\nimt-forman.forman imt-input-udtspec-generate-button button:hover {\n  background-color: #2f8cbb;\n  color: #ffffff;\n}\nimt-forman.forman imt-input-array-button button.array-rpc-button::before,\nimt-forman.forman imt-input-udtspec-generate-button button.array-rpc-button::before {\n  content: \"\\f002\";\n}\nimt-forman.forman imt-input-udtspec-generate-button:before {\n  display: none;\n}\nimt-forman.forman imt-input-udtspec-generate-button button:before {\n  content: \"\\f0ad\";\n}\nimt-forman.forman [type=array][mode=map] > .list, imt-forman.forman [type=array][mode=map] > imt-input-array-button {\n  display: none;\n}\nimt-forman.forman [type=array].collapsed:not([invalid]) .list,\nimt-forman.forman [type=array].collapsed:not([invalid]) imt-input-array-button,\nimt-forman.forman [type=array].collapsed:not([invalid]) imt-input-udtspec-generate-button {\n  display: none;\n}\nimt-forman.forman [type=array][disabled] imt-input-array-button button,\nimt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button, imt-forman.forman [type=array][readonly] imt-input-array-button button,\nimt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button {\n  color: #cecece;\n  cursor: not-allowed;\n}\nimt-forman.forman [type=array][disabled] imt-input-array-button button:before,\nimt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button:before, imt-forman.forman [type=array][readonly] imt-input-array-button button:before,\nimt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button:before {\n  background-color: #cecece;\n}\nimt-forman.forman [type=array][disabled] imt-input-array-button button:hover,\nimt-forman.forman [type=array][disabled] imt-input-udtspec-generate-button button:hover, imt-forman.forman [type=array][readonly] imt-input-array-button button:hover,\nimt-forman.forman [type=array][readonly] imt-input-udtspec-generate-button button:hover {\n  background-color: transparent;\n  color: #cecece;\n}\nimt-forman.forman imt-input-boolean[mode=map] .wrapper,\nimt-forman.forman imt-input-checkbox[mode=map] .wrapper {\n  display: none;\n}\nimt-forman.forman imt-input-boolean.collapsed:not([invalid]) > .wrapper,\nimt-forman.forman imt-input-checkbox.collapsed:not([invalid]) > .wrapper {\n  display: none;\n}\nimt-forman.forman imt-input-boolean .custom-control-label::before,\nimt-forman.forman imt-input-checkbox .custom-control-label::before {\n  background-color: #ffffff;\n  border: 1px solid #cecece;\n}\nimt-forman.forman imt-input-boolean .custom-control-input:checked ~ .custom-control-label::before,\nimt-forman.forman imt-input-checkbox .custom-control-input:checked ~ .custom-control-label::before {\n  border: none;\n}\nimt-forman.forman imt-input-folder .wrapper,\nimt-forman.forman imt-input-file .wrapper {\n  display: flex;\n  align-items: center;\n  height: inherit;\n  flex-wrap: wrap;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker,\nimt-forman.forman imt-input-file .wrapper imt-picker {\n  display: flex;\n  align-items: center;\n  transition: background-color 0.2s;\n  cursor: pointer;\n  border-radius: 3px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker::before,\nimt-forman.forman imt-input-file .wrapper imt-picker::before {\n  position: relative;\n  content: \"/\";\n  padding-right: 8px;\n  padding-left: 8px;\n  top: initial;\n  right: initial;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:hover,\nimt-forman.forman imt-input-file .wrapper imt-picker:hover {\n  background-color: #eee;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:active,\nimt-forman.forman imt-input-file .wrapper imt-picker:active {\n  color: white;\n  background-color: #eee;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker > .reload.btn,\nimt-forman.forman imt-input-file .wrapper imt-picker > .reload.btn {\n  position: relative;\n  top: initial;\n  right: initial;\n  padding: 0;\n  margin-left: 8px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker .display,\nimt-forman.forman imt-input-folder .wrapper imt-picker .messages,\nimt-forman.forman imt-input-file .wrapper imt-picker .display,\nimt-forman.forman imt-input-file .wrapper imt-picker .messages {\n  width: 100%;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.loading,\nimt-forman.forman imt-input-file .wrapper imt-picker.loading {\n  padding: 0;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.loading > .reload.btn,\nimt-forman.forman imt-input-file .wrapper imt-picker.loading > .reload.btn {\n  display: block;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.loading .display,\nimt-forman.forman imt-input-file .wrapper imt-picker.loading .display {\n  display: none;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add > .reload.btn,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add > .reload.btn {\n  margin: 0;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add .display,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add .display {\n  color: #ffffff !important;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add:before,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add:before {\n  color: #ababab;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add:not([error]):after,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add:not([error]):after {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f055\";\n  font-size: 14px;\n  line-height: 1.5;\n  color: #2f8cbb;\n  padding-top: 3px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add.expanded:after, imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-add.loading:after,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add.expanded:after,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-add.loading:after {\n  content: \"\";\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:first-child:before,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child:before {\n  margin-left: -8px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:before, imt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:after,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:before,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:after {\n  display: none;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display {\n  border-radius: 3px;\n  font-size: 12px;\n  line-height: 1.5;\n  padding: 2px 5px;\n  background-color: #2f8cbb;\n  margin: 0;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:hover,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:hover {\n  background-color: #2a7da7;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:active,\nimt-forman.forman imt-input-file .wrapper imt-picker:first-child.imt-input-folder-add:not([error]) .display:active {\n  color: #2f8cbb;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root:before, imt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root + imt-picker:before,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root:before,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root + imt-picker:before {\n  display: none;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker.imt-input-folder-root + imt-picker,\nimt-forman.forman imt-input-file .wrapper imt-picker.imt-input-folder-root + imt-picker {\n  margin-left: 8px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker imt-option:before,\nimt-forman.forman imt-input-file .wrapper imt-picker imt-option:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  font-size: 14px;\n  line-height: 1.5;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker imt-option[data-type=folder]:before,\nimt-forman.forman imt-input-file .wrapper imt-picker imt-option[data-type=folder]:before {\n  content: \"\\f07c\";\n  padding-right: 7px;\n}\nimt-forman.forman imt-input-folder .wrapper imt-picker imt-option[data-type=file]:before,\nimt-forman.forman imt-input-file .wrapper imt-picker imt-option[data-type=file]:before {\n  content: \"\\f15b\";\n  padding-right: 12px;\n}\nimt-forman.forman imt-input-folder[mode=map] .wrapper,\nimt-forman.forman imt-input-file[mode=map] .wrapper {\n  display: none;\n}\nimt-forman.forman:not([mappable]) imt-input-boolean[required] label {\n  font-weight: normal !important;\n}\nimt-forman.forman imt-input-collection[mode=map] > imt-fieldset {\n  display: none;\n}\nimt-forman.forman imt-input-collection.collapsed:not([invalid]) > imt-fieldset {\n  display: none;\n}\nimt-forman.forman imt-input-collection[invisible] > label {\n  display: none;\n}\nimt-forman.forman imt-input-collection > label.new-item {\n  font-style: italic;\n}\nimt-forman.forman imt-input-collection > label.new-item .form-icon {\n  font-style: normal;\n}\nimt-forman.forman imt-input-collection[shadow] > .form-expander, imt-forman.forman imt-input-collection[shadow] > label {\n  display: none;\n}\nimt-forman.forman imt-input-hidden {\n  display: none !important;\n}\nimt-forman.forman imt-input-grecaptcha[data-version=\"3\"] {\n  display: none !important;\n}\nimt-forman.forman imt-input-grecaptcha[data-version=\"2\"] label {\n  display: none !important;\n}\nimt-forman.forman imt-input-separator {\n  display: block;\n  color: #ababab;\n  border-bottom: 1px solid #ababab;\n  text-transform: uppercase;\n  font-size: 11px;\n  margin-bottom: 1rem;\n}\nimt-forman.forman imt-input-separator::before {\n  content: attr(title);\n}\nimt-forman.forman[mappable] imt-input-separator {\n  margin-left: -24px;\n}\nimt-forman.forman imt-input-filter div.group {\n  position: relative;\n  border-left: 5px solid #006baa;\n  padding-left: 15px;\n}\nimt-forman.forman imt-input-filter div.group:not(:first-child) {\n  margin-top: 50px;\n}\nimt-forman.forman imt-input-filter div.group:not(:first-child):before {\n  display: block;\n  content: \"\";\n  background-color: #006baa;\n  position: absolute;\n  top: -25px;\n  height: 1px;\n  width: 100%;\n  left: -5px;\n}\nimt-forman.forman imt-input-filter div.group:not(:first-child):after {\n  display: block;\n  content: \"or\";\n  text-align: center;\n  color: #006baa;\n  background-color: #f8f8f8;\n  font-weight: bold;\n  position: absolute;\n  top: -40px;\n  left: 50%;\n  width: 40px;\n  margin-left: -20px;\n  line-height: 30px;\n}\nimt-forman.forman imt-input-filter div.group div.group-items:empty ~ button.add-group {\n  display: none;\n}\nimt-forman.forman imt-input-filter div.group div.item {\n  position: relative;\n  margin-right: 25px;\n  margin-bottom: 15px;\n}\nimt-forman.forman imt-input-filter div.group div.item:not(:first-child) {\n  margin-top: 50px;\n}\nimt-forman.forman imt-input-filter div.group div.item:not(:first-child):before {\n  display: block;\n  content: \"and\";\n  text-align: center;\n  color: #006baa;\n  font-weight: bold;\n  position: absolute;\n  top: -40px;\n  left: 50%;\n  width: 40px;\n  margin-left: -20px;\n  line-height: 30px;\n}\nimt-forman.forman imt-input-filter div.group div.item imt-picker.operator:not(.expanded) {\n  background-color: transparent;\n  border: none;\n}\nimt-forman.forman imt-input-filter div.group div.item .close {\n  position: absolute;\n  top: 5px;\n  right: -25px;\n}\nimt-forman.forman imt-input-filter[logic=reverse] div.group div.item:not(:first-child):before {\n  content: \"or\";\n}\nimt-forman.forman imt-input-filter[logic=reverse] div.group:not(:first-child):after {\n  content: \"and\";\n}\nimt-forman.forman imt-input-radio div.form-check {\n  margin-bottom: 10px;\n}\nimt-forman.forman imt-input-radio[disabled] .form-check-input, imt-forman.forman imt-input-radio[disabled] .form-check-input ~ label {\n  cursor: not-allowed;\n}\nimt-forman.forman imt-input-radio[mode=map] .wrapper {\n  display: none;\n}\nimt-forman.forman imt-input-password .password-button-container {\n  position: relative;\n}\nimt-forman.forman imt-input-password .password-button-container .form-control {\n  padding-right: 42px;\n}\nimt-forman.forman imt-input-password .password-button-container .show-password {\n  position: absolute;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n  padding-right: 0.75rem;\n  padding-left: 0.75rem;\n  border-radius: 4px;\n  top: 2px;\n  width: 42px;\n  height: calc(100% - 4px);\n  right: 1px;\n}\nimt-forman.forman imt-input-password .password-button-container .show-password:focus {\n  box-shadow: none;\n}\nimt-forman.forman imt-picker[disabled],\nimt-forman.forman imt-picker[disabled].form-control,\nimt-forman.forman imt-input-folder[disabled] .form-control,\nimt-forman.forman imt-input-file[disabled] .form-control,\nimt-forman.forman imt-input-password[disabled] .form-control,\nimt-forman.forman imt-coder[disabled].form-control {\n  background-color: #eee;\n  cursor: not-allowed;\n}\nimt-forman.forman imt-input-upload[disabled] .form-control {\n  background-color: #eee;\n  cursor: not-allowed !important;\n}\nimt-forman.forman imt-input-editor[disabled] .CodeMirror-line, imt-forman.forman imt-input-editor[disabled] .CodeMirror-lines, imt-forman.forman imt-input-editor[disabled] textarea,\nimt-forman.forman imt-input-json[disabled] .CodeMirror-line,\nimt-forman.forman imt-input-json[disabled] .CodeMirror-lines,\nimt-forman.forman imt-input-json[disabled] textarea {\n  background-color: #eee;\n  cursor: not-allowed;\n}\nimt-forman.forman imt-input-checkbox[disabled] .custom-control, imt-forman.forman imt-input-checkbox[disabled] .custom-control-input, imt-forman.forman imt-input-checkbox[disabled] .custom-control-input ~ label {\n  cursor: not-allowed;\n}\nimt-forman.forman imt-input-folder[disabled] .form-control imt-picker:only-child.imt-input-folder-add:hover,\nimt-forman.forman imt-input-file[disabled] .form-control imt-picker:only-child.imt-input-folder-add:hover {\n  background-color: #2f8cbb;\n}\nimt-forman.forman imt-input-folder[disabled] .form-control imt-picker:focus,\nimt-forman.forman imt-input-file[disabled] .form-control imt-picker:focus {\n  border: none;\n}\nimt-forman.forman imt-input-folder[disabled] .form-control imt-picker:active,\nimt-forman.forman imt-input-file[disabled] .form-control imt-picker:active {\n  color: inherit;\n  background-color: inherit;\n}\nimt-forman.forman imt-semantic-group {\n  position: relative;\n  display: block;\n}\nimt-forman.forman imt-semantic-group.collapsed:not([invalid]):not([error]) > .wrapper, imt-forman.forman imt-semantic-group.collapsed:not([invalid]):not([error]) > .control {\n  display: none;\n}\nimt-forman.forman imt-semantic-group > .wrapper {\n  margin-left: 24px;\n}\nimt-forman.forman imt-semantic-group > .control:not(:empty) {\n  padding-bottom: 10px;\n}\nimt-forman.forman imt-semantic-group > .control > .custom-control {\n  cursor: pointer;\n}\nimt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-label > .badge {\n  font-weight: normal;\n  font-size: 14px;\n}\nimt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-input,\nimt-forman.forman imt-semantic-group > .control > .custom-control .custom-control-label {\n  cursor: pointer;\n}\nimt-forman.forman imt-semantic-group[mode=pick] div.wrapper {\n  display: none;\n}\nimt-forman.forman imt-input-udtspec-item[type=array-item] {\n  min-width: 275px;\n  padding-left: 41px;\n}\nimt-forman.forman imt-input-udtspec-item[type=array-item] .form-expander {\n  display: none;\n}\nimt-forman.forman imt-input-udtspec-item[type=array-item] > imt-input-collection.form-group > .form-expander {\n  display: block;\n}\nimt-forman.forman imt-input-udttype.has-unknown-type > :not(imt-nested) {\n  display: none;\n}\nimt-forman.forman imt-input-udttype imt-nested imt-input-collection[name=spec] {\n  margin-left: 17px;\n}\nimt-forman.forman imt-input-udttype imt-nested imt-input-collection[name=spec] > label {\n  margin-left: -17px;\n}\nimt-forman.forman imt-input-select .select-all {\n  position: relative;\n  padding: 0 0 8px 2.2rem;\n  font-size: 1rem;\n}\nimt-forman.forman imt-input-select .select-all:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 300;\n  content: \"\\f0c8\";\n  position: absolute;\n  top: 4px;\n  left: 0.75rem;\n  background-color: #fff;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  color: #006baa;\n  line-height: 1rem;\n  cursor: pointer;\n}\nimt-forman.forman imt-input-select .select-all[selected]:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f14a\";\n}\nimt-forman.forman imt-input-select.collapsed > .select-all {\n  display: none;\n}\nimt-forman.forman imt-input-select[mode=map] > .select-all {\n  display: none;\n}\nimt-forman.forman imt-input-text:not(.form-group),\nimt-forman.forman imt-input-number:not(.form-group),\nimt-forman.forman imt-input-url:not(.form-group),\nimt-forman.forman imt-input-select:not(.form-group) {\n  display: block;\n  margin-bottom: 1rem;\n}\nimt-forman.forman imt-input-text:not(.form-group):before,\nimt-forman.forman imt-input-number:not(.form-group):before,\nimt-forman.forman imt-input-url:not(.form-group):before,\nimt-forman.forman imt-input-select:not(.form-group):before {\n  content: attr(label);\n  display: block;\n}\nimt-forman.forman imt-input-text:not(.form-group):after,\nimt-forman.forman imt-input-number:not(.form-group):after,\nimt-forman.forman imt-input-url:not(.form-group):after,\nimt-forman.forman imt-input-select:not(.form-group):after {\n  content: \"\";\n  display: block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  background-color: #fff;\n  border: 1px solid #cecece;\n  border-radius: 0.25rem;\n  margin-top: 0.5rem;\n}\nimt-forman.forman .CodeMirror {\n  border: 1px solid #cecece;\n  border-radius: 0.25rem;\n}\nimt-forman.forman .fr-box.fr-basic .fr-toolbar.fr-top {\n  border-color: #cecece;\n  border-top-left-radius: 0.25rem !important;\n  border-top-right-radius: 0.25rem !important;\n}\nimt-forman.forman .fr-box.fr-basic .fr-wrapper {\n  border-left-color: #cecece !important;\n  border-right-color: #cecece !important;\n}\nimt-forman.forman .fr-box.fr-basic .second-toolbar {\n  border-color: #cecece !important;\n  border-bottom-left-radius: 0.25rem !important;\n  border-bottom-right-radius: 0.25rem !important;\n}\nimt-forman.forman .fr-box.fr-basic #logo {\n  visibility: hidden;\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .fa {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 400;\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .fa-calendar-check-o:before {\n  content: \"\\f274\";\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .fa-clock-o:before {\n  content: \"\\f017\";\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .table td {\n  border: 1px solid #f8f8f8;\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .table td.new, imt-forman.forman .bootstrap-datetimepicker-widget .table td.old {\n  color: #aaa;\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .table thead th {\n  border-radius: 0 !important;\n  background-color: transparent !important;\n  border: none;\n}\nimt-forman.forman .bootstrap-datetimepicker-widget .table tbody td:not(.active):not(:hover) {\n  background-color: white;\n}\n@keyframes ball-anim {\n  0% {\n    transform: scale(0.5);\n    background: var(--forman-loading-from-color);\n  }\n  50% {\n    transform: scale(1);\n    background: var(--forman-loading-to-color);\n  }\n  100% {\n    transform: scale(0.5);\n    background: var(--forman-loading-from-color);\n  }\n}\nimt-forman.forman imt-input-array > .i-templater-block {\n  display: none;\n}\n\n.forman-array-dragging-preview {\n  position: fixed !important;\n  background: #f8f8f8;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  border: none !important;\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n  z-index: 999999;\n  border-radius: 4px;\n  padding-top: 2px;\n}\n.forman-array-dragging-preview::before {\n  display: none !important;\n}\n\n.forman-dragging * {\n  cursor: grabbing !important;\n}\n\n.formula.is-templater #pills-integromat imt-pill.custom-variable:not([custom-iml_system=true]),\n.formula.is-templater .search-iml-matches imt-pill.custom-variable:not([custom-iml_system=true]) {\n  display: none;\n}\n\ndiv.grecaptcha-badge {\n  display: none !important;\n}\n\nimt-input-sort.form-group.pristine .form-sort-drag-drop,\nimt-input-sort.form-group.pristine .form-arrow-up,\nimt-input-sort.form-group.pristine .form-arrow-down {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  font-size: 13px;\n  text-align: center;\n  color: #868686;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.2s, color 0.2s;\n  border-radius: 3px;\n}\nimt-input-sort.form-group.pristine .form-arrow-up {\n  cursor: pointer;\n  margin-right: 6px;\n}\nimt-input-sort.form-group.pristine .form-arrow-up:focus {\n  color: #006baa;\n  outline: 0;\n}\nimt-input-sort.form-group.pristine .form-arrow-up:hover {\n  background-color: #006baa;\n  color: #ffffff;\n}\nimt-input-sort.form-group.pristine .form-arrow-up:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f077\";\n}\nimt-input-sort.form-group.pristine .form-arrow-up:active {\n  cursor: grabbing;\n}\nimt-input-sort.form-group.pristine .form-arrow-down {\n  cursor: pointer;\n  margin-right: 6px;\n}\nimt-input-sort.form-group.pristine .form-arrow-down:focus {\n  color: #006baa;\n  outline: 0;\n}\nimt-input-sort.form-group.pristine .form-arrow-down:hover {\n  background-color: #006baa;\n  color: #ffffff;\n}\nimt-input-sort.form-group.pristine .form-arrow-down:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  content: \"\\f078\";\n}\nimt-input-sort.form-group.pristine .form-arrow-down:active {\n  cursor: grabbing;\n}\nimt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop {\n  cursor: move;\n  cursor: grab;\n  margin-right: 6px;\n}\nimt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:focus {\n  color: #006baa;\n  outline: 0;\n}\nimt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:hover {\n  background-color: #006baa;\n  color: #ffffff;\n}\nimt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:before {\n  font-family: \"Font Awesome 6 Pro\";\n  font-weight: 900;\n  font-size: 18px;\n  content: \"\\e411\";\n}\nimt-input-sort.form-group.pristine label-preview-sort .form-drag-drop.form-sort-drag-drop:active {\n  cursor: grabbing;\n}\nimt-input-sort.form-group.pristine .form-arrow-hidden {\n  visibility: hidden;\n}\nimt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item] {\n  padding-left: 15px;\n  padding-bottom: 10px;\n}\nimt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:before {\n  height: 20px;\n}\nimt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:first-of-type {\n  padding-top: 0.5rem;\n}\nimt-input-sort.form-group.pristine .list imt-input-sort-item.sort-item[type=array-item]:first-of-type:before {\n  height: 28px;\n}\nimt-input-sort.form-group.pristine .sort {\n  display: flex;\n  flex-direction: row-reverse;\n  max-width: calc(100% - 78px);\n}\nimt-input-sort.form-group.pristine .sort-img {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nimt-input-sort.form-group.pristine .sort-text {\n  display: flex;\n  justify-content: center;\n  align-items: left;\n  flex-direction: column;\n  max-width: calc(100% - 56px);\n}\nimt-input-sort.form-group.pristine .sort-img {\n  height: 41px;\n  width: 41px;\n  background-color: #846cc2;\n  border-radius: 10%;\n  margin-right: 15px;\n}\nimt-input-sort.form-group.pristine .sort-img img {\n  width: 100%;\n  height: 100%;\n  padding: 8px;\n}\nimt-input-sort.form-group.pristine .sort-label {\n  justify-content: space-between;\n}\nimt-input-sort.form-group.pristine .sort-label .label-text-content-sort-item {\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow-x: hidden;\n  white-space: nowrap;\n}\nimt-input-sort.form-group.pristine .input-actions-sort {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n}\nimt-input-sort.form-group.pristine .input-actions-sort-hidden {\n  visibility: hidden;\n}\nimt-input-sort.form-group.pristine .label-preview-sort.label-preview {\n  display: block;\n  height: auto;\n  margin-left: 5px;\n  overflow: auto;\n}\nimt-input-sort.form-group.pristine .label-id.label-preview-sort.label-preview {\n  border: 1px solid rgb(190, 190, 190);\n  padding: 2px 6px;\n  margin-left: 0px;\n  color: rgb(190, 190, 190);\n}\nimt-input-sort.form-group.pristine .sort-label-id {\n  display: flex;\n  flex-direction: row;\n  justify-content: left;\n  align-items: center;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/account.scss":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/account.scss ***!
  \*********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-picker .scenario-input {
  border: 1px solid #01bfd1;
  padding: 0 4px;
  border-radius: 4px;
  background-color: #01bfd1;
  color: white;
  width: fit-content;
  max-width: 198px;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: calc(1rem - 1px);
}

imt-picker .scenario-input.no-value {
  color: #eb5768;
  border-color: #eb5768;
  background-color: white;
}

imt-picker imt-option .scenario-input {
  margin-left: -4px;
  display: inline;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-right: 4px;
}

imt-picker imt-option:has(.scenario-input.no-value) {
  color: gray;
}`, "",{"version":3,"sources":["webpack://./lib/inputs/account.scss"],"names":[],"mappings":"AAAA;EACE,yBAAA;EACA,cAAA;EACA,kBAAA;EACA,yBAAA;EACA,YAAA;EACA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,uBAAA;EACA,2BAAA;AACF;;AACA;EACE,cAAA;EACA,qBAAA;EACA,uBAAA;AAEF;;AAAA;EACE,iBAAA;EACA,eAAA;EACA,gBAAA;EACA,uBAAA;EACA,iBAAA;AAGF;;AADA;EACE,WAAA;AAIF","sourcesContent":["imt-picker .scenario-input {\n  border: 1px solid #01bfd1;\n  padding: 0 4px;\n  border-radius: 4px;\n  background-color: #01bfd1;\n  color: white;\n  width: fit-content;\n  max-width: 198px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: calc(1rem - 1px);\n}\nimt-picker .scenario-input.no-value {\n  color: #eb5768;\n  border-color: #eb5768;\n  background-color: white;\n}\nimt-picker imt-option .scenario-input {\n  margin-left: -4px;\n  display: inline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 4px;\n}\nimt-picker imt-option:has(.scenario-input.no-value) {\n  color: gray;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/range.scss":
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/range.scss ***!
  \*******************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `imt-forman.forman .form-group[mode=map] > .form-group {
  display: none;
}

imt-forman.forman .form-group.collapsed:not([invalid]) > .form-group {
  display: none;
}

imt-forman.forman imt-input-range .form-group {
  margin-bottom: 26px !important;
}

imt-forman.forman imt-input-range .form-group {
  position: relative;
}

imt-forman.forman imt-input-range .range-output {
  position: absolute;
}

imt-forman.forman imt-input-range .range-output span {
  line-height: 24px;
  text-align: center;
  display: block;
  position: absolute;
  left: 50%;
  transform: translate(-50%, 0);
}

imt-forman.forman imt-input-range .range-label {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

imt-forman.forman imt-input-range .range-label p {
  margin-bottom: 0px;
  padding: 0 1px;
}

imt-forman.forman imt-input-range [type=range] {
  flex: 1;
  margin: 0;
  padding: 0;
  min-height: 1.15em;
  background: transparent;
  font: inherit;
}

imt-forman.forman imt-input-range [type=range], imt-forman.forman imt-input-range [type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
}

imt-forman.forman imt-input-range [type=range]::-webkit-slider-runnable-track {
  box-sizing: border-box;
  border: none;
  width: 100%;
  height: 0.25em;
  background: #846cc2;
  border-radius: 10px;
}

imt-forman.forman imt-input-range [type=range]::-moz-range-track {
  box-sizing: border-box;
  border: none;
  width: 100%;
  height: 0.25em;
  background: #846cc2;
  border-radius: 10px;
}

imt-forman.forman imt-input-range [type=range]::-ms-track {
  box-sizing: border-box;
  border: none;
  width: 100%;
  height: 0.25em;
  background: #846cc2;
  border-radius: 10px;
}

imt-forman.forman imt-input-range [type=range]::-webkit-slider-thumb {
  margin-top: -0.45em;
  box-sizing: border-box;
  border: 2px solid #f8f8f8;
  width: 1.15em;
  height: 1.15em;
  border-radius: 50%;
  background: #846cc2;
}

imt-forman.forman imt-input-range [type=range]::-moz-range-thumb {
  box-sizing: border-box;
  border: 2px solid #f8f8f8;
  width: 1.15em;
  height: 1.15em;
  border-radius: 50%;
  background: #846cc2;
}

imt-forman.forman imt-input-range [type=range]::-ms-thumb {
  margin-top: 0;
  box-sizing: border-box;
  border: 2px solid #f8f8f8;
  width: 1.15em;
  height: 1.15em;
  border-radius: 50%;
  background: #846cc2;
}

imt-forman.forman imt-input-range [type=range]::-ms-tooltip {
  display: none;
}`, "",{"version":3,"sources":["webpack://./lib/inputs/range.scss"],"names":[],"mappings":"AAAA;EACE,aAAA;AACF;;AACA;EACE,aAAA;AAEF;;AAAA;EACE,8BAAA;AAGF;;AADA;EACE,kBAAA;AAIF;;AAFA;EACE,kBAAA;AAKF;;AAHA;EACE,iBAAA;EACA,kBAAA;EACA,cAAA;EACA,kBAAA;EACA,SAAA;EACA,6BAAA;AAMF;;AAJA;EACE,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,mBAAA;AAOF;;AALA;EACE,kBAAA;EACA,cAAA;AAQF;;AANA;EACE,OAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,uBAAA;EACA,aAAA;AASF;;AAPA;EACE,wBAAA;AAUF;;AARA;EACE,sBAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;EACA,mBAAA;EACA,mBAAA;AAWF;;AATA;EACE,sBAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;EACA,mBAAA;EACA,mBAAA;AAYF;;AAVA;EACE,sBAAA;EACA,YAAA;EACA,WAAA;EACA,cAAA;EACA,mBAAA;EACA,mBAAA;AAaF;;AAXA;EACE,mBAAA;EACA,sBAAA;EACA,yBAAA;EACA,aAAA;EACA,cAAA;EACA,kBAAA;EACA,mBAAA;AAcF;;AAZA;EACE,sBAAA;EACA,yBAAA;EACA,aAAA;EACA,cAAA;EACA,kBAAA;EACA,mBAAA;AAeF;;AAbA;EACE,aAAA;EACA,sBAAA;EACA,yBAAA;EACA,aAAA;EACA,cAAA;EACA,kBAAA;EACA,mBAAA;AAgBF;;AAdA;EACE,aAAA;AAiBF","sourcesContent":["imt-forman.forman .form-group[mode=map] > .form-group {\n  display: none;\n}\nimt-forman.forman .form-group.collapsed:not([invalid]) > .form-group {\n  display: none;\n}\nimt-forman.forman imt-input-range .form-group {\n  margin-bottom: 26px !important;\n}\nimt-forman.forman imt-input-range .form-group {\n  position: relative;\n}\nimt-forman.forman imt-input-range .range-output {\n  position: absolute;\n}\nimt-forman.forman imt-input-range .range-output span {\n  line-height: 24px;\n  text-align: center;\n  display: block;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\nimt-forman.forman imt-input-range .range-label {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\nimt-forman.forman imt-input-range .range-label p {\n  margin-bottom: 0px;\n  padding: 0 1px;\n}\nimt-forman.forman imt-input-range [type=range] {\n  flex: 1;\n  margin: 0;\n  padding: 0;\n  min-height: 1.15em;\n  background: transparent;\n  font: inherit;\n}\nimt-forman.forman imt-input-range [type=range], imt-forman.forman imt-input-range [type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n}\nimt-forman.forman imt-input-range [type=range]::-webkit-slider-runnable-track {\n  box-sizing: border-box;\n  border: none;\n  width: 100%;\n  height: 0.25em;\n  background: #846cc2;\n  border-radius: 10px;\n}\nimt-forman.forman imt-input-range [type=range]::-moz-range-track {\n  box-sizing: border-box;\n  border: none;\n  width: 100%;\n  height: 0.25em;\n  background: #846cc2;\n  border-radius: 10px;\n}\nimt-forman.forman imt-input-range [type=range]::-ms-track {\n  box-sizing: border-box;\n  border: none;\n  width: 100%;\n  height: 0.25em;\n  background: #846cc2;\n  border-radius: 10px;\n}\nimt-forman.forman imt-input-range [type=range]::-webkit-slider-thumb {\n  margin-top: -0.45em;\n  box-sizing: border-box;\n  border: 2px solid #f8f8f8;\n  width: 1.15em;\n  height: 1.15em;\n  border-radius: 50%;\n  background: #846cc2;\n}\nimt-forman.forman imt-input-range [type=range]::-moz-range-thumb {\n  box-sizing: border-box;\n  border: 2px solid #f8f8f8;\n  width: 1.15em;\n  height: 1.15em;\n  border-radius: 50%;\n  background: #846cc2;\n}\nimt-forman.forman imt-input-range [type=range]::-ms-thumb {\n  margin-top: 0;\n  box-sizing: border-box;\n  border: 2px solid #f8f8f8;\n  width: 1.15em;\n  height: 1.15em;\n  border-radius: 50%;\n  background: #846cc2;\n}\nimt-forman.forman imt-input-range [type=range]::-ms-tooltip {\n  display: none;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/scenario.scss":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/scenario.scss ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.scenario-info {
  border-radius: 5px;
  background: rgba(114, 78, 191, 0.05);
  padding: 9px 15px;
}

.scenario-info .scenario-href {
  color: #724ebf;
}`, "",{"version":3,"sources":["webpack://./lib/inputs/scenario.scss"],"names":[],"mappings":"AAAA;EACE,kBAAA;EACA,oCAAA;EACA,iBAAA;AACF;;AACA;EACE,cAAA;AAEF","sourcesContent":[".scenario-info {\n  border-radius: 5px;\n  background: rgba(114, 78, 191, 0.05);\n  padding: 9px 15px;\n}\n.scenario-info .scenario-href {\n  color: #724ebf;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/custom-event-polyfill/polyfill.js":
/*!********************************************************!*\
  !*** ./node_modules/custom-event-polyfill/polyfill.js ***!
  \********************************************************/
/***/ (() => {

// Polyfill for creating CustomEvents on IE9/10/11

// code pulled from:
// https://github.com/d4tocchini/customevent-polyfill
// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill

(function() {
  if (typeof window === 'undefined') {
    return;
  }

  try {
    var ce = new window.CustomEvent('test', { cancelable: true });
    ce.preventDefault();
    if (ce.defaultPrevented !== true) {
      // IE has problems with .preventDefault() on custom events
      // http://stackoverflow.com/questions/23349191
      throw new Error('Could not prevent default');
    }
  } catch (e) {
    var CustomEvent = function(event, params) {
      var evt, origPrevent;
      params = params || {};
      params.bubbles = !!params.bubbles;
      params.cancelable = !!params.cancelable;

      evt = document.createEvent('CustomEvent');
      evt.initCustomEvent(
        event,
        params.bubbles,
        params.cancelable,
        params.detail
      );
      origPrevent = evt.preventDefault;
      evt.preventDefault = function() {
        origPrevent.call(this);
        try {
          Object.defineProperty(this, 'defaultPrevented', {
            get: function() {
              return true;
            }
          });
        } catch (e) {
          this.defaultPrevented = true;
        }
      };
      return evt;
    };

    CustomEvent.prototype = window.Event.prototype;
    window.CustomEvent = CustomEvent; // expose definition to window
  }
})();


/***/ }),

/***/ "./node_modules/deep-eql/index.js":
/*!****************************************!*\
  !*** ./node_modules/deep-eql/index.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

/* globals Symbol: false, Uint8Array: false, WeakMap: false */
/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

var type = __webpack_require__(/*! type-detect */ "./node_modules/type-detect/type-detect.js");
function FakeMap() {
  this._key = 'chai/deep-eql__' + Math.random() + Date.now();
}

FakeMap.prototype = {
  get: function get(key) {
    return key[this._key];
  },
  set: function set(key, value) {
    if (Object.isExtensible(key)) {
      Object.defineProperty(key, this._key, {
        value: value,
        configurable: true,
      });
    }
  },
};

var MemoizeMap = typeof WeakMap === 'function' ? WeakMap : FakeMap;
/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/
function memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {
  // Technically, WeakMap keys can *only* be objects, not primitives.
  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
    return null;
  }
  var leftHandMap = memoizeMap.get(leftHandOperand);
  if (leftHandMap) {
    var result = leftHandMap.get(rightHandOperand);
    if (typeof result === 'boolean') {
      return result;
    }
  }
  return null;
}

/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/
function memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {
  // Technically, WeakMap keys can *only* be objects, not primitives.
  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
    return;
  }
  var leftHandMap = memoizeMap.get(leftHandOperand);
  if (leftHandMap) {
    leftHandMap.set(rightHandOperand, result);
  } else {
    leftHandMap = new MemoizeMap();
    leftHandMap.set(rightHandOperand, result);
    memoizeMap.set(leftHandOperand, leftHandMap);
  }
}

/*!
 * Primary Export
 */

module.exports = deepEqual;
module.exports.MemoizeMap = MemoizeMap;

/**
 * Assert deeply nested sameValue equality between two objects of any type.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
 */
function deepEqual(leftHandOperand, rightHandOperand, options) {
  // If we have a comparator, we can't assume anything; so bail to its check first.
  if (options && options.comparator) {
    return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
  }

  var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
  if (simpleResult !== null) {
    return simpleResult;
  }

  // Deeper comparisons are pushed through to a larger function
  return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);
}

/**
 * Many comparisons can be canceled out early via simple equality or primitive checks.
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @return {Boolean|null} equal match
 */
function simpleEqual(leftHandOperand, rightHandOperand) {
  // Equal references (except for Numbers) can be returned early
  if (leftHandOperand === rightHandOperand) {
    // Handle +-0 cases
    return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;
  }

  // handle NaN cases
  if (
    leftHandOperand !== leftHandOperand && // eslint-disable-line no-self-compare
    rightHandOperand !== rightHandOperand // eslint-disable-line no-self-compare
  ) {
    return true;
  }

  // Anything that is not an 'object', i.e. symbols, functions, booleans, numbers,
  // strings, and undefined, can be compared by reference.
  if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {
    // Easy out b/c it would have passed the first equality check
    return false;
  }
  return null;
}

/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/
function extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {
  options = options || {};
  options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();
  var comparator = options && options.comparator;

  // Check if a memoized result exists.
  var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);
  if (memoizeResultLeft !== null) {
    return memoizeResultLeft;
  }
  var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);
  if (memoizeResultRight !== null) {
    return memoizeResultRight;
  }

  // If a comparator is present, use it.
  if (comparator) {
    var comparatorResult = comparator(leftHandOperand, rightHandOperand);
    // Comparators may return null, in which case we want to go back to default behavior.
    if (comparatorResult === false || comparatorResult === true) {
      memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);
      return comparatorResult;
    }
    // To allow comparators to override *any* behavior, we ran them first. Since it didn't decide
    // what to do, we need to make sure to return the basic tests first before we move on.
    var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);
    if (simpleResult !== null) {
      // Don't memoize this, it takes longer to set/retrieve than to just compare.
      return simpleResult;
    }
  }

  var leftHandType = type(leftHandOperand);
  if (leftHandType !== type(rightHandOperand)) {
    memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);
    return false;
  }

  // Temporarily set the operands in the memoize object to prevent blowing the stack
  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);

  var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);
  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);
  return result;
}

function extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {
  switch (leftHandType) {
    case 'String':
    case 'Number':
    case 'Boolean':
    case 'Date':
      // If these types are their instance types (e.g. `new Number`) then re-deepEqual against their values
      return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());
    case 'Promise':
    case 'Symbol':
    case 'function':
    case 'WeakMap':
    case 'WeakSet':
      return leftHandOperand === rightHandOperand;
    case 'Error':
      return keysEqual(leftHandOperand, rightHandOperand, [ 'name', 'message', 'code' ], options);
    case 'Arguments':
    case 'Int8Array':
    case 'Uint8Array':
    case 'Uint8ClampedArray':
    case 'Int16Array':
    case 'Uint16Array':
    case 'Int32Array':
    case 'Uint32Array':
    case 'Float32Array':
    case 'Float64Array':
    case 'Array':
      return iterableEqual(leftHandOperand, rightHandOperand, options);
    case 'RegExp':
      return regexpEqual(leftHandOperand, rightHandOperand);
    case 'Generator':
      return generatorEqual(leftHandOperand, rightHandOperand, options);
    case 'DataView':
      return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);
    case 'ArrayBuffer':
      return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);
    case 'Set':
      return entriesEqual(leftHandOperand, rightHandOperand, options);
    case 'Map':
      return entriesEqual(leftHandOperand, rightHandOperand, options);
    case 'Temporal.PlainDate':
    case 'Temporal.PlainTime':
    case 'Temporal.PlainDateTime':
    case 'Temporal.Instant':
    case 'Temporal.ZonedDateTime':
    case 'Temporal.PlainYearMonth':
    case 'Temporal.PlainMonthDay':
      return leftHandOperand.equals(rightHandOperand);
    case 'Temporal.Duration':
      return leftHandOperand.total('nanoseconds') === rightHandOperand.total('nanoseconds');
    case 'Temporal.TimeZone':
    case 'Temporal.Calendar':
      return leftHandOperand.toString() === rightHandOperand.toString();
    default:
      return objectEqual(leftHandOperand, rightHandOperand, options);
  }
}

/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */

function regexpEqual(leftHandOperand, rightHandOperand) {
  return leftHandOperand.toString() === rightHandOperand.toString();
}

/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */

function entriesEqual(leftHandOperand, rightHandOperand, options) {
  // IE11 doesn't support Set#entries or Set#@@iterator, so we need manually populate using Set#forEach
  if (leftHandOperand.size !== rightHandOperand.size) {
    return false;
  }
  if (leftHandOperand.size === 0) {
    return true;
  }
  var leftHandItems = [];
  var rightHandItems = [];
  leftHandOperand.forEach(function gatherEntries(key, value) {
    leftHandItems.push([ key, value ]);
  });
  rightHandOperand.forEach(function gatherEntries(key, value) {
    rightHandItems.push([ key, value ]);
  });
  return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);
}

/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */

function iterableEqual(leftHandOperand, rightHandOperand, options) {
  var length = leftHandOperand.length;
  if (length !== rightHandOperand.length) {
    return false;
  }
  if (length === 0) {
    return true;
  }
  var index = -1;
  while (++index < length) {
    if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {
      return false;
    }
  }
  return true;
}

/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */

function generatorEqual(leftHandOperand, rightHandOperand, options) {
  return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);
}

/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */
function hasIteratorFunction(target) {
  return typeof Symbol !== 'undefined' &&
    typeof target === 'object' &&
    typeof Symbol.iterator !== 'undefined' &&
    typeof target[Symbol.iterator] === 'function';
}

/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */
function getIteratorEntries(target) {
  if (hasIteratorFunction(target)) {
    try {
      return getGeneratorEntries(target[Symbol.iterator]());
    } catch (iteratorError) {
      return [];
    }
  }
  return [];
}

/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */
function getGeneratorEntries(generator) {
  var generatorResult = generator.next();
  var accumulator = [ generatorResult.value ];
  while (generatorResult.done === false) {
    generatorResult = generator.next();
    accumulator.push(generatorResult.value);
  }
  return accumulator;
}

/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */
function getEnumerableKeys(target) {
  var keys = [];
  for (var key in target) {
    keys.push(key);
  }
  return keys;
}

function getEnumerableSymbols(target) {
  var keys = [];
  var allKeys = Object.getOwnPropertySymbols(target);
  for (var i = 0; i < allKeys.length; i += 1) {
    var key = allKeys[i];
    if (Object.getOwnPropertyDescriptor(target, key).enumerable) {
      keys.push(key);
    }
  }
  return keys;
}

/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
function keysEqual(leftHandOperand, rightHandOperand, keys, options) {
  var length = keys.length;
  if (length === 0) {
    return true;
  }
  for (var i = 0; i < length; i += 1) {
    if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {
      return false;
    }
  }
  return true;
}

/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
function objectEqual(leftHandOperand, rightHandOperand, options) {
  var leftHandKeys = getEnumerableKeys(leftHandOperand);
  var rightHandKeys = getEnumerableKeys(rightHandOperand);
  var leftHandSymbols = getEnumerableSymbols(leftHandOperand);
  var rightHandSymbols = getEnumerableSymbols(rightHandOperand);
  leftHandKeys = leftHandKeys.concat(leftHandSymbols);
  rightHandKeys = rightHandKeys.concat(rightHandSymbols);

  if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {
    if (iterableEqual(mapSymbols(leftHandKeys).sort(), mapSymbols(rightHandKeys).sort()) === false) {
      return false;
    }
    return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);
  }

  var leftHandEntries = getIteratorEntries(leftHandOperand);
  var rightHandEntries = getIteratorEntries(rightHandOperand);
  if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {
    leftHandEntries.sort();
    rightHandEntries.sort();
    return iterableEqual(leftHandEntries, rightHandEntries, options);
  }

  if (leftHandKeys.length === 0 &&
      leftHandEntries.length === 0 &&
      rightHandKeys.length === 0 &&
      rightHandEntries.length === 0) {
    return true;
  }

  return false;
}

/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */
function isPrimitive(value) {
  return value === null || typeof value !== 'object';
}

function mapSymbols(arr) {
  return arr.map(function mapSymbol(entry) {
    if (typeof entry === 'symbol') {
      return entry.toString();
    }

    return entry;
  });
}


/***/ }),

/***/ "./node_modules/deepmerge/dist/cjs.js":
/*!********************************************!*\
  !*** ./node_modules/deepmerge/dist/cjs.js ***!
  \********************************************/
/***/ ((module) => {

"use strict";


var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function getMergeFunction(key, options) {
	if (!options.customMerge) {
		return deepmerge
	}
	var customMerge = options.customMerge(key);
	return typeof customMerge === 'function' ? customMerge : deepmerge
}

function getEnumerableOwnPropertySymbols(target) {
	return Object.getOwnPropertySymbols
		? Object.getOwnPropertySymbols(target).filter(function(symbol) {
			return Object.propertyIsEnumerable.call(target, symbol)
		})
		: []
}

function getKeys(target) {
	return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))
}

function propertyIsOnObject(object, property) {
	try {
		return property in object
	} catch(_) {
		return false
	}
}

// Protects from prototype poisoning and unexpected merging up the prototype chain.
function propertyIsUnsafe(target, key) {
	return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,
		&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,
			&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		getKeys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	getKeys(source).forEach(function(key) {
		if (propertyIsUnsafe(target, key)) {
			return
		}

		if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
			destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
		} else {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;
	// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()
	// implementations can use it. The caller may not replace it.
	options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

module.exports = deepmerge_1;


/***/ }),

/***/ "./node_modules/element-qsa-scope/index.js":
/*!*************************************************!*\
  !*** ./node_modules/element-qsa-scope/index.js ***!
  \*************************************************/
/***/ (() => {

try {
	// test for scope support
	document.querySelector(':scope *');
} catch (error) {
	(function (ElementPrototype) {
		// scope regex
		var scope = /:scope(?![\w-])/gi;

		// polyfill Element#querySelector
		var querySelectorWithScope = polyfill(ElementPrototype.querySelector);

		ElementPrototype.querySelector = function querySelector(selectors) {
			return querySelectorWithScope.apply(this, arguments);
		};

		// polyfill Element#querySelectorAll
		var querySelectorAllWithScope = polyfill(ElementPrototype.querySelectorAll);

		ElementPrototype.querySelectorAll = function querySelectorAll(selectors) {
			return querySelectorAllWithScope.apply(this, arguments);
		};

		// polyfill Element#matches
		if (ElementPrototype.matches) {
			var matchesWithScope = polyfill(ElementPrototype.matches);

			ElementPrototype.matches = function matches(selectors) {
				return matchesWithScope.apply(this, arguments);
			};
		}

		// polyfill Element#closest
		if (ElementPrototype.closest) {
			var closestWithScope = polyfill(ElementPrototype.closest);

			ElementPrototype.closest = function closest(selectors) {
				return closestWithScope.apply(this, arguments);
			};
		}

		function polyfill(qsa) {
			return function (selectors) {
				// whether the selectors contain :scope
				var hasScope = selectors && scope.test(selectors);

				if (hasScope) {
					// fallback attribute
					var attr = 'q' + Math.floor(Math.random() * 9000000) + 1000000;

					// replace :scope with the fallback attribute
					arguments[0] = selectors.replace(scope, '[' + attr + ']');

					// add the fallback attribute
					this.setAttribute(attr, '');

					// results of the qsa
					var elementOrNodeList = qsa.apply(this, arguments);

					// remove the fallback attribute
					this.removeAttribute(attr);

					// return the results of the qsa
					return elementOrNodeList;
				} else {
					// return the results of the qsa
					return qsa.apply(this, arguments);
				}
			};
		}
	})(Element.prototype);
}


/***/ }),

/***/ "./node_modules/get-func-name/index.js":
/*!*********************************************!*\
  !*** ./node_modules/get-func-name/index.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


/* !
 * Chai - getFuncName utility
 * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */

/**
 * ### .getFuncName(constructorFn)
 *
 * Returns the name of a function.
 * When a non-function instance is passed, returns `null`.
 * This also includes a polyfill function if `aFunc.name` is not defined.
 *
 * @name getFuncName
 * @param {Function} funct
 * @namespace Utils
 * @api public
 */

var toString = Function.prototype.toString;
var functionNameMatch = /\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;
var maxFunctionSourceLength = 512;
function getFuncName(aFunc) {
  if (typeof aFunc !== 'function') {
    return null;
  }

  var name = '';
  if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {
    // eslint-disable-next-line prefer-reflect
    var functionSource = toString.call(aFunc);
    // To avoid unconstrained resource consumption due to pathalogically large function names,
    // we limit the available return value to be less than 512 characters.
    if (functionSource.indexOf('(') > maxFunctionSourceLength) {
      return name;
    }
    // Here we run a polyfill if Function does not support the `name` property and if aFunc.name is not defined
    var match = functionSource.match(functionNameMatch);
    if (match) {
      name = match[1];
    }
  } else {
    // If we've got a `name` property we just use it
    name = aFunc.name;
  }

  return name;
}

module.exports = getFuncName;


/***/ }),

/***/ "./node_modules/i18next/i18next.min.js":
/*!*********************************************!*\
  !*** ./node_modules/i18next/i18next.min.js ***!
  \*********************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function s(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},g=new(function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.init(n,r)}return r(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||p,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,f(f({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),h=function(){function e(){t(this,e),this.observers={}}return r(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),e}();function d(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function v(e){return null==e?"":""+e}function y(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}for(var i="string"!=typeof t?[].concat(t):t.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function m(e,t,n){var r=y(e,t,Object);r.obj[r.k]=n}function b(e,t){var n=y(e,t),r=n.obj,o=n.k;if(r)return r[o]}function O(e,t,n){var r=b(e,n);return void 0!==r?r:b(t,n)}function k(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function x(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return w[e]}):e}var S="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,j=[" ",",","?","!",";"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var N=function(e){a(i,h);var n=R(i);function i(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return t(this,i),r=n.call(this),S&&h.call(o(r)),r.data=e||{},r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return r(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=b(this.data,a);return s||!i||"string"!=typeof n?s:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[n])return t[n];for(var o=n.split(r),i=t,a=0;a<o.length;++a){if(!i)return;if("string"==typeof i[o[a]]&&a+1<o.length)return;if(void 0===i[o[a]]){for(var s=2,u=o.slice(a,a+s).join(r),c=i[u];void 0===c&&o.length>a+s;)s++,c=i[u=o.slice(a,a+s).join(r)];if(void 0===c)return;if(null===c)return null;if(n.endsWith(u)){if("string"==typeof c)return c;if(u&&"string"==typeof c[u])return c[u]}var l=o.slice(a+s).join(r);return l?e(c,l,r):void 0}i=i[o[a]]}return i}}(this.data&&this.data[e]&&this.data[e][t],n,o)}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),m(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=b(this.data,a)||{};r?function e(t,n,r){for(var o in n)"__proto__"!==o&&"constructor"!==o&&(o in t?"string"==typeof t[o]||t[o]instanceof String||"string"==typeof n[o]||n[o]instanceof String?r&&(t[o]=n[o]):e(t[o],n[o],r):t[o]=n[o]);return t}(s,n,o):s=L(L({},s),n),m(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?L(L({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&Object.keys(t[e]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),i}(),C={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach(function(e){i.processors[e]&&(t=i.processors[e].process(t,n,r,o))}),t}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var I={},A=function(n){a(s,h);var i=F(s);function s(e){var n,r,a,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,s),n=i.call(this),S&&h.call(o(n)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a=e,u=o(n),r.forEach(function(e){a[e]&&(u[e]=a[e])}),n.options=c,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=g.create("translator"),n}return r(s,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=j.filter(function(e){return t.indexOf(e)<0&&n.indexOf(e)<0});if(0===r.length)return!0;var o=new RegExp("(".concat(r.map(function(e){return"?"===e?"\\?":e}).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(i&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:o};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}},{key:"translate",value:function(t,n,r){var o=this;if("object"!==e(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,u=this.extractFromKey(t[t.length-1],n),c=u.key,l=u.namespaces,f=l[l.length-1],p=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(g){var h=n.nsSeparator||this.options.nsSeparator;return i?(d.res="".concat(f).concat(h).concat(c),d):"".concat(f).concat(h).concat(c)}return i?(d.res=c,d):c}var d=this.resolve(t,n),v=d&&d.res,y=d&&d.usedKey||c,m=d&&d.exactUsedKey||c,b=Object.prototype.toString.apply(v),O=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&v&&("string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(b)<0&&("string"!=typeof O||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,v,D(D({},n),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(d.res=w,d):w}if(a){var x="[object Array]"===b,S=x?[]:{},j=x?m:y;for(var P in v)if(Object.prototype.hasOwnProperty.call(v,P)){var L="".concat(j).concat(a).concat(P);S[P]=this.translate(L,D(D({},n),{joinArrays:!1,ns:l})),S[P]===L&&(S[P]=v[P])}v=S}}else if(k&&"string"==typeof O&&"[object Array]"===b)(v=v.join(O))&&(v=this.extendTranslation(v,t,n,r));else{var R=!1,N=!1,C=void 0!==n.count&&"string"!=typeof n.count,E=s.hasDefaultValue(n),F=C?this.pluralResolver.getSuffix(p,n.count,n):"",I=n["defaultValue".concat(F)]||n.defaultValue;!this.isValidLookup(v)&&E&&(R=!0,v=I),this.isValidLookup(v)||(N=!0,v=c);var A=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:v,T=E&&I!==v&&this.options.updateMissing;if(N||R||T){if(this.logger.log(T?"updateKey":"missingKey",p,f,c,T?I:v),a){var V=this.resolve(c,D(D({},n),{},{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&K&&K[0])for(var B=0;B<K.length;B++)U.push(K[B]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);var M=function(e,t,r){var i=E&&r!==v?r:A;o.options.missingKeyHandler?o.options.missingKeyHandler(e,f,t,i,T,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,f,t,i,T,n),o.emit("missingKey",e,f,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?U.forEach(function(e){o.pluralResolver.getSuffixes(e,n).forEach(function(t){M([e],c+t,n["defaultValue".concat(t)]||I)})}):M(U,c,I))}v=this.extendTranslation(v,t,n,d,r),N&&v===c&&this.options.appendNamespaceToMissingKey&&(v="".concat(f,":").concat(c)),(N||R)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(c):c,R?v:void 0):this.options.parseMissingKeyHandler(v))}return i?(d.res=v,d):v}},{key:"extendTranslation",value:function(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,D(D({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(D(D({},n),{interpolation:D(D({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=D(D({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):i.translate.apply(i,r.concat([t]))},n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=C.handle(p,e,t,this.options&&this.options.postProcessPassResolved?D({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,p=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),g=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach(function(e){a.isValidLookup(t)||(i=e,!I["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(I["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(function(n){if(!a.isValidLookup(t)){o=n;var i,u=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,c,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(u.push(c+l),p&&u.push(c+h)),g){var d="".concat(c).concat(a.options.contextSeparator).concat(s.context);u.push(d),f&&(u.push(d+l),p&&u.push(d+h))}}for(;i=u.pop();)a.isValidLookup(t)||(r=i,t=a.getResource(n,e,i,s))}}))})}}),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,"defaultValue".length)&&void 0!==e[t])return!0;return!1}}]),s}();function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}var V=function(){function e(n){t(this,e),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=g.create("languageUtils")}return r(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach(function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}}),!t&&this.options.supportedLngs&&e.forEach(function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find(function(e){if(0===e.indexOf(r))return e})}}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),r.forEach(function(e){o.indexOf(e)<0&&i(n.formatLanguageCode(e))}),o}}]),e}(),U=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],K={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},B=["v1","v2","v3"],M={zero:0,one:1,two:2,few:3,many:4,other:5};var H=function(){function e(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this.languageUtils=n,this.options=o,this.logger=g.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(r={},U.forEach(function(e){e.lngs.forEach(function(t){r[t]={numbers:e.nr,plurals:K[e.fc]}})}),r)}return r(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort(function(e,t){return M[e]-M[t]}).map(function(e){return"".concat(t.options.prepend).concat(e)}):r.numbers.map(function(r){return t.getSuffix(e,r,n)}):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),o=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON?i():this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!B.includes(this.options.compatibilityJSON)}}]),e}();function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.logger=g.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(e){return e},this.init(n)}return r(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:x,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?k(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?k(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?k(t.nestingPrefix):t.nestingPrefixEscaped||k("$t("),this.nestingSuffix=t.nestingSuffix?k(t.nestingSuffix):t.nestingSuffixEscaped||k(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var o,i,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var o=O(t,u,e);return s.alwaysFormat?s.format(o,void 0,n,J(J(J({},r),t),{},{interpolationkey:e})):o}var i=e.split(s.formatSeparator),a=i.shift().trim(),c=i.join(s.formatSeparator).trim();return s.format(O(t,u,a),c,n,J(J(J({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach(function(t){for(a=0;o=t.regex.exec(e);){var n=o[1].trim();if(void 0===(i=l(n)))if("function"==typeof f){var u=f(e,o,r);i="string"==typeof u?u:""}else if(r&&r.hasOwnProperty(n))i="";else{if(p){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=v(i));var c=t.safeValue(i);if(e=e.replace(o[0],c),p?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}}),e}},{key:"nest",value:function(e,t){var n,r,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=J({},i);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var i=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),t&&(a=J(J({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map(function(e){return e.trim()});n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=v(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce(function(e,t){return o.format(e,t,i.lng,J(J({},i),{},{interpolationkey:n[1].trim()}))},r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e){var t={};return function(n,r,o){var i=r+JSON.stringify(o),a=t[i];return a||(a=e(r,o),t[i]=a),a(n)}}var Q=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.logger=g.create("formatter"),this.options=n,this.formats={number:G(function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}}),currency:G(function(e,t){var n=new Intl.NumberFormat(e,Y(Y({},t),{},{style:"currency"}));return function(e){return n.format(e)}}),datetime:G(function(e,t){var n=new Intl.DateTimeFormat(e,Y({},t));return function(e){return n.format(e)}}),relativetime:G(function(e,t){var n=new Intl.RelativeTimeFormat(e,Y({},t));return function(e){return n.format(e,t.range||"day")}}),list:G(function(e,t){var n=new Intl.ListFormat(e,Y({},t));return function(e){return n.format(e)}})},this.init(n)}return r(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=G(t)}},{key:"format",value:function(e,t,n,r){var o=this;return t.split(this.formatSeparator).reduce(function(e,t){var i=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(function(e){if(e){var t=$(e.split(":")),r=t[0],o=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}})}return{formatName:t,formatOptions:n}}(t),a=i.formatName,s=i.formatOptions;if(o.formats[a]){var u=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=c.locale||c.lng||r.locale||r.lng||n;u=o.formats[a](e,l,Y(Y(Y({},s),r),c))}catch(e){o.logger.warn(e)}return u}return o.logger.warn("there was no format function for ".concat(a)),e},e)}}]),e}();function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var te=function(e){a(i,h);var n=ee(i);function i(e,r,a){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(this,i),s=n.call(this),S&&h.call(o(s)),s.backend=e,s.store=r,s.services=a,s.languageUtils=a.languageUtils,s.options=u,s.logger=g.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=u.maxParallelReads||10,s.readingCalls=0,s.maxRetries=u.maxRetries>=0?u.maxRetries:5,s.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(a,u.backend,u),s}return r(i,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},u={};return e.forEach(function(e){var r=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===u[t]&&(u[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;var a={};this.queue.forEach(function(n){var r,s,u,c,l,f;r=n.loaded,s=i,c=y(r,[o],Object),l=c.obj,f=c.k,l[f]=l[f]||[],u&&(l[f]=l[f].concat(s)),u||l[f].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach(function(t){void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a}):(this.readingCalls++,this.backend[n](e,t,function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&o<r.maxRetries?setTimeout(function(){r.read.call(r,e,t,n,o+1,2*i,a)},i):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)})}},{key:"saveMissing",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,Z(Z({},i),{},{isUpdate:o})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}();function ne(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function ae(){}var se=function(n){a(u,h);var i=ie(u);function u(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(t(this,u),e=i.call(this),S&&h.call(o(e)),e.options=ne(r),e.services={},e.logger=g,e.modules={external:[]},n=o(e),Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(function(e){"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),a&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,a),s(e,o(e));setTimeout(function(){e.init(r,a)},0)}return e}return r(u,[{key:"init",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"==typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var o={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var n={};if("object"===e(t[1])&&(n=t[1]),"string"==typeof t[1]&&(n.defaultValue=t[1]),"string"==typeof t[2]&&(n.tDescription=t[2]),"object"===e(t[2])||"object"===e(t[3])){var r=t[3]||t[2];Object.keys(r).forEach(function(e){n[e]=r[e]})}return n},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=oe(oe(oe({},o),this.options),ne(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=oe(oe({},o.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var a;this.modules.logger?g.init(i(this.modules.logger),this.options):g.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=Q);var s=new V(this.options);this.store=new N(this.options.resources,this.options);var u=this.services;u.logger=g,u.resourceStore=this.store,u.languageUtils=s,u.pluralResolver=new H(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(u.formatter=i(a),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new _(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new te(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new A(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}if(this.format=this.options.interpolation.format,r||(r=ae),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}});var l=d(),f=function(){var e=function(e,n){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),l.resolve(n),r(e,n)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var o=[],i=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){o.indexOf(e)<0&&o.push(e)})};if(r)i(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return i(e)});this.options.preload&&this.options.preload.forEach(function(e){return i(e)}),this.services.backendConnector.load(o,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=d();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ae),this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&C.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=d();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},i=function(i){e||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,function(e){!function(e,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve(function(){return n.t.apply(n,arguments)}),t&&t(e,function(){return n.t.apply(n,arguments)})}(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,n,r){var o=this,i=function t(n,i){var a;if("object"!==e(i)){for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];a=o.options.overloadTranslationOptionHandler([n,i].concat(u))}else a=oe({},i);a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,a.keyPrefix=a.keyPrefix||r||t.keyPrefix;var l=o.options.keySeparator||".",f=a.keyPrefix?"".concat(a.keyPrefix).concat(l).concat(n):n;return o.t(f,a)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=d();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=d();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],o=e.filter(function(e){return r.indexOf(e)<0});return o.length?(this.options.preload=r.concat(o),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,r=oe(oe(oe({},this.options),t),{isClone:!0}),o=new u(r);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach(function(t){o[t]=e[t]}),o.services=oe({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new A(o.services,o.options),o.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))}),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),u}();c(se,"createInstance",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new se(e,t)});var ue=se.createInstance();return ue.createInstance=se.createInstance,ue});


/***/ }),

/***/ "./node_modules/imurmurhash/imurmurhash.js":
/*!*************************************************!*\
  !*** ./node_modules/imurmurhash/imurmurhash.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */
(function(){
    var cache;

    // Call this function without `new` to use the cached object (good for
    // single-threaded environments), or with `new` to create a new object.
    //
    // @param {string} key A UTF-16 or ASCII string
    // @param {number} seed An optional positive integer
    // @return {object} A MurmurHash3 object for incremental hashing
    function MurmurHash3(key, seed) {
        var m = this instanceof MurmurHash3 ? this : cache;
        m.reset(seed)
        if (typeof key === 'string' && key.length > 0) {
            m.hash(key);
        }

        if (m !== this) {
            return m;
        }
    };

    // Incrementally add a string to this hash
    //
    // @param {string} key A UTF-16 or ASCII string
    // @return {object} this
    MurmurHash3.prototype.hash = function(key) {
        var h1, k1, i, top, len;

        len = key.length;
        this.len += len;

        k1 = this.k1;
        i = 0;
        switch (this.rem) {
            case 0: k1 ^= len > i ? (key.charCodeAt(i++) & 0xffff) : 0;
            case 1: k1 ^= len > i ? (key.charCodeAt(i++) & 0xffff) << 8 : 0;
            case 2: k1 ^= len > i ? (key.charCodeAt(i++) & 0xffff) << 16 : 0;
            case 3:
                k1 ^= len > i ? (key.charCodeAt(i) & 0xff) << 24 : 0;
                k1 ^= len > i ? (key.charCodeAt(i++) & 0xff00) >> 8 : 0;
        }

        this.rem = (len + this.rem) & 3; // & 3 is same as % 4
        len -= this.rem;
        if (len > 0) {
            h1 = this.h1;
            while (1) {
                k1 = (k1 * 0x2d51 + (k1 & 0xffff) * 0xcc9e0000) & 0xffffffff;
                k1 = (k1 << 15) | (k1 >>> 17);
                k1 = (k1 * 0x3593 + (k1 & 0xffff) * 0x1b870000) & 0xffffffff;

                h1 ^= k1;
                h1 = (h1 << 13) | (h1 >>> 19);
                h1 = (h1 * 5 + 0xe6546b64) & 0xffffffff;

                if (i >= len) {
                    break;
                }

                k1 = ((key.charCodeAt(i++) & 0xffff)) ^
                     ((key.charCodeAt(i++) & 0xffff) << 8) ^
                     ((key.charCodeAt(i++) & 0xffff) << 16);
                top = key.charCodeAt(i++);
                k1 ^= ((top & 0xff) << 24) ^
                      ((top & 0xff00) >> 8);
            }

            k1 = 0;
            switch (this.rem) {
                case 3: k1 ^= (key.charCodeAt(i + 2) & 0xffff) << 16;
                case 2: k1 ^= (key.charCodeAt(i + 1) & 0xffff) << 8;
                case 1: k1 ^= (key.charCodeAt(i) & 0xffff);
            }

            this.h1 = h1;
        }

        this.k1 = k1;
        return this;
    };

    // Get the result of this hash
    //
    // @return {number} The 32-bit hash
    MurmurHash3.prototype.result = function() {
        var k1, h1;

        k1 = this.k1;
        h1 = this.h1;

        if (k1 > 0) {
            k1 = (k1 * 0x2d51 + (k1 & 0xffff) * 0xcc9e0000) & 0xffffffff;
            k1 = (k1 << 15) | (k1 >>> 17);
            k1 = (k1 * 0x3593 + (k1 & 0xffff) * 0x1b870000) & 0xffffffff;
            h1 ^= k1;
        }

        h1 ^= this.len;

        h1 ^= h1 >>> 16;
        h1 = (h1 * 0xca6b + (h1 & 0xffff) * 0x85eb0000) & 0xffffffff;
        h1 ^= h1 >>> 13;
        h1 = (h1 * 0xae35 + (h1 & 0xffff) * 0xc2b20000) & 0xffffffff;
        h1 ^= h1 >>> 16;

        return h1 >>> 0;
    };

    // Reset the hash object for reuse
    //
    // @param {number} seed An optional positive integer
    MurmurHash3.prototype.reset = function(seed) {
        this.h1 = typeof seed === 'number' ? seed : 0;
        this.rem = this.k1 = this.len = 0;
        return this;
    };

    // A cached object to use. This can be safely used if you're in a single-
    // threaded environment, otherwise you need to create new hashes to use.
    cache = new MurmurHash3();

    if (true) {
        module.exports = MurmurHash3;
    } else {}
}());


/***/ }),

/***/ "./node_modules/loupe/loupe.js":
/*!*************************************!*\
  !*** ./node_modules/loupe/loupe.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

(function (global, factory) {
   true ? factory(exports) :
  0;
}(this, (function (exports) { 'use strict';

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _slicedToArray(arr, i) {
    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
  }

  function _arrayWithHoles(arr) {
    if (Array.isArray(arr)) return arr;
  }

  function _iterableToArrayLimit(arr, i) {
    if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"] != null) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  var ansiColors = {
    bold: ['1', '22'],
    dim: ['2', '22'],
    italic: ['3', '23'],
    underline: ['4', '24'],
    // 5 & 6 are blinking
    inverse: ['7', '27'],
    hidden: ['8', '28'],
    strike: ['9', '29'],
    // 10-20 are fonts
    // 21-29 are resets for 1-9
    black: ['30', '39'],
    red: ['31', '39'],
    green: ['32', '39'],
    yellow: ['33', '39'],
    blue: ['34', '39'],
    magenta: ['35', '39'],
    cyan: ['36', '39'],
    white: ['37', '39'],
    brightblack: ['30;1', '39'],
    brightred: ['31;1', '39'],
    brightgreen: ['32;1', '39'],
    brightyellow: ['33;1', '39'],
    brightblue: ['34;1', '39'],
    brightmagenta: ['35;1', '39'],
    brightcyan: ['36;1', '39'],
    brightwhite: ['37;1', '39'],
    grey: ['90', '39']
  };
  var styles = {
    special: 'cyan',
    number: 'yellow',
    bigint: 'yellow',
    boolean: 'yellow',
    undefined: 'grey',
    null: 'bold',
    string: 'green',
    symbol: 'green',
    date: 'magenta',
    regexp: 'red'
  };
  var truncator = '';

  function colorise(value, styleType) {
    var color = ansiColors[styles[styleType]] || ansiColors[styleType];

    if (!color) {
      return String(value);
    }

    return "\x1B[".concat(color[0], "m").concat(String(value), "\x1B[").concat(color[1], "m");
  }

  function normaliseOptions() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref$showHidden = _ref.showHidden,
        showHidden = _ref$showHidden === void 0 ? false : _ref$showHidden,
        _ref$depth = _ref.depth,
        depth = _ref$depth === void 0 ? 2 : _ref$depth,
        _ref$colors = _ref.colors,
        colors = _ref$colors === void 0 ? false : _ref$colors,
        _ref$customInspect = _ref.customInspect,
        customInspect = _ref$customInspect === void 0 ? true : _ref$customInspect,
        _ref$showProxy = _ref.showProxy,
        showProxy = _ref$showProxy === void 0 ? false : _ref$showProxy,
        _ref$maxArrayLength = _ref.maxArrayLength,
        maxArrayLength = _ref$maxArrayLength === void 0 ? Infinity : _ref$maxArrayLength,
        _ref$breakLength = _ref.breakLength,
        breakLength = _ref$breakLength === void 0 ? Infinity : _ref$breakLength,
        _ref$seen = _ref.seen,
        seen = _ref$seen === void 0 ? [] : _ref$seen,
        _ref$truncate = _ref.truncate,
        truncate = _ref$truncate === void 0 ? Infinity : _ref$truncate,
        _ref$stylize = _ref.stylize,
        stylize = _ref$stylize === void 0 ? String : _ref$stylize;

    var options = {
      showHidden: Boolean(showHidden),
      depth: Number(depth),
      colors: Boolean(colors),
      customInspect: Boolean(customInspect),
      showProxy: Boolean(showProxy),
      maxArrayLength: Number(maxArrayLength),
      breakLength: Number(breakLength),
      truncate: Number(truncate),
      seen: seen,
      stylize: stylize
    };

    if (options.colors) {
      options.stylize = colorise;
    }

    return options;
  }
  function truncate(string, length) {
    var tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : truncator;
    string = String(string);
    var tailLength = tail.length;
    var stringLength = string.length;

    if (tailLength > length && stringLength > tailLength) {
      return tail;
    }

    if (stringLength > length && stringLength > tailLength) {
      return "".concat(string.slice(0, length - tailLength)).concat(tail);
    }

    return string;
  } // eslint-disable-next-line complexity

  function inspectList(list, options, inspectItem) {
    var separator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ', ';
    inspectItem = inspectItem || options.inspect;
    var size = list.length;
    if (size === 0) return '';
    var originalLength = options.truncate;
    var output = '';
    var peek = '';
    var truncated = '';

    for (var i = 0; i < size; i += 1) {
      var last = i + 1 === list.length;
      var secondToLast = i + 2 === list.length;
      truncated = "".concat(truncator, "(").concat(list.length - i, ")");
      var value = list[i]; // If there is more than one remaining we need to account for a separator of `, `

      options.truncate = originalLength - output.length - (last ? 0 : separator.length);
      var string = peek || inspectItem(value, options) + (last ? '' : separator);
      var nextLength = output.length + string.length;
      var truncatedLength = nextLength + truncated.length; // If this is the last element, and adding it would
      // take us over length, but adding the truncator wouldn't - then break now

      if (last && nextLength > originalLength && output.length + truncated.length <= originalLength) {
        break;
      } // If this isn't the last or second to last element to scan,
      // but the string is already over length then break here


      if (!last && !secondToLast && truncatedLength > originalLength) {
        break;
      } // Peek at the next string to determine if we should
      // break early before adding this item to the output


      peek = last ? '' : inspectItem(list[i + 1], options) + (secondToLast ? '' : separator); // If we have one element left, but this element and
      // the next takes over length, the break early

      if (!last && secondToLast && truncatedLength > originalLength && nextLength + peek.length > originalLength) {
        break;
      }

      output += string; // If the next element takes us to length -
      // but there are more after that, then we should truncate now

      if (!last && !secondToLast && nextLength + peek.length >= originalLength) {
        truncated = "".concat(truncator, "(").concat(list.length - i - 1, ")");
        break;
      }

      truncated = '';
    }

    return "".concat(output).concat(truncated);
  }

  function quoteComplexKey(key) {
    if (key.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)) {
      return key;
    }

    return JSON.stringify(key).replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
  }

  function inspectProperty(_ref2, options) {
    var _ref3 = _slicedToArray(_ref2, 2),
        key = _ref3[0],
        value = _ref3[1];

    options.truncate -= 2;

    if (typeof key === 'string') {
      key = quoteComplexKey(key);
    } else if (typeof key !== 'number') {
      key = "[".concat(options.inspect(key, options), "]");
    }

    options.truncate -= key.length;
    value = options.inspect(value, options);
    return "".concat(key, ": ").concat(value);
  }

  function inspectArray(array, options) {
    // Object.keys will always output the Array indices first, so we can slice by
    // `array.length` to get non-index properties
    var nonIndexProperties = Object.keys(array).slice(array.length);
    if (!array.length && !nonIndexProperties.length) return '[]';
    options.truncate -= 4;
    var listContents = inspectList(array, options);
    options.truncate -= listContents.length;
    var propertyContents = '';

    if (nonIndexProperties.length) {
      propertyContents = inspectList(nonIndexProperties.map(function (key) {
        return [key, array[key]];
      }), options, inspectProperty);
    }

    return "[ ".concat(listContents).concat(propertyContents ? ", ".concat(propertyContents) : '', " ]");
  }

  /* !
   * Chai - getFuncName utility
   * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   */

  /**
   * ### .getFuncName(constructorFn)
   *
   * Returns the name of a function.
   * When a non-function instance is passed, returns `null`.
   * This also includes a polyfill function if `aFunc.name` is not defined.
   *
   * @name getFuncName
   * @param {Function} funct
   * @namespace Utils
   * @api public
   */

  var toString = Function.prototype.toString;
  var functionNameMatch = /\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;
  function getFuncName(aFunc) {
    if (typeof aFunc !== 'function') {
      return null;
    }

    var name = '';
    if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {
      // Here we run a polyfill if Function does not support the `name` property and if aFunc.name is not defined
      var match = toString.call(aFunc).match(functionNameMatch);
      if (match) {
        name = match[1];
      }
    } else {
      // If we've got a `name` property we just use it
      name = aFunc.name;
    }

    return name;
  }

  var getFuncName_1 = getFuncName;

  var getArrayName = function getArrayName(array) {
    // We need to special case Node.js' Buffers, which report to be Uint8Array
    if (typeof Buffer === 'function' && array instanceof Buffer) {
      return 'Buffer';
    }

    if (array[Symbol.toStringTag]) {
      return array[Symbol.toStringTag];
    }

    return getFuncName_1(array.constructor);
  };

  function inspectTypedArray(array, options) {
    var name = getArrayName(array);
    options.truncate -= name.length + 4; // Object.keys will always output the Array indices first, so we can slice by
    // `array.length` to get non-index properties

    var nonIndexProperties = Object.keys(array).slice(array.length);
    if (!array.length && !nonIndexProperties.length) return "".concat(name, "[]"); // As we know TypedArrays only contain Unsigned Integers, we can skip inspecting each one and simply
    // stylise the toString() value of them

    var output = '';

    for (var i = 0; i < array.length; i++) {
      var string = "".concat(options.stylize(truncate(array[i], options.truncate), 'number')).concat(i === array.length - 1 ? '' : ', ');
      options.truncate -= string.length;

      if (array[i] !== array.length && options.truncate <= 3) {
        output += "".concat(truncator, "(").concat(array.length - array[i] + 1, ")");
        break;
      }

      output += string;
    }

    var propertyContents = '';

    if (nonIndexProperties.length) {
      propertyContents = inspectList(nonIndexProperties.map(function (key) {
        return [key, array[key]];
      }), options, inspectProperty);
    }

    return "".concat(name, "[ ").concat(output).concat(propertyContents ? ", ".concat(propertyContents) : '', " ]");
  }

  function inspectDate(dateObject, options) {
    var stringRepresentation = dateObject.toJSON();

    if (stringRepresentation === null) {
      return 'Invalid Date';
    }

    var split = stringRepresentation.split('T');
    var date = split[0]; // If we need to - truncate the time portion, but never the date

    return options.stylize("".concat(date, "T").concat(truncate(split[1], options.truncate - date.length - 1)), 'date');
  }

  function inspectFunction(func, options) {
    var name = getFuncName_1(func);

    if (!name) {
      return options.stylize('[Function]', 'special');
    }

    return options.stylize("[Function ".concat(truncate(name, options.truncate - 11), "]"), 'special');
  }

  function inspectMapEntry(_ref, options) {
    var _ref2 = _slicedToArray(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];

    options.truncate -= 4;
    key = options.inspect(key, options);
    options.truncate -= key.length;
    value = options.inspect(value, options);
    return "".concat(key, " => ").concat(value);
  } // IE11 doesn't support `map.entries()`


  function mapToEntries(map) {
    var entries = [];
    map.forEach(function (value, key) {
      entries.push([key, value]);
    });
    return entries;
  }

  function inspectMap(map, options) {
    var size = map.size - 1;

    if (size <= 0) {
      return 'Map{}';
    }

    options.truncate -= 7;
    return "Map{ ".concat(inspectList(mapToEntries(map), options, inspectMapEntry), " }");
  }

  var isNaN = Number.isNaN || function (i) {
    return i !== i;
  }; // eslint-disable-line no-self-compare


  function inspectNumber(number, options) {
    if (isNaN(number)) {
      return options.stylize('NaN', 'number');
    }

    if (number === Infinity) {
      return options.stylize('Infinity', 'number');
    }

    if (number === -Infinity) {
      return options.stylize('-Infinity', 'number');
    }

    if (number === 0) {
      return options.stylize(1 / number === Infinity ? '+0' : '-0', 'number');
    }

    return options.stylize(truncate(number, options.truncate), 'number');
  }

  function inspectBigInt(number, options) {
    var nums = truncate(number.toString(), options.truncate - 1);
    if (nums !== truncator) nums += 'n';
    return options.stylize(nums, 'bigint');
  }

  function inspectRegExp(value, options) {
    var flags = value.toString().split('/')[2];
    var sourceLength = options.truncate - (2 + flags.length);
    var source = value.source;
    return options.stylize("/".concat(truncate(source, sourceLength), "/").concat(flags), 'regexp');
  }

  function arrayFromSet(set) {
    var values = [];
    set.forEach(function (value) {
      values.push(value);
    });
    return values;
  }

  function inspectSet(set, options) {
    if (set.size === 0) return 'Set{}';
    options.truncate -= 7;
    return "Set{ ".concat(inspectList(arrayFromSet(set), options), " }");
  }

  var stringEscapeChars = new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5" + "\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]", 'g');
  var escapeCharacters = {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    "'": "\\'",
    '\\': '\\\\'
  };
  var hex = 16;
  var unicodeLength = 4;

  function escape(char) {
    return escapeCharacters[char] || "\\u".concat("0000".concat(char.charCodeAt(0).toString(hex)).slice(-unicodeLength));
  }

  function inspectString(string, options) {
    if (stringEscapeChars.test(string)) {
      string = string.replace(stringEscapeChars, escape);
    }

    return options.stylize("'".concat(truncate(string, options.truncate - 2), "'"), 'string');
  }

  function inspectSymbol(value) {
    if ('description' in Symbol.prototype) {
      return value.description ? "Symbol(".concat(value.description, ")") : 'Symbol()';
    }

    return value.toString();
  }

  var getPromiseValue = function getPromiseValue() {
    return 'Promise{}';
  };

  try {
    var _process$binding = process.binding('util'),
        getPromiseDetails = _process$binding.getPromiseDetails,
        kPending = _process$binding.kPending,
        kRejected = _process$binding.kRejected;

    if (Array.isArray(getPromiseDetails(Promise.resolve()))) {
      getPromiseValue = function getPromiseValue(value, options) {
        var _getPromiseDetails = getPromiseDetails(value),
            _getPromiseDetails2 = _slicedToArray(_getPromiseDetails, 2),
            state = _getPromiseDetails2[0],
            innerValue = _getPromiseDetails2[1];

        if (state === kPending) {
          return 'Promise{<pending>}';
        }

        return "Promise".concat(state === kRejected ? '!' : '', "{").concat(options.inspect(innerValue, options), "}");
      };
    }
  } catch (notNode) {
    /* ignore */
  }

  var inspectPromise = getPromiseValue;

  function inspectObject(object, options) {
    var properties = Object.getOwnPropertyNames(object);
    var symbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(object) : [];

    if (properties.length === 0 && symbols.length === 0) {
      return '{}';
    }

    options.truncate -= 4;
    options.seen = options.seen || [];

    if (options.seen.indexOf(object) >= 0) {
      return '[Circular]';
    }

    options.seen.push(object);
    var propertyContents = inspectList(properties.map(function (key) {
      return [key, object[key]];
    }), options, inspectProperty);
    var symbolContents = inspectList(symbols.map(function (key) {
      return [key, object[key]];
    }), options, inspectProperty);
    options.seen.pop();
    var sep = '';

    if (propertyContents && symbolContents) {
      sep = ', ';
    }

    return "{ ".concat(propertyContents).concat(sep).concat(symbolContents, " }");
  }

  var toStringTag = typeof Symbol !== 'undefined' && Symbol.toStringTag ? Symbol.toStringTag : false;
  function inspectClass(value, options) {
    var name = '';

    if (toStringTag && toStringTag in value) {
      name = value[toStringTag];
    }

    name = name || getFuncName_1(value.constructor); // Babel transforms anonymous classes to the name `_class`

    if (!name || name === '_class') {
      name = '<Anonymous Class>';
    }

    options.truncate -= name.length;
    return "".concat(name).concat(inspectObject(value, options));
  }

  function inspectArguments(args, options) {
    if (args.length === 0) return 'Arguments[]';
    options.truncate -= 13;
    return "Arguments[ ".concat(inspectList(args, options), " ]");
  }

  var errorKeys = ['stack', 'line', 'column', 'name', 'message', 'fileName', 'lineNumber', 'columnNumber', 'number', 'description'];
  function inspectObject$1(error, options) {
    var properties = Object.getOwnPropertyNames(error).filter(function (key) {
      return errorKeys.indexOf(key) === -1;
    });
    var name = error.name;
    options.truncate -= name.length;
    var message = '';

    if (typeof error.message === 'string') {
      message = truncate(error.message, options.truncate);
    } else {
      properties.unshift('message');
    }

    message = message ? ": ".concat(message) : '';
    options.truncate -= message.length + 5;
    var propertyContents = inspectList(properties.map(function (key) {
      return [key, error[key]];
    }), options, inspectProperty);
    return "".concat(name).concat(message).concat(propertyContents ? " { ".concat(propertyContents, " }") : '');
  }

  function inspectAttribute(_ref, options) {
    var _ref2 = _slicedToArray(_ref, 2),
        key = _ref2[0],
        value = _ref2[1];

    options.truncate -= 3;

    if (!value) {
      return "".concat(options.stylize(key, 'yellow'));
    }

    return "".concat(options.stylize(key, 'yellow'), "=").concat(options.stylize("\"".concat(value, "\""), 'string'));
  }
  function inspectHTMLCollection(collection, options) {
    // eslint-disable-next-line no-use-before-define
    return inspectList(collection, options, inspectHTML, '\n');
  }
  function inspectHTML(element, options) {
    var properties = element.getAttributeNames();
    var name = element.tagName.toLowerCase();
    var head = options.stylize("<".concat(name), 'special');
    var headClose = options.stylize(">", 'special');
    var tail = options.stylize("</".concat(name, ">"), 'special');
    options.truncate -= name.length * 2 + 5;
    var propertyContents = '';

    if (properties.length > 0) {
      propertyContents += ' ';
      propertyContents += inspectList(properties.map(function (key) {
        return [key, element.getAttribute(key)];
      }), options, inspectAttribute, ' ');
    }

    options.truncate -= propertyContents.length;
    var truncate = options.truncate;
    var children = inspectHTMLCollection(element.children, options);

    if (children && children.length > truncate) {
      children = "".concat(truncator, "(").concat(element.children.length, ")");
    }

    return "".concat(head).concat(propertyContents).concat(headClose).concat(children).concat(tail);
  }

  var symbolsSupported = typeof Symbol === 'function' && typeof Symbol.for === 'function';
  var chaiInspect = symbolsSupported ? Symbol.for('chai/inspect') : '@@chai/inspect';
  var nodeInspect = false;

  try {
    // eslint-disable-next-line global-require
    var nodeUtil = __webpack_require__(/*! util */ "?0ac7");

    nodeInspect = nodeUtil.inspect ? nodeUtil.inspect.custom : false;
  } catch (noNodeInspect) {
    nodeInspect = false;
  }

  function FakeMap() {
    // eslint-disable-next-line prefer-template
    this.key = 'chai/loupe__' + Math.random() + Date.now();
  }

  FakeMap.prototype = {
    // eslint-disable-next-line object-shorthand
    get: function get(key) {
      return key[this.key];
    },
    // eslint-disable-next-line object-shorthand
    has: function has(key) {
      return this.key in key;
    },
    // eslint-disable-next-line object-shorthand
    set: function set(key, value) {
      if (Object.isExtensible(key)) {
        Object.defineProperty(key, this.key, {
          // eslint-disable-next-line object-shorthand
          value: value,
          configurable: true
        });
      }
    }
  };
  var constructorMap = new (typeof WeakMap === 'function' ? WeakMap : FakeMap)();
  var stringTagMap = {};
  var baseTypesMap = {
    undefined: function undefined$1(value, options) {
      return options.stylize('undefined', 'undefined');
    },
    null: function _null(value, options) {
      return options.stylize(null, 'null');
    },
    boolean: function boolean(value, options) {
      return options.stylize(value, 'boolean');
    },
    Boolean: function Boolean(value, options) {
      return options.stylize(value, 'boolean');
    },
    number: inspectNumber,
    Number: inspectNumber,
    bigint: inspectBigInt,
    BigInt: inspectBigInt,
    string: inspectString,
    String: inspectString,
    function: inspectFunction,
    Function: inspectFunction,
    symbol: inspectSymbol,
    // A Symbol polyfill will return `Symbol` not `symbol` from typedetect
    Symbol: inspectSymbol,
    Array: inspectArray,
    Date: inspectDate,
    Map: inspectMap,
    Set: inspectSet,
    RegExp: inspectRegExp,
    Promise: inspectPromise,
    // WeakSet, WeakMap are totally opaque to us
    WeakSet: function WeakSet(value, options) {
      return options.stylize('WeakSet{}', 'special');
    },
    WeakMap: function WeakMap(value, options) {
      return options.stylize('WeakMap{}', 'special');
    },
    Arguments: inspectArguments,
    Int8Array: inspectTypedArray,
    Uint8Array: inspectTypedArray,
    Uint8ClampedArray: inspectTypedArray,
    Int16Array: inspectTypedArray,
    Uint16Array: inspectTypedArray,
    Int32Array: inspectTypedArray,
    Uint32Array: inspectTypedArray,
    Float32Array: inspectTypedArray,
    Float64Array: inspectTypedArray,
    Generator: function Generator() {
      return '';
    },
    DataView: function DataView() {
      return '';
    },
    ArrayBuffer: function ArrayBuffer() {
      return '';
    },
    Error: inspectObject$1,
    HTMLCollection: inspectHTMLCollection,
    NodeList: inspectHTMLCollection
  }; // eslint-disable-next-line complexity

  var inspectCustom = function inspectCustom(value, options, type) {
    if (chaiInspect in value && typeof value[chaiInspect] === 'function') {
      return value[chaiInspect](options);
    }

    if (nodeInspect && nodeInspect in value && typeof value[nodeInspect] === 'function') {
      return value[nodeInspect](options.depth, options);
    }

    if ('inspect' in value && typeof value.inspect === 'function') {
      return value.inspect(options.depth, options);
    }

    if ('constructor' in value && constructorMap.has(value.constructor)) {
      return constructorMap.get(value.constructor)(value, options);
    }

    if (stringTagMap[type]) {
      return stringTagMap[type](value, options);
    }

    return '';
  };

  var toString$1 = Object.prototype.toString; // eslint-disable-next-line complexity

  function inspect(value, options) {
    options = normaliseOptions(options);
    options.inspect = inspect;
    var _options = options,
        customInspect = _options.customInspect;
    var type = value === null ? 'null' : _typeof(value);

    if (type === 'object') {
      type = toString$1.call(value).slice(8, -1);
    } // If it is a base value that we already support, then use Loupe's inspector


    if (baseTypesMap[type]) {
      return baseTypesMap[type](value, options);
    } // If `options.customInspect` is set to true then try to use the custom inspector


    if (customInspect && value) {
      var output = inspectCustom(value, options, type);

      if (output) {
        if (typeof output === 'string') return output;
        return inspect(output, options);
      }
    }

    var proto = value ? Object.getPrototypeOf(value) : false; // If it's a plain Object then use Loupe's inspector

    if (proto === Object.prototype || proto === null) {
      return inspectObject(value, options);
    } // Specifically account for HTMLElements
    // eslint-disable-next-line no-undef


    if (value && typeof HTMLElement === 'function' && value instanceof HTMLElement) {
      return inspectHTML(value, options);
    }

    if ('constructor' in value) {
      // If it is a class, inspect it like an object but add the constructor name
      if (value.constructor !== Object) {
        return inspectClass(value, options);
      } // If it is an object with an anonymous prototype, display it as an object.


      return inspectObject(value, options);
    } // last chance to check if it's an object


    if (value === Object(value)) {
      return inspectObject(value, options);
    } // We have run out of options! Just stringify the value


    return options.stylize(String(value), type);
  }
  function registerConstructor(constructor, inspector) {
    if (constructorMap.has(constructor)) {
      return false;
    }

    constructorMap.set(constructor, inspector);
    return true;
  }
  function registerStringTag(stringTag, inspector) {
    if (stringTag in stringTagMap) {
      return false;
    }

    stringTagMap[stringTag] = inspector;
    return true;
  }
  var custom = chaiInspect;

  exports.custom = custom;
  exports.default = inspect;
  exports.inspect = inspect;
  exports.registerConstructor = registerConstructor;
  exports.registerStringTag = registerStringTag;

  Object.defineProperty(exports, '__esModule', { value: true });

})));


/***/ }),

/***/ "./node_modules/pathval/index.js":
/*!***************************************!*\
  !*** ./node_modules/pathval/index.js ***!
  \***************************************/
/***/ ((module) => {

"use strict";


/* !
 * Chai - pathval utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * @see https://github.com/logicalparadox/filtr
 * MIT Licensed
 */

/**
 * ### .hasProperty(object, name)
 *
 * This allows checking whether an object has own
 * or inherited from prototype chain named property.
 *
 * Basically does the same thing as the `in`
 * operator but works properly with null/undefined values
 * and other primitives.
 *
 *     var obj = {
 *         arr: ['a', 'b', 'c']
 *       , str: 'Hello'
 *     }
 *
 * The following would be the results.
 *
 *     hasProperty(obj, 'str');  // true
 *     hasProperty(obj, 'constructor');  // true
 *     hasProperty(obj, 'bar');  // false
 *
 *     hasProperty(obj.str, 'length'); // true
 *     hasProperty(obj.str, 1);  // true
 *     hasProperty(obj.str, 5);  // false
 *
 *     hasProperty(obj.arr, 'length');  // true
 *     hasProperty(obj.arr, 2);  // true
 *     hasProperty(obj.arr, 3);  // false
 *
 * @param {Object} object
 * @param {String|Symbol} name
 * @returns {Boolean} whether it exists
 * @namespace Utils
 * @name hasProperty
 * @api public
 */

function hasProperty(obj, name) {
  if (typeof obj === 'undefined' || obj === null) {
    return false;
  }

  // The `in` operator does not work with primitives.
  return name in Object(obj);
}

/* !
 * ## parsePath(path)
 *
 * Helper function used to parse string object
 * paths. Use in conjunction with `internalGetPathValue`.
 *
 *      var parsed = parsePath('myobject.property.subprop');
 *
 * ### Paths:
 *
 * * Can be infinitely deep and nested.
 * * Arrays are also valid using the formal `myobject.document[3].property`.
 * * Literal dots and brackets (not delimiter) must be backslash-escaped.
 *
 * @param {String} path
 * @returns {Object} parsed
 * @api private
 */

function parsePath(path) {
  var str = path.replace(/([^\\])\[/g, '$1.[');
  var parts = str.match(/(\\\.|[^.]+?)+/g);
  return parts.map(function mapMatches(value) {
    if (
      value === 'constructor' ||
      value === '__proto__' ||
      value === 'prototype'
    ) {
      return {};
    }
    var regexp = /^\[(\d+)\]$/;
    var mArr = regexp.exec(value);
    var parsed = null;
    if (mArr) {
      parsed = { i: parseFloat(mArr[1]) };
    } else {
      parsed = { p: value.replace(/\\([.[\]])/g, '$1') };
    }

    return parsed;
  });
}

/* !
 * ## internalGetPathValue(obj, parsed[, pathDepth])
 *
 * Helper companion function for `.parsePath` that returns
 * the value located at the parsed address.
 *
 *      var value = getPathValue(obj, parsed);
 *
 * @param {Object} object to search against
 * @param {Object} parsed definition from `parsePath`.
 * @param {Number} depth (nesting level) of the property we want to retrieve
 * @returns {Object|Undefined} value
 * @api private
 */

function internalGetPathValue(obj, parsed, pathDepth) {
  var temporaryValue = obj;
  var res = null;
  pathDepth = typeof pathDepth === 'undefined' ? parsed.length : pathDepth;

  for (var i = 0; i < pathDepth; i++) {
    var part = parsed[i];
    if (temporaryValue) {
      if (typeof part.p === 'undefined') {
        temporaryValue = temporaryValue[part.i];
      } else {
        temporaryValue = temporaryValue[part.p];
      }

      if (i === pathDepth - 1) {
        res = temporaryValue;
      }
    }
  }

  return res;
}

/* !
 * ## internalSetPathValue(obj, value, parsed)
 *
 * Companion function for `parsePath` that sets
 * the value located at a parsed address.
 *
 *  internalSetPathValue(obj, 'value', parsed);
 *
 * @param {Object} object to search and define on
 * @param {*} value to use upon set
 * @param {Object} parsed definition from `parsePath`
 * @api private
 */

function internalSetPathValue(obj, val, parsed) {
  var tempObj = obj;
  var pathDepth = parsed.length;
  var part = null;
  // Here we iterate through every part of the path
  for (var i = 0; i < pathDepth; i++) {
    var propName = null;
    var propVal = null;
    part = parsed[i];

    // If it's the last part of the path, we set the 'propName' value with the property name
    if (i === pathDepth - 1) {
      propName = typeof part.p === 'undefined' ? part.i : part.p;
      // Now we set the property with the name held by 'propName' on object with the desired val
      tempObj[propName] = val;
    } else if (typeof part.p !== 'undefined' && tempObj[part.p]) {
      tempObj = tempObj[part.p];
    } else if (typeof part.i !== 'undefined' && tempObj[part.i]) {
      tempObj = tempObj[part.i];
    } else {
      // If the obj doesn't have the property we create one with that name to define it
      var next = parsed[i + 1];
      // Here we set the name of the property which will be defined
      propName = typeof part.p === 'undefined' ? part.i : part.p;
      // Here we decide if this property will be an array or a new object
      propVal = typeof next.p === 'undefined' ? [] : {};
      tempObj[propName] = propVal;
      tempObj = tempObj[propName];
    }
  }
}

/**
 * ### .getPathInfo(object, path)
 *
 * This allows the retrieval of property info in an
 * object given a string path.
 *
 * The path info consists of an object with the
 * following properties:
 *
 * * parent - The parent object of the property referenced by `path`
 * * name - The name of the final property, a number if it was an array indexer
 * * value - The value of the property, if it exists, otherwise `undefined`
 * * exists - Whether the property exists or not
 *
 * @param {Object} object
 * @param {String} path
 * @returns {Object} info
 * @namespace Utils
 * @name getPathInfo
 * @api public
 */

function getPathInfo(obj, path) {
  var parsed = parsePath(path);
  var last = parsed[parsed.length - 1];
  var info = {
    parent:
      parsed.length > 1 ?
        internalGetPathValue(obj, parsed, parsed.length - 1) :
        obj,
    name: last.p || last.i,
    value: internalGetPathValue(obj, parsed),
  };
  info.exists = hasProperty(info.parent, info.name);

  return info;
}

/**
 * ### .getPathValue(object, path)
 *
 * This allows the retrieval of values in an
 * object given a string path.
 *
 *     var obj = {
 *         prop1: {
 *             arr: ['a', 'b', 'c']
 *           , str: 'Hello'
 *         }
 *       , prop2: {
 *             arr: [ { nested: 'Universe' } ]
 *           , str: 'Hello again!'
 *         }
 *     }
 *
 * The following would be the results.
 *
 *     getPathValue(obj, 'prop1.str'); // Hello
 *     getPathValue(obj, 'prop1.att[2]'); // b
 *     getPathValue(obj, 'prop2.arr[0].nested'); // Universe
 *
 * @param {Object} object
 * @param {String} path
 * @returns {Object} value or `undefined`
 * @namespace Utils
 * @name getPathValue
 * @api public
 */

function getPathValue(obj, path) {
  var info = getPathInfo(obj, path);
  return info.value;
}

/**
 * ### .setPathValue(object, path, value)
 *
 * Define the value in an object at a given string path.
 *
 * ```js
 * var obj = {
 *     prop1: {
 *         arr: ['a', 'b', 'c']
 *       , str: 'Hello'
 *     }
 *   , prop2: {
 *         arr: [ { nested: 'Universe' } ]
 *       , str: 'Hello again!'
 *     }
 * };
 * ```
 *
 * The following would be acceptable.
 *
 * ```js
 * var properties = require('tea-properties');
 * properties.set(obj, 'prop1.str', 'Hello Universe!');
 * properties.set(obj, 'prop1.arr[2]', 'B');
 * properties.set(obj, 'prop2.arr[0].nested.value', { hello: 'universe' });
 * ```
 *
 * @param {Object} object
 * @param {String} path
 * @param {Mixed} value
 * @api private
 */

function setPathValue(obj, path, val) {
  var parsed = parsePath(path);
  internalSetPathValue(obj, val, parsed);
  return obj;
}

module.exports = {
  hasProperty: hasProperty,
  getPathInfo: getPathInfo,
  getPathValue: getPathValue,
  setPathValue: setPathValue,
};


/***/ }),

/***/ "./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js":
/*!*************************************************************************!*\
  !*** ./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * A collection of shims that provide minimal functionality of the ES6 collections.
 *
 * These implementations are not meant to be used outside of the ResizeObserver
 * modules as they cover only a limited range of use cases.
 */
/* eslint-disable require-jsdoc, valid-jsdoc */
var MapShim = (function () {
    if (typeof Map !== 'undefined') {
        return Map;
    }
    /**
     * Returns index in provided array that matches the specified key.
     *
     * @param {Array<Array>} arr
     * @param {*} key
     * @returns {number}
     */
    function getIndex(arr, key) {
        var result = -1;
        arr.some(function (entry, index) {
            if (entry[0] === key) {
                result = index;
                return true;
            }
            return false;
        });
        return result;
    }
    return /** @class */ (function () {
        function class_1() {
            this.__entries__ = [];
        }
        Object.defineProperty(class_1.prototype, "size", {
            /**
             * @returns {boolean}
             */
            get: function () {
                return this.__entries__.length;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {*} key
         * @returns {*}
         */
        class_1.prototype.get = function (key) {
            var index = getIndex(this.__entries__, key);
            var entry = this.__entries__[index];
            return entry && entry[1];
        };
        /**
         * @param {*} key
         * @param {*} value
         * @returns {void}
         */
        class_1.prototype.set = function (key, value) {
            var index = getIndex(this.__entries__, key);
            if (~index) {
                this.__entries__[index][1] = value;
            }
            else {
                this.__entries__.push([key, value]);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.delete = function (key) {
            var entries = this.__entries__;
            var index = getIndex(entries, key);
            if (~index) {
                entries.splice(index, 1);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.has = function (key) {
            return !!~getIndex(this.__entries__, key);
        };
        /**
         * @returns {void}
         */
        class_1.prototype.clear = function () {
            this.__entries__.splice(0);
        };
        /**
         * @param {Function} callback
         * @param {*} [ctx=null]
         * @returns {void}
         */
        class_1.prototype.forEach = function (callback, ctx) {
            if (ctx === void 0) { ctx = null; }
            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {
                var entry = _a[_i];
                callback.call(ctx, entry[1], entry[0]);
            }
        };
        return class_1;
    }());
})();

/**
 * Detects whether window and document objects are available in current environment.
 */
var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;

// Returns global object of a current environment.
var global$1 = (function () {
    if (typeof __webpack_require__.g !== 'undefined' && __webpack_require__.g.Math === Math) {
        return __webpack_require__.g;
    }
    if (typeof self !== 'undefined' && self.Math === Math) {
        return self;
    }
    if (typeof window !== 'undefined' && window.Math === Math) {
        return window;
    }
    // eslint-disable-next-line no-new-func
    return Function('return this')();
})();

/**
 * A shim for the requestAnimationFrame which falls back to the setTimeout if
 * first one is not supported.
 *
 * @returns {number} Requests' identifier.
 */
var requestAnimationFrame$1 = (function () {
    if (typeof requestAnimationFrame === 'function') {
        // It's required to use a bounded function because IE sometimes throws
        // an "Invalid calling object" error if rAF is invoked without the global
        // object on the left hand side.
        return requestAnimationFrame.bind(global$1);
    }
    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };
})();

// Defines minimum timeout before adding a trailing call.
var trailingTimeout = 2;
/**
 * Creates a wrapper function which ensures that provided callback will be
 * invoked only once during the specified delay period.
 *
 * @param {Function} callback - Function to be invoked after the delay period.
 * @param {number} delay - Delay after which to invoke callback.
 * @returns {Function}
 */
function throttle (callback, delay) {
    var leadingCall = false, trailingCall = false, lastCallTime = 0;
    /**
     * Invokes the original callback function and schedules new invocation if
     * the "proxy" was called during current request.
     *
     * @returns {void}
     */
    function resolvePending() {
        if (leadingCall) {
            leadingCall = false;
            callback();
        }
        if (trailingCall) {
            proxy();
        }
    }
    /**
     * Callback invoked after the specified delay. It will further postpone
     * invocation of the original function delegating it to the
     * requestAnimationFrame.
     *
     * @returns {void}
     */
    function timeoutCallback() {
        requestAnimationFrame$1(resolvePending);
    }
    /**
     * Schedules invocation of the original function.
     *
     * @returns {void}
     */
    function proxy() {
        var timeStamp = Date.now();
        if (leadingCall) {
            // Reject immediately following calls.
            if (timeStamp - lastCallTime < trailingTimeout) {
                return;
            }
            // Schedule new call to be in invoked when the pending one is resolved.
            // This is important for "transitions" which never actually start
            // immediately so there is a chance that we might miss one if change
            // happens amids the pending invocation.
            trailingCall = true;
        }
        else {
            leadingCall = true;
            trailingCall = false;
            setTimeout(timeoutCallback, delay);
        }
        lastCallTime = timeStamp;
    }
    return proxy;
}

// Minimum delay before invoking the update of observers.
var REFRESH_DELAY = 20;
// A list of substrings of CSS properties used to find transition events that
// might affect dimensions of observed elements.
var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];
// Check if MutationObserver is available.
var mutationObserverSupported = typeof MutationObserver !== 'undefined';
/**
 * Singleton controller class which handles updates of ResizeObserver instances.
 */
var ResizeObserverController = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserverController.
     *
     * @private
     */
    function ResizeObserverController() {
        /**
         * Indicates whether DOM listeners have been added.
         *
         * @private {boolean}
         */
        this.connected_ = false;
        /**
         * Tells that controller has subscribed for Mutation Events.
         *
         * @private {boolean}
         */
        this.mutationEventsAdded_ = false;
        /**
         * Keeps reference to the instance of MutationObserver.
         *
         * @private {MutationObserver}
         */
        this.mutationsObserver_ = null;
        /**
         * A list of connected observers.
         *
         * @private {Array<ResizeObserverSPI>}
         */
        this.observers_ = [];
        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);
        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    /**
     * Adds observer to observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be added.
     * @returns {void}
     */
    ResizeObserverController.prototype.addObserver = function (observer) {
        if (!~this.observers_.indexOf(observer)) {
            this.observers_.push(observer);
        }
        // Add listeners if they haven't been added yet.
        if (!this.connected_) {
            this.connect_();
        }
    };
    /**
     * Removes observer from observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be removed.
     * @returns {void}
     */
    ResizeObserverController.prototype.removeObserver = function (observer) {
        var observers = this.observers_;
        var index = observers.indexOf(observer);
        // Remove observer if it's present in registry.
        if (~index) {
            observers.splice(index, 1);
        }
        // Remove listeners if controller has no connected observers.
        if (!observers.length && this.connected_) {
            this.disconnect_();
        }
    };
    /**
     * Invokes the update of observers. It will continue running updates insofar
     * it detects changes.
     *
     * @returns {void}
     */
    ResizeObserverController.prototype.refresh = function () {
        var changesDetected = this.updateObservers_();
        // Continue running updates if changes have been detected as there might
        // be future ones caused by CSS transitions.
        if (changesDetected) {
            this.refresh();
        }
    };
    /**
     * Updates every observer from observers list and notifies them of queued
     * entries.
     *
     * @private
     * @returns {boolean} Returns "true" if any observer has detected changes in
     *      dimensions of it's elements.
     */
    ResizeObserverController.prototype.updateObservers_ = function () {
        // Collect observers that have active observations.
        var activeObservers = this.observers_.filter(function (observer) {
            return observer.gatherActive(), observer.hasActive();
        });
        // Deliver notifications in a separate cycle in order to avoid any
        // collisions between observers, e.g. when multiple instances of
        // ResizeObserver are tracking the same element and the callback of one
        // of them changes content dimensions of the observed target. Sometimes
        // this may result in notifications being blocked for the rest of observers.
        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });
        return activeObservers.length > 0;
    };
    /**
     * Initializes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.connect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already added.
        if (!isBrowser || this.connected_) {
            return;
        }
        // Subscription to the "Transitionend" event is used as a workaround for
        // delayed transitions. This way it's possible to capture at least the
        // final state of an element.
        document.addEventListener('transitionend', this.onTransitionEnd_);
        window.addEventListener('resize', this.refresh);
        if (mutationObserverSupported) {
            this.mutationsObserver_ = new MutationObserver(this.refresh);
            this.mutationsObserver_.observe(document, {
                attributes: true,
                childList: true,
                characterData: true,
                subtree: true
            });
        }
        else {
            document.addEventListener('DOMSubtreeModified', this.refresh);
            this.mutationEventsAdded_ = true;
        }
        this.connected_ = true;
    };
    /**
     * Removes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.disconnect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already removed.
        if (!isBrowser || !this.connected_) {
            return;
        }
        document.removeEventListener('transitionend', this.onTransitionEnd_);
        window.removeEventListener('resize', this.refresh);
        if (this.mutationsObserver_) {
            this.mutationsObserver_.disconnect();
        }
        if (this.mutationEventsAdded_) {
            document.removeEventListener('DOMSubtreeModified', this.refresh);
        }
        this.mutationsObserver_ = null;
        this.mutationEventsAdded_ = false;
        this.connected_ = false;
    };
    /**
     * "Transitionend" event handler.
     *
     * @private
     * @param {TransitionEvent} event
     * @returns {void}
     */
    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {
        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;
        // Detect whether transition may affect dimensions of an element.
        var isReflowProperty = transitionKeys.some(function (key) {
            return !!~propertyName.indexOf(key);
        });
        if (isReflowProperty) {
            this.refresh();
        }
    };
    /**
     * Returns instance of the ResizeObserverController.
     *
     * @returns {ResizeObserverController}
     */
    ResizeObserverController.getInstance = function () {
        if (!this.instance_) {
            this.instance_ = new ResizeObserverController();
        }
        return this.instance_;
    };
    /**
     * Holds reference to the controller's instance.
     *
     * @private {ResizeObserverController}
     */
    ResizeObserverController.instance_ = null;
    return ResizeObserverController;
}());

/**
 * Defines non-writable/enumerable properties of the provided target object.
 *
 * @param {Object} target - Object for which to define properties.
 * @param {Object} props - Properties to be defined.
 * @returns {Object} Target object.
 */
var defineConfigurable = (function (target, props) {
    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
        var key = _a[_i];
        Object.defineProperty(target, key, {
            value: props[key],
            enumerable: false,
            writable: false,
            configurable: true
        });
    }
    return target;
});

/**
 * Returns the global object associated with provided element.
 *
 * @param {Object} target
 * @returns {Object}
 */
var getWindowOf = (function (target) {
    // Assume that the element is an instance of Node, which means that it
    // has the "ownerDocument" property from which we can retrieve a
    // corresponding global object.
    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;
    // Return the local global object if it's not possible extract one from
    // provided element.
    return ownerGlobal || global$1;
});

// Placeholder of an empty content rectangle.
var emptyRect = createRectInit(0, 0, 0, 0);
/**
 * Converts provided string to a number.
 *
 * @param {number|string} value
 * @returns {number}
 */
function toFloat(value) {
    return parseFloat(value) || 0;
}
/**
 * Extracts borders size from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @param {...string} positions - Borders positions (top, right, ...)
 * @returns {number}
 */
function getBordersSize(styles) {
    var positions = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        positions[_i - 1] = arguments[_i];
    }
    return positions.reduce(function (size, position) {
        var value = styles['border-' + position + '-width'];
        return size + toFloat(value);
    }, 0);
}
/**
 * Extracts paddings sizes from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @returns {Object} Paddings box.
 */
function getPaddings(styles) {
    var positions = ['top', 'right', 'bottom', 'left'];
    var paddings = {};
    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {
        var position = positions_1[_i];
        var value = styles['padding-' + position];
        paddings[position] = toFloat(value);
    }
    return paddings;
}
/**
 * Calculates content rectangle of provided SVG element.
 *
 * @param {SVGGraphicsElement} target - Element content rectangle of which needs
 *      to be calculated.
 * @returns {DOMRectInit}
 */
function getSVGContentRect(target) {
    var bbox = target.getBBox();
    return createRectInit(0, 0, bbox.width, bbox.height);
}
/**
 * Calculates content rectangle of provided HTMLElement.
 *
 * @param {HTMLElement} target - Element for which to calculate the content rectangle.
 * @returns {DOMRectInit}
 */
function getHTMLElementContentRect(target) {
    // Client width & height properties can't be
    // used exclusively as they provide rounded values.
    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
    // By this condition we can catch all non-replaced inline, hidden and
    // detached elements. Though elements with width & height properties less
    // than 0.5 will be discarded as well.
    //
    // Without it we would need to implement separate methods for each of
    // those cases and it's not possible to perform a precise and performance
    // effective test for hidden elements. E.g. even jQuery's ':visible' filter
    // gives wrong results for elements with width & height less than 0.5.
    if (!clientWidth && !clientHeight) {
        return emptyRect;
    }
    var styles = getWindowOf(target).getComputedStyle(target);
    var paddings = getPaddings(styles);
    var horizPad = paddings.left + paddings.right;
    var vertPad = paddings.top + paddings.bottom;
    // Computed styles of width & height are being used because they are the
    // only dimensions available to JS that contain non-rounded values. It could
    // be possible to utilize the getBoundingClientRect if only it's data wasn't
    // affected by CSS transformations let alone paddings, borders and scroll bars.
    var width = toFloat(styles.width), height = toFloat(styles.height);
    // Width & height include paddings and borders when the 'border-box' box
    // model is applied (except for IE).
    if (styles.boxSizing === 'border-box') {
        // Following conditions are required to handle Internet Explorer which
        // doesn't include paddings and borders to computed CSS dimensions.
        //
        // We can say that if CSS dimensions + paddings are equal to the "client"
        // properties then it's either IE, and thus we don't need to subtract
        // anything, or an element merely doesn't have paddings/borders styles.
        if (Math.round(width + horizPad) !== clientWidth) {
            width -= getBordersSize(styles, 'left', 'right') + horizPad;
        }
        if (Math.round(height + vertPad) !== clientHeight) {
            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;
        }
    }
    // Following steps can't be applied to the document's root element as its
    // client[Width/Height] properties represent viewport area of the window.
    // Besides, it's as well not necessary as the <html> itself neither has
    // rendered scroll bars nor it can be clipped.
    if (!isDocumentElement(target)) {
        // In some browsers (only in Firefox, actually) CSS width & height
        // include scroll bars size which can be removed at this step as scroll
        // bars are the only difference between rounded dimensions + paddings
        // and "client" properties, though that is not always true in Chrome.
        var vertScrollbar = Math.round(width + horizPad) - clientWidth;
        var horizScrollbar = Math.round(height + vertPad) - clientHeight;
        // Chrome has a rather weird rounding of "client" properties.
        // E.g. for an element with content width of 314.2px it sometimes gives
        // the client width of 315px and for the width of 314.7px it may give
        // 314px. And it doesn't happen all the time. So just ignore this delta
        // as a non-relevant.
        if (Math.abs(vertScrollbar) !== 1) {
            width -= vertScrollbar;
        }
        if (Math.abs(horizScrollbar) !== 1) {
            height -= horizScrollbar;
        }
    }
    return createRectInit(paddings.left, paddings.top, width, height);
}
/**
 * Checks whether provided element is an instance of the SVGGraphicsElement.
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
var isSVGGraphicsElement = (function () {
    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement
    // interface.
    if (typeof SVGGraphicsElement !== 'undefined') {
        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };
    }
    // If it's so, then check that element is at least an instance of the
    // SVGElement and that it has the "getBBox" method.
    // eslint-disable-next-line no-extra-parens
    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&
        typeof target.getBBox === 'function'); };
})();
/**
 * Checks whether provided element is a document element (<html>).
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
function isDocumentElement(target) {
    return target === getWindowOf(target).document.documentElement;
}
/**
 * Calculates an appropriate content rectangle for provided html or svg element.
 *
 * @param {Element} target - Element content rectangle of which needs to be calculated.
 * @returns {DOMRectInit}
 */
function getContentRect(target) {
    if (!isBrowser) {
        return emptyRect;
    }
    if (isSVGGraphicsElement(target)) {
        return getSVGContentRect(target);
    }
    return getHTMLElementContentRect(target);
}
/**
 * Creates rectangle with an interface of the DOMRectReadOnly.
 * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly
 *
 * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.
 * @returns {DOMRectReadOnly}
 */
function createReadOnlyRect(_a) {
    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;
    // If DOMRectReadOnly is available use it as a prototype for the rectangle.
    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;
    var rect = Object.create(Constr.prototype);
    // Rectangle's properties are not writable and non-enumerable.
    defineConfigurable(rect, {
        x: x, y: y, width: width, height: height,
        top: y,
        right: x + width,
        bottom: height + y,
        left: x
    });
    return rect;
}
/**
 * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.
 * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit
 *
 * @param {number} x - X coordinate.
 * @param {number} y - Y coordinate.
 * @param {number} width - Rectangle's width.
 * @param {number} height - Rectangle's height.
 * @returns {DOMRectInit}
 */
function createRectInit(x, y, width, height) {
    return { x: x, y: y, width: width, height: height };
}

/**
 * Class that is responsible for computations of the content rectangle of
 * provided DOM element and for keeping track of it's changes.
 */
var ResizeObservation = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObservation.
     *
     * @param {Element} target - Element to be observed.
     */
    function ResizeObservation(target) {
        /**
         * Broadcasted width of content rectangle.
         *
         * @type {number}
         */
        this.broadcastWidth = 0;
        /**
         * Broadcasted height of content rectangle.
         *
         * @type {number}
         */
        this.broadcastHeight = 0;
        /**
         * Reference to the last observed content rectangle.
         *
         * @private {DOMRectInit}
         */
        this.contentRect_ = createRectInit(0, 0, 0, 0);
        this.target = target;
    }
    /**
     * Updates content rectangle and tells whether it's width or height properties
     * have changed since the last broadcast.
     *
     * @returns {boolean}
     */
    ResizeObservation.prototype.isActive = function () {
        var rect = getContentRect(this.target);
        this.contentRect_ = rect;
        return (rect.width !== this.broadcastWidth ||
            rect.height !== this.broadcastHeight);
    };
    /**
     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data
     * from the corresponding properties of the last observed content rectangle.
     *
     * @returns {DOMRectInit} Last observed content rectangle.
     */
    ResizeObservation.prototype.broadcastRect = function () {
        var rect = this.contentRect_;
        this.broadcastWidth = rect.width;
        this.broadcastHeight = rect.height;
        return rect;
    };
    return ResizeObservation;
}());

var ResizeObserverEntry = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObserverEntry.
     *
     * @param {Element} target - Element that is being observed.
     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.
     */
    function ResizeObserverEntry(target, rectInit) {
        var contentRect = createReadOnlyRect(rectInit);
        // According to the specification following properties are not writable
        // and are also not enumerable in the native implementation.
        //
        // Property accessors are not being used as they'd require to define a
        // private WeakMap storage which may cause memory leaks in browsers that
        // don't support this type of collections.
        defineConfigurable(this, { target: target, contentRect: contentRect });
    }
    return ResizeObserverEntry;
}());

var ResizeObserverSPI = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback function that is invoked
     *      when one of the observed elements changes it's content dimensions.
     * @param {ResizeObserverController} controller - Controller instance which
     *      is responsible for the updates of observer.
     * @param {ResizeObserver} callbackCtx - Reference to the public
     *      ResizeObserver instance which will be passed to callback function.
     */
    function ResizeObserverSPI(callback, controller, callbackCtx) {
        /**
         * Collection of resize observations that have detected changes in dimensions
         * of elements.
         *
         * @private {Array<ResizeObservation>}
         */
        this.activeObservations_ = [];
        /**
         * Registry of the ResizeObservation instances.
         *
         * @private {Map<Element, ResizeObservation>}
         */
        this.observations_ = new MapShim();
        if (typeof callback !== 'function') {
            throw new TypeError('The callback provided as parameter 1 is not a function.');
        }
        this.callback_ = callback;
        this.controller_ = controller;
        this.callbackCtx_ = callbackCtx;
    }
    /**
     * Starts observing provided element.
     *
     * @param {Element} target - Element to be observed.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.observe = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is already being observed.
        if (observations.has(target)) {
            return;
        }
        observations.set(target, new ResizeObservation(target));
        this.controller_.addObserver(this);
        // Force the update of observations.
        this.controller_.refresh();
    };
    /**
     * Stops observing provided element.
     *
     * @param {Element} target - Element to stop observing.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.unobserve = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is not being observed.
        if (!observations.has(target)) {
            return;
        }
        observations.delete(target);
        if (!observations.size) {
            this.controller_.removeObserver(this);
        }
    };
    /**
     * Stops observing all elements.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.disconnect = function () {
        this.clearActive();
        this.observations_.clear();
        this.controller_.removeObserver(this);
    };
    /**
     * Collects observation instances the associated element of which has changed
     * it's content rectangle.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.gatherActive = function () {
        var _this = this;
        this.clearActive();
        this.observations_.forEach(function (observation) {
            if (observation.isActive()) {
                _this.activeObservations_.push(observation);
            }
        });
    };
    /**
     * Invokes initial callback function with a list of ResizeObserverEntry
     * instances collected from active resize observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.broadcastActive = function () {
        // Do nothing if observer doesn't have active observations.
        if (!this.hasActive()) {
            return;
        }
        var ctx = this.callbackCtx_;
        // Create ResizeObserverEntry instance for every active observation.
        var entries = this.activeObservations_.map(function (observation) {
            return new ResizeObserverEntry(observation.target, observation.broadcastRect());
        });
        this.callback_.call(ctx, entries, ctx);
        this.clearActive();
    };
    /**
     * Clears the collection of active observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.clearActive = function () {
        this.activeObservations_.splice(0);
    };
    /**
     * Tells whether observer has active observations.
     *
     * @returns {boolean}
     */
    ResizeObserverSPI.prototype.hasActive = function () {
        return this.activeObservations_.length > 0;
    };
    return ResizeObserverSPI;
}());

// Registry of internal observers. If WeakMap is not available use current shim
// for the Map collection as it has all required methods and because WeakMap
// can't be fully polyfilled anyway.
var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();
/**
 * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation
 * exposing only those methods and properties that are defined in the spec.
 */
var ResizeObserver = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback that is invoked when
     *      dimensions of the observed elements change.
     */
    function ResizeObserver(callback) {
        if (!(this instanceof ResizeObserver)) {
            throw new TypeError('Cannot call a class as a function.');
        }
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        var controller = ResizeObserverController.getInstance();
        var observer = new ResizeObserverSPI(callback, controller, this);
        observers.set(this, observer);
    }
    return ResizeObserver;
}());
// Expose public methods of ResizeObserver.
[
    'observe',
    'unobserve',
    'disconnect'
].forEach(function (method) {
    ResizeObserver.prototype[method] = function () {
        var _a;
        return (_a = observers.get(this))[method].apply(_a, arguments);
    };
});

var index = (function () {
    // Export existing implementation if available.
    if (typeof global$1.ResizeObserver !== 'undefined') {
        return global$1.ResizeObserver;
    }
    return ResizeObserver;
})();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);


/***/ }),

/***/ "./lib/controls/coder.scss":
/*!*********************************!*\
  !*** ./lib/controls/coder.scss ***!
  \*********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_coder_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./coder.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/coder.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_coder_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_coder_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_coder_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_coder_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/controls/panel.scss":
/*!*********************************!*\
  !*** ./lib/controls/panel.scss ***!
  \*********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_panel_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./panel.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/panel.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_panel_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_panel_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_panel_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_panel_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/controls/picker.scss":
/*!**********************************!*\
  !*** ./lib/controls/picker.scss ***!
  \**********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_picker_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./picker.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/picker.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_picker_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_picker_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_picker_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_picker_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/controls/searcher.scss":
/*!************************************!*\
  !*** ./lib/controls/searcher.scss ***!
  \************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_searcher_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./searcher.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/searcher.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_searcher_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_searcher_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_searcher_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_searcher_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/controls/switch.scss":
/*!**********************************!*\
  !*** ./lib/controls/switch.scss ***!
  \**********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_switch_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./switch.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/controls/switch.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_switch_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_switch_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_switch_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_switch_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/forman.scss":
/*!*************************!*\
  !*** ./lib/forman.scss ***!
  \*************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_forman_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./forman.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/forman.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_forman_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_forman_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_forman_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_forman_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/inputs/account.scss":
/*!*********************************!*\
  !*** ./lib/inputs/account.scss ***!
  \*********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_account_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./account.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/account.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_account_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_account_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_account_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_account_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/inputs/range.scss":
/*!*******************************!*\
  !*** ./lib/inputs/range.scss ***!
  \*******************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_range_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./range.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/range.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_range_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_range_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_range_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_range_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./lib/inputs/scenario.scss":
/*!**********************************!*\
  !*** ./lib/inputs/scenario.scss ***!
  \**********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_scenario_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./scenario.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[0].use[3]!./lib/inputs/scenario.scss");











var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");

options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_scenario_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_scenario_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_scenario_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_0_use_3_scenario_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./node_modules/type-detect/type-detect.js":
/*!*************************************************!*\
  !*** ./node_modules/type-detect/type-detect.js ***!
  \*************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

(function (global, factory) {
	 true ? module.exports = factory() :
	0;
}(this, (function () { 'use strict';

/* !
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var promiseExists = typeof Promise === 'function';

/* eslint-disable no-undef */
var globalObject = typeof self === 'object' ? self : __webpack_require__.g; // eslint-disable-line id-blacklist

var symbolExists = typeof Symbol !== 'undefined';
var mapExists = typeof Map !== 'undefined';
var setExists = typeof Set !== 'undefined';
var weakMapExists = typeof WeakMap !== 'undefined';
var weakSetExists = typeof WeakSet !== 'undefined';
var dataViewExists = typeof DataView !== 'undefined';
var symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';
var symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';
var setEntriesExists = setExists && typeof Set.prototype.entries === 'function';
var mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';
var setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());
var mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());
var arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';
var arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());
var stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';
var stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());
var toStringLeftSliceLength = 8;
var toStringRightSliceLength = -1;
/**
 * ### typeOf (obj)
 *
 * Uses `Object.prototype.toString` to determine the type of an object,
 * normalising behaviour across engine versions & well optimised.
 *
 * @param {Mixed} object
 * @return {String} object type
 * @api public
 */
function typeDetect(obj) {
  /* ! Speed optimisation
   * Pre:
   *   string literal     x 3,039,035 ops/sec 1.62% (78 runs sampled)
   *   boolean literal    x 1,424,138 ops/sec 4.54% (75 runs sampled)
   *   number literal     x 1,653,153 ops/sec 1.91% (82 runs sampled)
   *   undefined          x 9,978,660 ops/sec 1.92% (75 runs sampled)
   *   function           x 2,556,769 ops/sec 1.73% (77 runs sampled)
   * Post:
   *   string literal     x 38,564,796 ops/sec 1.15% (79 runs sampled)
   *   boolean literal    x 31,148,940 ops/sec 1.10% (79 runs sampled)
   *   number literal     x 32,679,330 ops/sec 1.90% (78 runs sampled)
   *   undefined          x 32,363,368 ops/sec 1.07% (82 runs sampled)
   *   function           x 31,296,870 ops/sec 0.96% (83 runs sampled)
   */
  var typeofObj = typeof obj;
  if (typeofObj !== 'object') {
    return typeofObj;
  }

  /* ! Speed optimisation
   * Pre:
   *   null               x 28,645,765 ops/sec 1.17% (82 runs sampled)
   * Post:
   *   null               x 36,428,962 ops/sec 1.37% (84 runs sampled)
   */
  if (obj === null) {
    return 'null';
  }

  /* ! Spec Conformance
   * Test: `Object.prototype.toString.call(window)``
   *  - Node === "[object global]"
   *  - Chrome === "[object global]"
   *  - Firefox === "[object Window]"
   *  - PhantomJS === "[object Window]"
   *  - Safari === "[object Window]"
   *  - IE 11 === "[object Window]"
   *  - IE Edge === "[object Window]"
   * Test: `Object.prototype.toString.call(this)``
   *  - Chrome Worker === "[object global]"
   *  - Firefox Worker === "[object DedicatedWorkerGlobalScope]"
   *  - Safari Worker === "[object DedicatedWorkerGlobalScope]"
   *  - IE 11 Worker === "[object WorkerGlobalScope]"
   *  - IE Edge Worker === "[object WorkerGlobalScope]"
   */
  if (obj === globalObject) {
    return 'global';
  }

  /* ! Speed optimisation
   * Pre:
   *   array literal      x 2,888,352 ops/sec 0.67% (82 runs sampled)
   * Post:
   *   array literal      x 22,479,650 ops/sec 0.96% (81 runs sampled)
   */
  if (
    Array.isArray(obj) &&
    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))
  ) {
    return 'Array';
  }

  // Not caching existence of `window` and related properties due to potential
  // for `window` to be unset before tests in quasi-browser environments.
  if (typeof window === 'object' && window !== null) {
    /* ! Spec Conformance
     * (https://html.spec.whatwg.org/multipage/browsers.html#location)
     * WhatWG HTML$7.7.3 - The `Location` interface
     * Test: `Object.prototype.toString.call(window.location)``
     *  - IE <=11 === "[object Object]"
     *  - IE Edge <=13 === "[object Object]"
     */
    if (typeof window.location === 'object' && obj === window.location) {
      return 'Location';
    }

    /* ! Spec Conformance
     * (https://html.spec.whatwg.org/#document)
     * WhatWG HTML$3.1.1 - The `Document` object
     * Note: Most browsers currently adher to the W3C DOM Level 2 spec
     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)
     *       which suggests that browsers should use HTMLTableCellElement for
     *       both TD and TH elements. WhatWG separates these.
     *       WhatWG HTML states:
     *         > For historical reasons, Window objects must also have a
     *         > writable, configurable, non-enumerable property named
     *         > HTMLDocument whose value is the Document interface object.
     * Test: `Object.prototype.toString.call(document)``
     *  - Chrome === "[object HTMLDocument]"
     *  - Firefox === "[object HTMLDocument]"
     *  - Safari === "[object HTMLDocument]"
     *  - IE <=10 === "[object Document]"
     *  - IE 11 === "[object HTMLDocument]"
     *  - IE Edge <=13 === "[object HTMLDocument]"
     */
    if (typeof window.document === 'object' && obj === window.document) {
      return 'Document';
    }

    if (typeof window.navigator === 'object') {
      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)
       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray
       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``
       *  - IE <=10 === "[object MSMimeTypesCollection]"
       */
      if (typeof window.navigator.mimeTypes === 'object' &&
          obj === window.navigator.mimeTypes) {
        return 'MimeTypeArray';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)
       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray
       * Test: `Object.prototype.toString.call(navigator.plugins)``
       *  - IE <=10 === "[object MSPluginsCollection]"
       */
      if (typeof window.navigator.plugins === 'object' &&
          obj === window.navigator.plugins) {
        return 'PluginArray';
      }
    }

    if ((typeof window.HTMLElement === 'function' ||
        typeof window.HTMLElement === 'object') &&
        obj instanceof window.HTMLElement) {
      /* ! Spec Conformance
      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)
      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`
      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``
      *  - IE <=10 === "[object HTMLBlockElement]"
      */
      if (obj.tagName === 'BLOCKQUOTE') {
        return 'HTMLQuoteElement';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/#htmltabledatacellelement)
       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`
       * Note: Most browsers currently adher to the W3C DOM Level 2 spec
       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)
       *       which suggests that browsers should use HTMLTableCellElement for
       *       both TD and TH elements. WhatWG separates these.
       * Test: Object.prototype.toString.call(document.createElement('td'))
       *  - Chrome === "[object HTMLTableCellElement]"
       *  - Firefox === "[object HTMLTableCellElement]"
       *  - Safari === "[object HTMLTableCellElement]"
       */
      if (obj.tagName === 'TD') {
        return 'HTMLTableDataCellElement';
      }

      /* ! Spec Conformance
       * (https://html.spec.whatwg.org/#htmltableheadercellelement)
       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`
       * Note: Most browsers currently adher to the W3C DOM Level 2 spec
       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)
       *       which suggests that browsers should use HTMLTableCellElement for
       *       both TD and TH elements. WhatWG separates these.
       * Test: Object.prototype.toString.call(document.createElement('th'))
       *  - Chrome === "[object HTMLTableCellElement]"
       *  - Firefox === "[object HTMLTableCellElement]"
       *  - Safari === "[object HTMLTableCellElement]"
       */
      if (obj.tagName === 'TH') {
        return 'HTMLTableHeaderCellElement';
      }
    }
  }

  /* ! Speed optimisation
  * Pre:
  *   Float64Array       x 625,644 ops/sec 1.58% (80 runs sampled)
  *   Float32Array       x 1,279,852 ops/sec 2.91% (77 runs sampled)
  *   Uint32Array        x 1,178,185 ops/sec 1.95% (83 runs sampled)
  *   Uint16Array        x 1,008,380 ops/sec 2.25% (80 runs sampled)
  *   Uint8Array         x 1,128,040 ops/sec 2.11% (81 runs sampled)
  *   Int32Array         x 1,170,119 ops/sec 2.88% (80 runs sampled)
  *   Int16Array         x 1,176,348 ops/sec 5.79% (86 runs sampled)
  *   Int8Array          x 1,058,707 ops/sec 4.94% (77 runs sampled)
  *   Uint8ClampedArray  x 1,110,633 ops/sec 4.20% (80 runs sampled)
  * Post:
  *   Float64Array       x 7,105,671 ops/sec 13.47% (64 runs sampled)
  *   Float32Array       x 5,887,912 ops/sec 1.46% (82 runs sampled)
  *   Uint32Array        x 6,491,661 ops/sec 1.76% (79 runs sampled)
  *   Uint16Array        x 6,559,795 ops/sec 1.67% (82 runs sampled)
  *   Uint8Array         x 6,463,966 ops/sec 1.43% (85 runs sampled)
  *   Int32Array         x 5,641,841 ops/sec 3.49% (81 runs sampled)
  *   Int16Array         x 6,583,511 ops/sec 1.98% (80 runs sampled)
  *   Int8Array          x 6,606,078 ops/sec 1.74% (81 runs sampled)
  *   Uint8ClampedArray  x 6,602,224 ops/sec 1.77% (83 runs sampled)
  */
  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);
  if (typeof stringTag === 'string') {
    return stringTag;
  }

  var objPrototype = Object.getPrototypeOf(obj);
  /* ! Speed optimisation
  * Pre:
  *   regex literal      x 1,772,385 ops/sec 1.85% (77 runs sampled)
  *   regex constructor  x 2,143,634 ops/sec 2.46% (78 runs sampled)
  * Post:
  *   regex literal      x 3,928,009 ops/sec 0.65% (78 runs sampled)
  *   regex constructor  x 3,931,108 ops/sec 0.58% (84 runs sampled)
  */
  if (objPrototype === RegExp.prototype) {
    return 'RegExp';
  }

  /* ! Speed optimisation
  * Pre:
  *   date               x 2,130,074 ops/sec 4.42% (68 runs sampled)
  * Post:
  *   date               x 3,953,779 ops/sec 1.35% (77 runs sampled)
  */
  if (objPrototype === Date.prototype) {
    return 'Date';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)
   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be "Promise":
   * Test: `Object.prototype.toString.call(Promise.resolve())``
   *  - Chrome <=47 === "[object Object]"
   *  - Edge <=20 === "[object Object]"
   *  - Firefox 29-Latest === "[object Promise]"
   *  - Safari 7.1-Latest === "[object Promise]"
   */
  if (promiseExists && objPrototype === Promise.prototype) {
    return 'Promise';
  }

  /* ! Speed optimisation
  * Pre:
  *   set                x 2,222,186 ops/sec 1.31% (82 runs sampled)
  * Post:
  *   set                x 4,545,879 ops/sec 1.13% (83 runs sampled)
  */
  if (setExists && objPrototype === Set.prototype) {
    return 'Set';
  }

  /* ! Speed optimisation
  * Pre:
  *   map                x 2,396,842 ops/sec 1.59% (81 runs sampled)
  * Post:
  *   map                x 4,183,945 ops/sec 6.59% (82 runs sampled)
  */
  if (mapExists && objPrototype === Map.prototype) {
    return 'Map';
  }

  /* ! Speed optimisation
  * Pre:
  *   weakset            x 1,323,220 ops/sec 2.17% (76 runs sampled)
  * Post:
  *   weakset            x 4,237,510 ops/sec 2.01% (77 runs sampled)
  */
  if (weakSetExists && objPrototype === WeakSet.prototype) {
    return 'WeakSet';
  }

  /* ! Speed optimisation
  * Pre:
  *   weakmap            x 1,500,260 ops/sec 2.02% (78 runs sampled)
  * Post:
  *   weakmap            x 3,881,384 ops/sec 1.45% (82 runs sampled)
  */
  if (weakMapExists && objPrototype === WeakMap.prototype) {
    return 'WeakMap';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)
   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be "DataView":
   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``
   *  - Edge <=13 === "[object Object]"
   */
  if (dataViewExists && objPrototype === DataView.prototype) {
    return 'DataView';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)
   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be "Map Iterator":
   * Test: `Object.prototype.toString.call(new Map().entries())``
   *  - Edge <=13 === "[object Object]"
   */
  if (mapExists && objPrototype === mapIteratorPrototype) {
    return 'Map Iterator';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)
   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be "Set Iterator":
   * Test: `Object.prototype.toString.call(new Set().entries())``
   *  - Edge <=13 === "[object Object]"
   */
  if (setExists && objPrototype === setIteratorPrototype) {
    return 'Set Iterator';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)
   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be "Array Iterator":
   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``
   *  - Edge <=13 === "[object Object]"
   */
  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {
    return 'Array Iterator';
  }

  /* ! Spec Conformance
   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)
   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be "String Iterator":
   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``
   *  - Edge <=13 === "[object Object]"
   */
  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {
    return 'String Iterator';
  }

  /* ! Speed optimisation
  * Pre:
  *   object from null   x 2,424,320 ops/sec 1.67% (76 runs sampled)
  * Post:
  *   object from null   x 5,838,000 ops/sec 0.99% (84 runs sampled)
  */
  if (objPrototype === null) {
    return 'Object';
  }

  return Object
    .prototype
    .toString
    .call(obj)
    .slice(toStringLeftSliceLength, toStringRightSliceLength);
}

return typeDetect;

})));


/***/ }),

/***/ "./node_modules/unorm/lib/unorm.js":
/*!*****************************************!*\
  !*** ./node_modules/unorm/lib/unorm.js ***!
  \*****************************************/
/***/ (function(module) {

(function (root) {
   "use strict";

/***** unorm.js *****/

/*
 * UnicodeNormalizer 1.0.0
 * Copyright (c) 2008 Matsuza
 * Dual licensed under the MIT (MIT-LICENSE.txt) and GPL (GPL-LICENSE.txt) licenses.
 * $Date: 2008-06-05 16:44:17 +0200 (Thu, 05 Jun 2008) $
 * $Rev: 13309 $
 */

   var DEFAULT_FEATURE = [null, 0, {}];
   var CACHE_THRESHOLD = 10;
   var SBase = 0xAC00, LBase = 0x1100, VBase = 0x1161, TBase = 0x11A7, LCount = 19, VCount = 21, TCount = 28;
   var NCount = VCount * TCount; // 588
   var SCount = LCount * NCount; // 11172

   var UChar = function(cp, feature){
      this.codepoint = cp;
      this.feature = feature;
   };

   // Strategies
   var cache = {};
   var cacheCounter = [];
   for (var i = 0; i <= 0xFF; ++i){
      cacheCounter[i] = 0;
   }

   function fromCache(next, cp, needFeature){
      var ret = cache[cp];
      if(!ret){
         ret = next(cp, needFeature);
         if(!!ret.feature && ++cacheCounter[(cp >> 8) & 0xFF] > CACHE_THRESHOLD){
            cache[cp] = ret;
         }
      }
      return ret;
   }

   function fromData(next, cp, needFeature){
      var hash = cp & 0xFF00;
      var dunit = UChar.udata[hash] || {};
      var f = dunit[cp];
      return f ? new UChar(cp, f) : new UChar(cp, DEFAULT_FEATURE);
   }
   function fromCpOnly(next, cp, needFeature){
      return !!needFeature ? next(cp, needFeature) : new UChar(cp, null);
   }
   function fromRuleBasedJamo(next, cp, needFeature){
      var j;
      if(cp < LBase || (LBase + LCount <= cp && cp < SBase) || (SBase + SCount < cp)){
         return next(cp, needFeature);
      }
      if(LBase <= cp && cp < LBase + LCount){
         var c = {};
         var base = (cp - LBase) * VCount;
         for (j = 0; j < VCount; ++j){
            c[VBase + j] = SBase + TCount * (j + base);
         }
         return new UChar(cp, [,,c]);
      }

      var SIndex = cp - SBase;
      var TIndex = SIndex % TCount;
      var feature = [];
      if(TIndex !== 0){
         feature[0] = [SBase + SIndex - TIndex, TBase + TIndex];
      } else {
         feature[0] = [LBase + Math.floor(SIndex / NCount), VBase + Math.floor((SIndex % NCount) / TCount)];
         feature[2] = {};
         for (j = 1; j < TCount; ++j){
            feature[2][TBase + j] = cp + j;
         }
      }
      return new UChar(cp, feature);
   }
   function fromCpFilter(next, cp, needFeature){
      return cp < 60 || 13311 < cp && cp < 42607 ? new UChar(cp, DEFAULT_FEATURE) : next(cp, needFeature);
   }

   var strategies = [fromCpFilter, fromCache, fromCpOnly, fromRuleBasedJamo, fromData];

   UChar.fromCharCode = strategies.reduceRight(function (next, strategy) {
      return function (cp, needFeature) {
         return strategy(next, cp, needFeature);
      };
   }, null);

   UChar.isHighSurrogate = function(cp){
      return cp >= 0xD800 && cp <= 0xDBFF;
   };
   UChar.isLowSurrogate = function(cp){
      return cp >= 0xDC00 && cp <= 0xDFFF;
   };

   UChar.prototype.prepFeature = function(){
      if(!this.feature){
         this.feature = UChar.fromCharCode(this.codepoint, true).feature;
      }
   };

   UChar.prototype.toString = function(){
      if(this.codepoint < 0x10000){
         return String.fromCharCode(this.codepoint);
      } else {
         var x = this.codepoint - 0x10000;
         return String.fromCharCode(Math.floor(x / 0x400) + 0xD800, x % 0x400 + 0xDC00);
      }
   };

   UChar.prototype.getDecomp = function(){
      this.prepFeature();
      return this.feature[0] || null;
   };

   UChar.prototype.isCompatibility = function(){
      this.prepFeature();
      return !!this.feature[1] && (this.feature[1] & (1 << 8));
   };
   UChar.prototype.isExclude = function(){
      this.prepFeature();
      return !!this.feature[1] && (this.feature[1] & (1 << 9));
   };
   UChar.prototype.getCanonicalClass = function(){
      this.prepFeature();
      return !!this.feature[1] ? (this.feature[1] & 0xff) : 0;
   };
   UChar.prototype.getComposite = function(following){
      this.prepFeature();
      if(!this.feature[2]){
         return null;
      }
      var cp = this.feature[2][following.codepoint];
      return cp ? UChar.fromCharCode(cp) : null;
   };

   var UCharIterator = function(str){
      this.str = str;
      this.cursor = 0;
   };
   UCharIterator.prototype.next = function(){
      if(!!this.str && this.cursor < this.str.length){
         var cp = this.str.charCodeAt(this.cursor++);
         var d;
         if(UChar.isHighSurrogate(cp) && this.cursor < this.str.length && UChar.isLowSurrogate((d = this.str.charCodeAt(this.cursor)))){
            cp = (cp - 0xD800) * 0x400 + (d -0xDC00) + 0x10000;
            ++this.cursor;
         }
         return UChar.fromCharCode(cp);
      } else {
         this.str = null;
         return null;
      }
   };

   var RecursDecompIterator = function(it, cano){
      this.it = it;
      this.canonical = cano;
      this.resBuf = [];
   };

   RecursDecompIterator.prototype.next = function(){
      function recursiveDecomp(cano, uchar){
         var decomp = uchar.getDecomp();
         if(!!decomp && !(cano && uchar.isCompatibility())){
            var ret = [];
            for(var i = 0; i < decomp.length; ++i){
               var a = recursiveDecomp(cano, UChar.fromCharCode(decomp[i]));
                ret = ret.concat(a);
            }
            return ret;
         } else {
            return [uchar];
         }
      }
      if(this.resBuf.length === 0){
         var uchar = this.it.next();
         if(!uchar){
            return null;
         }
         this.resBuf = recursiveDecomp(this.canonical, uchar);
      }
      return this.resBuf.shift();
   };

   var DecompIterator = function(it){
      this.it = it;
      this.resBuf = [];
   };

   DecompIterator.prototype.next = function(){
      var cc;
      if(this.resBuf.length === 0){
         do{
            var uchar = this.it.next();
            if(!uchar){
               break;
            }
            cc = uchar.getCanonicalClass();
            var inspt = this.resBuf.length;
            if(cc !== 0){
               for(; inspt > 0; --inspt){
                  var uchar2 = this.resBuf[inspt - 1];
                  var cc2 = uchar2.getCanonicalClass();
                  if(cc2 <= cc){
                     break;
                  }
               }
            }
            this.resBuf.splice(inspt, 0, uchar);
         } while(cc !== 0);
      }
      return this.resBuf.shift();
   };

   var CompIterator = function(it){
      this.it = it;
      this.procBuf = [];
      this.resBuf = [];
      this.lastClass = null;
   };

   CompIterator.prototype.next = function(){
      while(this.resBuf.length === 0){
         var uchar = this.it.next();
         if(!uchar){
            this.resBuf = this.procBuf;
            this.procBuf = [];
            break;
         }
         if(this.procBuf.length === 0){
            this.lastClass = uchar.getCanonicalClass();
            this.procBuf.push(uchar);
         } else {
            var starter = this.procBuf[0];
            var composite = starter.getComposite(uchar);
            var cc = uchar.getCanonicalClass();
            if(!!composite && (this.lastClass < cc || this.lastClass === 0)){
               this.procBuf[0] = composite;
            } else {
               if(cc === 0){
                  this.resBuf = this.procBuf;
                  this.procBuf = [];
               }
               this.lastClass = cc;
               this.procBuf.push(uchar);
            }
         }
      }
      return this.resBuf.shift();
   };

   var createIterator = function(mode, str){
      switch(mode){
         case "NFD":
            return new DecompIterator(new RecursDecompIterator(new UCharIterator(str), true));
         case "NFKD":
            return new DecompIterator(new RecursDecompIterator(new UCharIterator(str), false));
         case "NFC":
            return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(str), true)));
         case "NFKC":
            return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(str), false)));
      }
      throw mode + " is invalid";
   };
   var normalize = function(mode, str){
      var it = createIterator(mode, str);
      var ret = "";
      var uchar;
      while(!!(uchar = it.next())){
         ret += uchar.toString();
      }
      return ret;
   };

   /* API functions */
   function nfd(str){
      return normalize("NFD", str);
   }

   function nfkd(str){
      return normalize("NFKD", str);
   }

   function nfc(str){
      return normalize("NFC", str);
   }

   function nfkc(str){
      return normalize("NFKC", str);
   }

/* Unicode data */
UChar.udata={
0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},
256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},
512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},
768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8000,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},
1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},
1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},
1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},
1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},
2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},
2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},
2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},
2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},
3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},
3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},
3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},
3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},
4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},
4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},
4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},
4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},
5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},
5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},
5632:{71231:[,9],71350:[,9],71351:[,7]},
5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},
6144:{6313:[,228]},
6400:{6457:[,222],6458:[,230],6459:[,220]},
6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},
6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},
7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},
7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},
7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},
7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8000:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8000,768]],8003:[[8001,768]],8004:[[8000,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},
8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},
8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},
8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},
8960:{9001:[[12296]],9002:[[12297]]},
9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},
10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},
11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},
11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},
11776:{11935:[[27597],256],12019:[[40863],256]},
12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[30000],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},
12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},
12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},
12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13000:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},
13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},
27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},
27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},
42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},
42752:{42864:[[42863],256],43000:[[294],256],43001:[[339],256]},
43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},
43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},
43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},
43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},
48128:{113822:[,1]},
53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},
53760:{119362:[,230],119363:[,230],119364:[,230]},
54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],120000:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},
54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},
54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},
55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},
59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},
60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},
61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},
61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},
63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23000]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},
63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149000]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32000]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195000:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},
64000:{64000:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[40000]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},
64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},
64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},
64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},
65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},
65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}

};

   /***** Module to export */
   var unorm = {
      nfc: nfc,
      nfd: nfd,
      nfkc: nfkc,
      nfkd: nfkd
   };

   /*globals module:true,define:true*/

   // CommonJS
   if (true) {
      module.exports = unorm;

   // AMD
   } else {}

   /***** Export as shim for String::normalize method *****/
   /*
      http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts#november_8_2013_draft_rev_21

      21.1.3.12 String.prototype.normalize(form="NFC")
      When the normalize method is called with one argument form, the following steps are taken:

      1. Let O be CheckObjectCoercible(this value).
      2. Let S be ToString(O).
      3. ReturnIfAbrupt(S).
      4. If form is not provided or undefined let form be "NFC".
      5. Let f be ToString(form).
      6. ReturnIfAbrupt(f).
      7. If f is not one of "NFC", "NFD", "NFKC", or "NFKD", then throw a RangeError Exception.
      8. Let ns be the String value is the result of normalizing S into the normalization form named by f as specified in Unicode Standard Annex #15, UnicodeNormalizatoin Forms.
      9. Return ns.

      The length property of the normalize method is 0.

      *NOTE* The normalize function is intentionally generic; it does not require that its this value be a String object. Therefore it can be transferred to other kinds of objects for use as a method.
   */
    unorm.shimApplied = false;

   if (!String.prototype.normalize) {
      Object.defineProperty(String.prototype, "normalize", {
         enumerable: false,
         configurable: true,
         writable: true,
         value: function normalize (/*form*/) {

            var str = "" + this;
            var form = arguments[0] === undefined ? "NFC" : arguments[0];

            if (this === null || this === undefined) {
               throw new TypeError("Cannot call method on " + Object.prototype.toString.call(this));
            }

            if (form === "NFC") {
               return unorm.nfc(str);
            } else if (form === "NFD") {
               return unorm.nfd(str);
            } else if (form === "NFKC") {
               return unorm.nfkc(str);
            } else if (form === "NFKD") {
               return unorm.nfkd(str);
            } else {
               throw new RangeError("Invalid normalization form: " + form);
            }
         }
      });

      unorm.shimApplied = true;
   }
}(this));


/***/ }),

/***/ "?0ac7":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./lib/alerts.mjs":
/*!************************!*\
  !*** ./lib/alerts.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony exports Alerts, Alert */
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ "./lib/utils.mjs");


class Alerts extends HTMLElement {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-alerts', Alerts);

class Alert extends HTMLElement {
	connectedCallback() {
		this.classList.add('alert');
		this.classList.add(`alert-${this.level}`);
		this.classList.add('alert-dismissible');
		this.classList.add('fade');
		this.classList.add('show');
	}

	get message() {
		return this.textContent;
	}

	set message(value) {
		if (!this._messageNode) {
			this._messageNode = this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('h6'));
		}

		this._messageNode.textContent = value;

		this._close = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.close[type="button"][data-dismiss="alert"]');

		this._close.innerHTML = '&times;';
		this.appendChild(this._close);
	}

	set detail(value) {
		if (!this._detailNode) {
			this._detailNode = this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span'));
		}

		this._detailNode.textContent = value;
	}

	get level() {
		return this.getAttribute('level') || 'danger';
	}

	set level(value) {
		if (typeof value !== 'string') return;
		// This ensures that nobody can set any different classes using the level, as it will always go to alert-${value}
		if (!value.match(/^[a-z]+$/)) return;
		this.setAttribute('level', value);
	}

	removeCloseButton() {
		this.removeChild(this._close);
		this._close = null;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-alert', Alert);


/***/ }),

/***/ "./lib/configs/config.common.mjs":
/*!***************************************!*\
  !*** ./lib/configs/config.common.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ config)
/* harmony export */ });
/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/cjs.js");


function config(config) {
	return deepmerge__WEBPACK_IMPORTED_MODULE_0__(
		{
			loader: {
				base: {
					api: '',
					rpc: '',
				},
			},
			common: {
				icons: {
					path:
						imt?.static && typeof imt.static === 'function'
							? imt?.static('/img/packages/{{name}}_32.png')
							: '/static/img/packages/{{name}}_32.png',
					sdkPath: '/static/img/apps/{{name}}_32.png',
				},
			},
			kb: {
				path: `${imt.helpUrl}{{path}}`,
			},
			fields: {
				text: {
					nestedTimeout: 500,
				},
				array: {
					nestedTimeout: 500,
				},
				cert: {
					api: {
						instructions: {
							path: 'api://imt-forms/keys/extractor',
						},
					},
				},
				pkey: {
					api: {
						instructions: {
							path: 'api://imt-forms/keys/extractor',
						},
					},
				},
				account: {
					kb: {
						path: 'kb://connections',
					},
					api: {
						list: {
							path: 'api://connections',
							pdcPath: 'api://personal-and-team-connections',
							label: 'name',
							value: 'id',
							wrapper: 'connections',
							limit: 5000,
						},
						instructions: {
							path: 'api://imt-forms/connections/create',
						},
						auth: {
							path: '/oauth/auth/{{connectionId}}',
							pathPersonal: '/api/v2/personal-connections/auth/{{connectionId}}',
						},
						extend: {
							path: '/oauth/extend/{{connectionId}}',
							pathPersonal: '/api/v2/personal-connections/extend/{{connectionId}}',
						},
						test: {
							path: 'api://{{accountOwner}}/{{connectionId}}/test',
						},
						scoped: {
							path: 'api://{{accountOwner}}/{{connectionId}}/scoped',
						},
						check: {
							path: '/oauth/auth/{{connectionId}}/state',
						},
					},
				},
				connectedSystems: {
					api: {
						list: {
							path: 'api://connected-systems/apps/{{connectedSystemName}}',
							label: 'name',
							value: 'id',
							wrapper: 'connectedSystems',
							limit: 5000,
						},
					},
				},
				hook: {
					kb: {
						path: 'kb://tools/webhooks',
					},
					api: {
						list: {
							path: 'api://hooks',
							label: 'name',
							value: 'id',
							wrapper: 'hooks',
							limit: 5000,
						},
						instructions: {
							create: {
								path: 'api://imt-forms/hooks/create',
							},
							update: {
								path: 'api://imt-forms/hooks/{{hookId}}/set-data',
							},
						},
						ping: {
							path: 'api://hooks/{{hookId}}/ping',
						},
						learnStart: {
							path: 'api://hooks/{{hookId}}/learn-start',
							method: 'POST',
						},
						learnStop: {
							path: 'api://hooks/{{hookId}}/learn-stop',
							method: 'POST',
						},
					},
				},
				device: {
					kb: {
						path: 'kb://tutorials/mobile-app',
					},
					api: {
						list: {
							path: 'api://devices',
							label: 'name',
							value: 'id',
							wrapper: 'devices',
							limit: 5000,
						},
						instructions: {
							request: {
								path: 'api://imt-forms/devices/create-request',
							},
							create: {
								path: 'api://imt-forms/devices/{{deviceUdid}}/create',
							},
						},
					},
				},
				filter: {
					operators: IML.FILTERS,
					defaultOperator: 'text:equal',
				},
				datastore: {
					api: {
						list: {
							path: 'api://data-stores',
							value: 'id',
							label: 'name',
							wrapper: 'dataStores',
							limit: 5000,
						},
						instructions: {
							create: {
								path: 'api://imt-forms/data-stores/create',
							},
						},
					},
				},
				udt: {
					api: {
						list: {
							path: 'api://data-structures',
							wrapper: 'dataStructures',
							value: 'id',
							label: 'name',
							limit: 5000,
						},
						create: {
							path: 'api://data-structures',
						},
						update: {
							path: 'api://data-structures/{{dataStructureId}}',
						},
						clone: {
							path: 'api://data-structures/{{dataStructureId}}/clone',
						},
						instructions: {
							create: {
								path: 'api://imt-forms/data-structures/create',
							},
							update: {
								path: 'api://imt-forms/data-structures/{{datastructureId}}/partial-update',
							},
							clone: {
								path: 'api://imt-forms/data-structures/{{datastructureId}}/clone',
							},
						},
					},
				},
				udtspec: {
					generate: {
						path: 'api://imt-forms/data-structures/generator',
					},
				},
				udttype: {
					list: {
						path: 'api://enums/timezones',
					},
				},
				agent: {
					list: {
						path: 'api://agents',
						limit: 5000,
					},
				},
				scenario: {
					list: {
						path: 'api://scenario-list',
						limit: 5000,
						wrapper: 'scenarios',
						value: 'id',
						label: 'name',
						grouped: true,
						showSearcher: true,
						showValue: true,
					},
				},
				keychain: {
					kb: {
						path: 'kb://connections/keys',
					},
					api: {
						listTypes: {
							path: 'api://keys/types',
							wrapper: 'keysTypes',
							value: 'id',
							label: 'name',
							limit: 500,
						},
						list: {
							path: 'api://keys',
							wrapper: 'keys',
							value: 'id',
							label: 'name',
							limit: 5000,
						},
						create: {
							path: 'api://imt-forms/keys',
							wrapper: 'key',
						},
					},
				},
				editor: {
					editors: {
						froala: {
							key: 'PYC4mH3B15A11B7D6B5dNSWXa1c1MDe1CI1PLPFa1F1EESFKVlA6F6D5E4A1E3A9A3A5C4==',
						},
					},
				},
			},
			extendedFields: {
				country: {
					type: 'select',
					options: {
						store: 'api://enums/countries',
						wrapper: 'countries',
					},
				},
				imtregion: {
					type: 'select',
					options: {
						store: 'api://enums/imt-regions',
						wrapper: 'imtRegions',
					},
				},
				language: {
					type: 'select',
					options: {
						store: 'api://enums/languages',
						wrapper: 'languages',
					},
				},
				localization: {
					type: 'select',
					options: {
						store: 'api://enums/languages?localized=true',
						wrapper: 'languages',
					},
				},
				locale: {
					type: 'select',
					options: {
						store: 'api://enums/locales',
						wrapper: 'locales',
					},
				},
				timezone: {
					type: 'select',
					options: {
						store: 'api://enums/timezones',
						wrapper: 'timezones',
						value: 'code',
						label: 'name',
					},
				},
				usersorganizationsrole: {
					type: 'select',
					options: {
						store: 'api://users/roles?cols[]=id&cols[]=name&cols[]=subsidiary&category=organization',
						wrapper: 'usersRoles',
						value: 'id',
						label: 'name',
					},
				},
				userapitokenscope: {
					type: 'select',
					options: {
						store: 'api://enums/user-api-token-scopes',
						wrapper: 'userApiTokenScopes',
						value: 'name',
						label: 'name',
					},
					multiple: true,
				},
			},
			coder: {
				kb: {
					path: 'kb://mapping',
				},
			},
		},
		config,
	);
}


/***/ }),

/***/ "./lib/controls/coder.mjs":
/*!********************************!*\
  !*** ./lib/controls/coder.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Coder: () => (/* binding */ Coder)
/* harmony export */ });
/* harmony import */ var _pill_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pill.mjs */ "./lib/controls/pill.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/iml.mjs */ "./lib/helpers/iml.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _coder_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./coder.scss */ "./lib/controls/coder.scss");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _tracking_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tracking.mjs */ "./lib/tracking.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");
/* global sim */










const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].config.coder;

const RE_IML_GLOBAL = /{{([\s\S]*?)}}/g;

class CoderPanelController {
	constructor(Coder, form) {
		this.panel = null;
		this.form = form;

		this.variables = null;
		this.pills = null;

		this.state = {
			onPanel: false,
			keepFocused: false,
			onSearchInput: false,
			lastActiveCoder: null,
			lastActiveCoderCaretOffset: 0,
		};

		this._hintPanelTimer = null;

		this._bestPanelMasterCollapse = null;

		this._prebuildCommonPanelContent(Coder, form);
	}

	_prebuildCommonPanelContent(Coder, form) {
		const isTemplater = form.parentElement?.classList?.contains('is-templater');

		this.pillsHeader = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('ul.nav.nav-tabs');
		this.pillsBody = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.tab-content');

		const bestNav = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('li.nav-item');

		bestNav.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`button.nav-link.pills-best[data-toggle="tab"][data-history="no"]`));

		bestNav.addEventListener('click', () => this._setTab('best'));
		const bestPane = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div#pills-best.tab-pane.tree');
		const search = bestPane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input.form-control.coder-search[placeholder="Search items"]'));

		// search.addEventListener('focusout', (event) => {
		// 	this.state.onSearch = false;
		//
		// 	if (!this.state.onPill) {
		// 		this.focus();
		// 	}
		// });

		this._attachHintPanel();

		search.addEventListener('input', (event) => {
			this._searchPills(event, bestPane, isTemplater);
		});

		this.pillsHeader.append(bestNav);
		this.pillsBody.append(bestPane);

		const tabs = ['general', 'math', 'string', 'date', 'array'];

		const customCategories = this.form.meta.imlOptions?.tabs || [];
		const customTabs = customCategories.map((x) => x.name) || [];

		tabs.concat(customTabs).forEach((group) => {
			// Nav items
			const item = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('li.nav-item');
			const link = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`button.nav-link.pills-${group}[data-toggle="tab"][data-history="no"]`);

			link.addEventListener('click', () => this._setTab(group));
			item.append(link);

			this.pillsHeader.append(item);

			// Tab panels
			const pane = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`div#pills-${group}.tab-pane`);
			const customCategory = customCategories.find((x) => x.name === group);

			if (customCategory) {
				pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h4 ${customCategory.label}`));
				if (customCategory.extraElement) {
					pane.appendChild(customCategory.extraElement);
				}
			} else {
				pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h4 ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.label`, {}, true)}`));
			}

			if (group === 'date') {
				pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('h5#pickerLabel'));
				this.datePickerContainer = pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-group.coder-datepicker'));
			}

			const getCustoms = (type) => {
				return this.form.meta.imlOptions?.[type]?.filter((x) => x.tab === group)?.map((x) => x.category) || [];
			};

			const customVariables = getCustoms('variables');
			const customFunctions = getCustoms('functions');

			const types = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.IML_CATEGORIES.concat(customVariables.concat(customFunctions));

			types.forEach((type, index) => {
				if (Coder[type]) {
					if (types.indexOf(type) !== index) {
						return;
					}
					const col = Object.entries(Coder[type])
						.filter(([name, elm]) => {
							const elmGroup = elm.getAttribute('group');

							if (elmGroup && elmGroup.includes(',')) {
								const groups = elmGroup.split(',');

								return groups.includes(group);
							}

							return elmGroup === group;
						})
						.map((x) => [x[0], x[1].cloneNode(true)]);

					if (!col.length) return;

					const customType = this.form?.meta?.imlOptions?.variables?.find((x) => x.category === type);

					pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h5 ${customType?.label || type.replace('_', ' ')}`));

					const groupWrapper = pane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-group'));

					col.forEach(([name, elm]) => {
						if (type === 'variables') {
							const row = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-row');

							row.append(elm);
							groupWrapper.append(row);
						} else {
							groupWrapper.append(elm);
						}
					});
				}
			});

			this.pillsBody.appendChild(pane);
		});
	}

	_build() {
		if (this.panel) return;

		this.panel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-panel.coder-pills');
		this.panel.controller = this;
		this.panel.width = 350;
		this.panel.position = ['right', 'left'];
		this.panel.header.appendChild(this.pillsHeader);

		const close = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.close[type="button"]');

		close.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('i.far.fa-times'));
		close.addEventListener('click', (event) => {
			event.preventDefault();
			event.stopPropagation();
			this.panel.relative.focus();
			this.close();
		});
		this.panel.header.append(close);

		const help = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.help[type="button"]');

		help.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('i.fas.fa-question'));
		help.addEventListener('click', (event) => {
			event.preventDefault();
			event.stopPropagation();

			// Use existing kb:// resolver as it is out of Forman's scope

			if ('undefined' !== typeof sim) {
				sim(window).openHelp(config.kb.path);
			}
		});
		this.panel.header.append(help);

		const bestPane = this.pillsBody.querySelector('#pills-best');
		const recursiveLookup = (group, variables = []) => {
			group.pills.forEach((pill) => {
				variables.push(this.variables[pill.code]);

				if (pill.pills) recursiveLookup(pill, variables);
			});

			return variables;
		};

		const pills = this.pills.filter((group) => group.pills && group.pills.length);

		if (!pills.length) {
			this._setTab('general');
		} else {
			this._setTab('best');

			if (pills.length) {
				this._bestPanelMasterCollapse = bestPane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-coder-panel-master-expander'));
			}

			pills.forEach((group, i) => {
				const pillsGroup = bestPane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-container'));

				// if (i > 2) pillsGroup.classList.add('collapsed');

				const title = pillsGroup.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-container-title'));

				// TODO Send theme, name and enlarge in root not on every pill
				const referenceNode = group.pills[0].node;

				const icon = title.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-container-icon'));
				const img = icon.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('img'));

				let iconSrc;

				if (/^app#/.test(referenceNode.package.name)) {
					iconSrc = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].config.common.icons.sdkPath), {
						name: referenceNode.package.name.replace(/^app#/, ''),
					});
				} else {
					iconSrc = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].config.common.icons.path), { name: referenceNode.package.name });
				}

				img.setAttribute('src', iconSrc);
				icon.style.backgroundColor = group.pills[0].theme.toHex();

				const label = title.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h4 ${group.name} `));

				label.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`span.square ${group.id}`), ` - ${group.description}`);

				title.addEventListener('mouseover', (event) => (referenceNode.enlarged = true));
				title.addEventListener('mouseout', (event) => (referenceNode.enlarged = false));

				title.addEventListener('click', (event) => {
					pillsGroup.classList.toggle('collapsed');
					this._bestPanelMasterCollapse?.resolveMode();
				});

				recursiveLookup(group).forEach((variable) => {
					const row = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-row');

					row.setAttribute('level', variable._pillMeta.level);
					row._pillMeta = variable._pillMeta;

					if (variable._pillMeta.nested) {
						row.classList.add('coder-pill-row-nested', `coder-level-${variable._pillMeta.level}`);
						row.setAttribute('nth', variable.getAttribute('nth'));

						if (variable.getAttribute('level') > 1 || 'collection' !== variable.getAttribute('parent-type')) {
							row.classList.add('out');
						}
					}

					if (parseInt(variable.getAttribute('level')) === 0 && 'collection' === variable.getAttribute('type')) {
						row.classList.add('open');
					}

					row.append(variable);

					if (variable.hasAttribute('has-children')) {
						row.classList.add('coder-pill-row-has-children');

						row.addEventListener('click', (event) => {
							if (event.target !== event.currentTarget) return;
							const collapse = row.classList.contains('open');

							this._togglePill(row, collapse);
						});
					} else {
						if (variable.sample) row.append(variable.sample);
					}

					pillsGroup.append(row);
				});
			});
		}

		this.panel.body.append(this.pillsBody);
	}

	open(coder) {
		this._build();

		// if the picker exists, remove it and recreate a new picker to maker sure it's always connected to correct input
		if (this.datePickerContainer.firstChild) {
			this.datePickerContainer.firstChild.remove();
			this.datePickerAbortController?.abort();
			this.datePickerAbortController = null;
		}
		const input = this.state?.lastActiveCoder?.closest('[field]');
		const { abortController } = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createDateTimePicker)(
			this.datePickerContainer.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div')),
			this.state.lastActiveCoder,
			{
				type: input._instructions.type,
				time: input._instructions.time,
				onChange: (event, formatedDate, oldFormattedDate) => {
					const caret = getCaret();

					if (!caret.node || caret.node.nodeType !== 3) return;

					if (event.oldDate) {
						const diff = event.date.diff(event.oldDate);
						const maxDiff = 1000 * 60 * 60 * 12; // 12 hours for AM/PM
						const prev = caret.node.textContent.substr(caret.offset - oldFormattedDate.length, oldFormattedDate.length);

						// time was incremented, update current date instead of inserting new date when old date exists
						if (Math.abs(diff) <= maxDiff && prev === oldFormattedDate) {
							caret.node.textContent = caret.node.textContent.replace(oldFormattedDate, formatedDate);
							setCaret(caret.node, caret.offset + formatedDate.length);
							return;
						}
					}

					injectTextNode(caret.node, caret.offset, document.createTextNode(formatedDate));
					if (input.onChange) {
						input.onChange();
					}
				},
			},
		);

		this.datePickerAbortController = abortController;
		if (input._instructions.type === 'time') {
			this.datePickerContainer.parentNode.querySelector('#pickerLabel').textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(
				`panels.datetimepicker.timeTitle`,
			);
		} else {
			this.datePickerContainer.parentNode.querySelector('#pickerLabel').textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(
				`panels.datetimepicker.dateTitle`,
			);
		}

		if (this.panel.parentNode && this.panel.relative === coder) return; // Prevents open already opened panel
		this.panel.relative = coder; // Necessary for position of the coder
		this.panel.open();
	}

	close() {
		this._hideHintPanel(this._hintPanel, true);
		this.panel?.close();
	}

	_attachHintPanel() {
		this.form.addEventListener('mouseover', (event) => {
			if (event.target.nodeName !== 'IMT-PILL' || event.target.closest('.coder-hint') || event.target._hintPanel)
				return;

			const elm = event.target;
			let group = elm.getAttribute('group');
			const name = elm.getAttribute('name');
			const type = elm.getAttribute('type');

			if (elm._pill && elm._pill.node) elm._pill.node.enlarged = true;

			if (group && group.includes(',')) {
				group = group.split(',')[0];
			}

			if (!group || name == null) {
				const pill = elm._pill;

				if (!pill || !pill.name) {
					return;
				}

				return this._showHintPanel(elm, {
					name: pill.name,
					help: `Raw: ${pill.raw}`,
					type: pill.type,
				});
			}

			switch (true) {
				// Module variable
				case elm.hasAttribute('prefix'):
					return this._showHintPanel(elm, elm._pill);

				// IML Variable
				case elm.classList.contains('variable'):
					return this._showHintPanel(elm, {
						name,
						help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.variables.${name}.help`),
						type,
					});

				case elm.classList.contains('function'):
					if (elm.classList.contains('custom-function')) {
						return this._showHintPanel(elm, {
							name: name + `(${elm.getAttribute('function-arguments')})`,
							help: elm.getAttribute('description'),
							type,
						});
					}

					return this._showHintPanel(elm, {
						name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.syntax`),
						help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.help`),
						example: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.example`, {
							defaultValue: null,
							skipInterpolation: true,
						}),
						type,
					});

				case elm.classList.contains('operator'):
					return this._showHintPanel(elm, {
						name,
						help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.operators.${name}.help`),
					});

				case elm.classList.contains('keyword'):
					this._showHintPanel(elm, {
						name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.keywords.${name}.label`),
						help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.keywords.${name}.help`),
					});

				case elm.classList.contains('custom-variable'):
					const help = elm.getAttribute('custom-variable_help');
					const value = elm.getAttribute('custom-variable_value');
					const variableType = elm.getAttribute('custom-variable_type');
					const isDynamicValue = [
						'executionId',
						'dataConsumed',
						'executionStartedAt',
						'operationsConsumed',
						'isDLQExecution',
						'executionType',
					].includes(name);

					this._showHintPanel(elm, {
						name,
						help,
						type,
						variableType,
						variableValue: isDynamicValue ? { isDynamic: isDynamicValue } : value,
					});
			}
		});

		this.form.addEventListener('mouseout', (event) => {
			if (event.target.nodeName !== 'IMT-PILL') return;
			if (event.target._pill && event.target._pill.node) {
				event.target._pill.node.enlarged = false;
			}

			if (event.target?._hintPanel?.ignoreMouseLeave) {
				return;
			}

			this._hideHintPanel(event.target._hintPanel);
		});
	}

	_showHintPanel(relative, pill, immediately = false, ignoreMouseLeave = false, showCloseBtn = false) {
		if (this._hintPanel) {
			this._hideHintPanel(this._hintPanel, true);
		}

		clearTimeout(this._hintPanelTimer);

		this._hintPanelTimer = setTimeout(
			() => {
				const panel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-panel.coder-hint');

				if (showCloseBtn) {
					const panelClose = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.panel-close');
					const panelCloseBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.close.hint-close');

					panelCloseBtn.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('i.far.fa-times'));

					panelClose.appendChild(panelCloseBtn);
					panel.appendChild(panelClose);
				}

				// Create reference to panel in pill
				relative._hintPanel = panel;

				panel.width = 'auto';
				panel.position = relative.closest('#pills-best') ? ['left', 'right'] : ['top', 'bottom'];
				panel.relative = relative;
				panel.compact = true;
				panel.spacing = 9;
				panel._closeTimer = null;

				const relativeStyle = window.getComputedStyle(relative);

				panel.style.color = relativeStyle.getPropertyValue('color');
				panel.style.backgroundColor = relativeStyle.getPropertyValue('background-color');

				const header = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h6 ${pill.name}`);

				if (pill.args) {
					header.innerText += '(';
					pill.args.forEach((arg, index) => {
						const argElm = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`span`);

						argElm.classList.add('argument');
						argElm.innerText = arg.trim();
						if (index < pill.args.length - 1) {
							argElm.innerText += ';';
						}

						if (pill.activeArg === index) {
							argElm.classList.add('active-argument');
						}

						header.append(argElm);
					});
					header.append(document.createTextNode(')'));

					panel.setActiveArg = (index) => {
						header.querySelectorAll('.argument').forEach((elm, idx) => {
							if (index === idx) {
								elm.classList.add('active-argument');
							} else {
								elm.classList.remove('active-argument');
							}
						});
					};
				}

				if (pill.type) {
					header.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`small ${pill.type}`));
				}
				panel.body.append(header);

				if (pill.raw && pill.name !== pill.raw) {
					panel.body.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`p.raw ${pill.raw}`));
				}

				if (pill.help) {
					panel.body.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`p ${pill.help}`));
				}

				if (pill.variableValue || typeof pill.variableValue === 'boolean') {
					const p = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`p.coder-hint-value`);

					p.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`strong ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('common.value')}`));
					if (pill.variableValue.isDynamic) {
						p.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`i ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('variables.dynamicValue')}`));
					} else {
						switch (pill.type) {
							case 'boolean':
								p.append(pill.variableValue.toString());
								break;
							default:
								p.append(pill.variableValue);
								break;
						}
					}

					panel.body.append(p);
				} else if (
					pill.variableType === 'scenario_variable' &&
					['id', 'name', 'url'].includes(pill.name) &&
					pill.variableValue === null
				) {
					const p = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`p.coder-hint-value`);

					p.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`strong ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('common.value')}`));
					p.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`i ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('variables.scenarioValueUnavailable')}`));
					panel.body.append(p);
				}

				if (pill.example) {
					for (let example of pill.example.trim().split(/\n/g)) {
						example = example.match(/^([^\{]+)(?:\{([^\}]*)\})?$/);
						if (example) {
							const pre = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('pre');
							const code = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`code {{${example[1]}}}`);

							code.form = relative.form;
							pre.append(normalize(code, undefined, true, this.imlItems));

							if (example[2]) pre.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`div =${example[2]}`));

							panel.body.append(pre);
						}
					}
				}

				panel.addEventListener('mouseenter', (event) => clearTimeout(panel._closeTimer));

				if (!ignoreMouseLeave) {
					panel.addEventListener('mouseleave', (event) => this._hideHintPanel(panel));
				} else {
					panel.ignoreMouseLeave = true;
				}

				panel.open();
				this._hintPanel = panel;
			},
			immediately ? 0 : 750,
		);
	}

	_hideHintPanel(panel, immediately = false) {
		clearTimeout(this._hintPanelTimer);
		if (!panel) return;

		const hide = () => {
			this._hintPanel = null;
			panel.close();
			panel.relative._hintPanel = null;
		};

		if (immediately) {
			hide();
			return;
		}

		panel._closeTimer = setTimeout(hide, 250);
	}

	_setTab(name) {
		this.pillsHeader.querySelector('button.nav-link.active')?.classList.remove('active');
		this.pillsBody.querySelector('div.tab-pane.active')?.classList.remove('active');

		this.pillsHeader.querySelector(`button.pills-${name}`).classList.add('active');
		this.pillsBody.querySelector(`#pills-${name}`).classList.add('active');
	}

	/**
	 * Collapses/expands array or collection pill in coder panel
	 * @param {HTMLElement} row
	 * @param {boolean} collapse
	 * @private
	 */
	_togglePill(row, collapse) {
		if (collapse) {
			row.classList.remove('open');
		} else {
			row.classList.add('open');
		}

		const level = row._pillMeta.level + 1;
		let elm = row;
		let index = 1;

		while (elm) {
			elm =
				elm.nextElementSibling && elm.nextElementSibling.matches('.coder-pill-row-nested')
					? elm.nextElementSibling
					: null;
			if (!elm) break;
			if (elm._pillMeta.level < level) break;
			if (collapse) {
				if (elm._pillMeta.hasChildren) {
					elm.classList.remove('open');
				}

				elm.classList.add('out');
			} else {
				if (elm._pillMeta.level === level && elm._pillMeta.nth === index) {
					elm.classList.remove('out');
					index++;
				}
			}
		}
	}

	_searchPills(event, bestPane, isTemplater) {
		this._hideHintPanel(this._hintPanel, true);

		bestPane
			.querySelectorAll('.coder-pill-row, .coder-pill-container')
			.forEach((row) => row.classList.remove('search-hide'));

		const imlMatches =
			bestPane.querySelector('div.search-iml-matches') || bestPane.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.search-iml-matches.mt-3'));

		imlMatches.innerHTML = '';

		const phrase = event.target.value;
		let words = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.removeDiacritics)(phrase.trim().toLowerCase());

		if (words && words.length) {
			words = words.split(' ');

			bestPane.querySelectorAll('.coder-pill-row').forEach((elm) => {
				const text = ((elm?._pillMeta?.prefix || '') + (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.removeDiacritics)(elm.textContent)).toLowerCase();
				const lookup = words.filter((word) => !text.includes(word));

				if (lookup.length) {
					// Hide not matching pills
					elm.classList.add('search-hide');
				} else if (elm._pillMeta && elm._pillMeta.nested) {
					// Keep parent pill visible if child matches
					let currentLevel = elm._pillMeta.level;
					let e = elm.previousElementSibling;

					while (e) {
						// [level="${level - 1}"] -> look only for parents not for sibling objects/collections
						if (e._pillMeta && e._pillMeta.hasChildren && e._pillMeta.level === currentLevel - 1) {
							e.classList.remove('search-hide');
							this._togglePill(e, false);

							currentLevel = e._pillMeta.level;
						}

						if (currentLevel === 0) break;

						e = e.previousElementSibling;
					}
				}
			});

			// Hide containers with no matches or expand matches
			bestPane.querySelectorAll('.coder-pill-container').forEach((elm) => {
				let found = false;

				let e = elm.querySelector('.coder-pill-row');

				while (e && e.matches('.coder-pill-row')) {
					if (!e.classList.contains('search-hide')) found = true;
					e = e.nextElementSibling;
				}

				if (!found) {
					elm.classList.add('search-hide');
				} else {
					elm.classList.remove('search-hide');
					elm.classList.remove('collapsed');
				}
			});

			// SEARCH
			_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.IML_CATEGORIES.concat(this.form?.meta?.imlOptions?.variables?.map((x) => x.category) || []).forEach((type) => {
				// eslint-disable-next-line no-use-before-define
				if (Coder[type]) {
					// eslint-disable-next-line no-use-before-define
					const matches = Object.entries(Coder[type])
						.filter(([name, elm]) => {
							const text = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.removeDiacritics)(elm.textContent.toLowerCase());
							const lookup = words.filter((word) => !text.includes(word));

							return !lookup.length;
						})
						.map(([name, elm]) => {
							const clone = elm.cloneNode(true);

							if (type === 'variables') {
								const row = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-row');

								row.append(clone);
								return row;
							} else {
								return clone;
							}
						});

					// match.every.. -> template fix
					if (
						matches.length &&
						(!isTemplater ||
							matches.every((elm) => !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(elm, '.custom-variable') || elm.hasAttribute('custom-iml_system')))
					) {
						const customType = this.form?.meta?.imlOptions?.variables?.find((x) => x.category === type);

						imlMatches.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`h5 ${customType?.label || type.replace('_', ' ')}`));

						const groupWrapper = imlMatches.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-pill-group'));

						groupWrapper.append(...matches);
					}
				}
			});
		}
	}
}

class CoderPanelExpander extends HTMLElement {
	constructor() {
		super();
		this._built = false;
		this._mode = null;
		this._container = null;
		this._collapseItemSelector = ':scope > div.coder-pill-container';
	}

	set container(value) {
		this._collapseContainer = value;
	}

	set collapseItemSelector(selector) {
		this._collapseItemSelector = selector;
	}

	get mode() {
		return this._mode;
	}

	set mode(value) {
		if (this._mode === value) return;

		this._mode = value;
		this.classList[value === 'expand' ? 'add' : 'remove']('collapsed');
		this._title.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`buttons.${value}All`);
	}

	connectedCallback() {
		if (this._built) return;
		this._built = true;

		if (!this._container) this._container = this.parentElement;

		this._title = this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.coder-master-expander-title'));

		this.mode = 'collapse';

		this.addEventListener('click', (event) => {
			this._container.querySelectorAll(this._collapseItemSelector).forEach((elm) => {
				elm.classList[this._mode === 'expand' ? 'remove' : 'add']('collapsed');
			});

			this.mode = this.mode === 'expand' ? 'collapse' : 'expand';
		});
	}

	resolveMode() {
		const oneItemNotCollapsed = this._container.querySelector(this._collapseItemSelector + ':not(.collapsed)');

		if (oneItemNotCollapsed) this.mode = 'expand';
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-coder-panel-master-expander', CoderPanelExpander);

class Coder extends HTMLElement {
	constructor() {
		super();

		this._built = false;
		this.panelEnabled = true;
		this.fnPanelEnabled = true;

		this.addEventListener('keydown', (event) => {
			if (event.key === 'Escape' && this.panelController?._hintPanel) {
				this.panelController._hideHintPanel(this.panelController._hintPanel, true);
				this.fnPanelEnabled = false;
				return;
			}

			if (this.hasAttribute('readonly') || this.hasAttribute('disabled')) {
				if (!event.ctrlKey && !event.metaKey && (event.which < 33 || event.which > 40)) {
					// Allow any key in combination with ctrl/command
					// Allow pageup/pagedown/home/end/arrow keys
					event.preventDefault();
					return;
				}
			}

			const caret = getCaret();

			if (!caret.node || !caret.collapsed) return;

			if (event.which === 37 || event.which === 8) {
				// Arrow left or backspace
				if (caret.offset > 0 && caret.node.textContent.charAt(caret.offset - 1) === _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER) {
					// Move cursor to the left one place so we'll be jumping to the correct position
					setCaret(caret.node, --caret.offset, true);
				}
			} else if (event.which === 39 || event.which === 46) {
				// Arrow right or delete
				if (caret.offset < caret.node.textContent.length && caret.node.textContent.charAt(caret.offset) === _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER) {
					// Move cursor to the left one place so we'll be jumping to the correct position
					setCaret(caret.node, ++caret.offset);
				}
			}

			if (event.which === 8) {
				// Backspace when caret is collapsed (no range selection is active)
				if (caret.offset === 0 && caret.node.previousSibling && caret.node.previousSibling.nodeType === 1) {
					// Deleting a pill to the left of the cursor
					this.removeChild(caret.node.previousSibling);
					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				} else if (caret.offset === 1 && caret.node.length === 1 && !caret.node.nextSibling) {
					// Removing last char of a text node - automatically transform to SPACER.
					// Chrome by default moves cursor to first text node to the left. That's not what we want.
					caret.node.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				} else if (
					caret.offset === 1 &&
					caret.node.length === 1 &&
					caret.node.nextSibling &&
					caret.node.previousSibling
				) {
					event.preventDefault();
					this.removeChild(caret.node);
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			} else if (event.which === 46) {
				// Delete Key when caret is collapsed (no range selection is active)
				if (
					caret.offset === caret.node.textContent.length &&
					caret.node.nextSibling &&
					caret.node.nextSibling.nodeType === 1
				) {
					// Deleting a pill to the right of the cursor
					this.removeChild(caret.node.nextSibling);
					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				} else if (caret.offset === caret.node.textContent.length - 1) {
					// In Chrome there's a (bug? behavior?) - when deleting last character in text node, the caret jumps to the next text
					// node automatically. That's why we're doing the removal manually.
					caret.node.textContent = caret.node.textContent.substr(0, caret.node.textContent.length - 1);
					event.preventDefault();
					setCaret(caret.node, caret.node.textContent.length);
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			}
		});

		this.addEventListener('keypress', (event) => {
			if (event.which === 13) {
				// Enter (new line)
				const caret = getCaret();

				if (!caret.node || caret.node.nodeType !== 3) return;

				injectTextNode(caret.node, caret.offset, document.createTextNode('\n'));

				event.preventDefault();
				_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
			} else if (event.which === 59) {
				// Semicolon (;)
				const caret = getCaret();

				if (!caret.node || caret.node.nodeType !== 3) return;

				if (isNodeNestedIn('function', caret.node)) {
					injectTextNode(caret.node, caret.offset, (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-pill.function.separator ;'));

					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			} else if (event.which === 41) {
				// Brace close )
				const caret = getCaret();

				if (!caret.node || caret.node.nodeType !== 3) return;

				if (isNodeNestedIn('function', caret.node)) {
					injectTextNode(caret.node, caret.offset, (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-pill.function.last )'));

					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			} else if (event.which === 93) {
				// Bracket close ]
				const caret = getCaret();

				if (!caret.node || caret.node.nodeType !== 3) return;

				if (isNodeNestedIn('variable.compound', caret.node)) {
					injectTextNode(caret.node, caret.offset, (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-pill.variable.compound.last ]'));

					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			} else if (event.which === 40) {
				// Brace open (
				const caret = getCaret();

				if (!caret.node || caret.node.nodeType !== 3) return;

				const name = (caret.node.textContent.substr(0, caret.offset).match(/[a-zA-Z][a-zA-Z0-9]*$/) || [])[0];
				const func = find('function', name);

				if (func) {
					caret.node.textContent = `${caret.node.textContent.substr(
						0,
						caret.offset - name.length,
					)}${caret.node.textContent.substr(caret.offset)}`;
					caret.offset -= name.length;

					injectTextNode(caret.node, caret.offset, func);

					event.preventDefault();
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'input', { bubbles: true });
				}
			}
		});

		this.addEventListener('input', (event) => {
			normalize(this, this.panelController.variables, true, this.imlItems);
			if (event.inputType === 'insertFromDrop') {
				(0,_tracking_mjs__WEBPACK_IMPORTED_MODULE_8__.trackFirstDataMapped)(this);
			}
		});

		this.addEventListener('copy', (event) => {
			event.preventDefault();
			event.stopImmediatePropagation();

			const range = getRange();

			if (!range.length) return;
			const ast = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.domToAST)(range, true);

			if (window.clipboardData) {
				window.clipboardData.setData('Text', _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify(ast, undefined, { keepUnwantedOperators: true })); // ie
			} else {
				event.clipboardData.setData('text/plain', _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify(ast, undefined, { keepUnwantedOperators: true })); // browsers
			}
		});

		this.addEventListener('cut', (event) => {
			if (this.hasAttribute('readonly') || this.hasAttribute('disabled')) {
				event.preventDefault();
			}
		});

		this.addEventListener('paste', (event) => {
			if (this.hasAttribute('readonly') || this.hasAttribute('disabled')) {
				event.preventDefault();
			}
		});

		this.addEventListener('drop', (event) => {
			if (this.hasAttribute('readonly') || this.hasAttribute('disabled')) {
				event.preventDefault();
			}

			// sets caret after dropped item
			setTimeout(() => {
				const caret = getCaret();

				if (caret.node?.nextSibling && caret.node?.nextSibling?.nextSibling) {
					setCaret(caret.node.nextSibling.nextSibling, 1, true);
				}
			}, 0);
		});

		this.addEventListener('focusin', (event) => {
			if (this.panelEnabled && this.panelController?.state) {
				this.panelController.state.lastActiveCoder = this;
				this.panelController.open(event.target);
			}
		});

		this.addEventListener('click', (event) => {
			if (this.panelEnabled && !this.disabled) {
				if (!this.panelController?.panel) {
					this.panelController.state.lastActiveCoder = this;
					this.panelController.open(event.target);
				} else if (!this.panelController.panel.isConnected) {
					this.panelController.panel.open();
				}
			}
		});

		this.addEventListener('focusout', (event) => {
			if (this.panelEnabled) {
				this.panelController.state.lastActiveCoderCaretOffset = getCaret().offset;

				if (
					!this.panelController.state.onPanel &&
					!this.panelController.state.onSearchInput &&
					!this.panelController._hintPanel
				) {
					this.panelController.close();
				}
			}
			if (this.panelController?._hintPanel) {
				this.panelController._hideHintPanel(this.panelController._hintPanel, true);
			}
			if (this.panelController.state.keepFocused) {
				this.focus();
			}
		});
	}

	initIML() {
		if (_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML && !(Coder.functions || Coder.variables || Coder.operators || Coder.keywords)) {
			this._buildImlPills();
		} else if (this.changedIml()) {
			Coder.team_variables = null;
			Coder.organization_variables = null;
			Coder.scenario_inputs = null;
			Coder.functions = null;
			this._buildImlPills();
		}
	}

	imlCustomVariables() {
		const TEAM_VARIABLES = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.getIMLCategory)('TEAM_VARIABLES', this.imlItems);
		const ORGANIZATION_VARIABLES = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.getIMLCategory)('ORGANIZATION_VARIABLES', this.imlItems);
		const SCENARIO_INPUTS = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.getIMLCategory)('SCENARIO_INPUTS', this.imlItems);
		const SCENARIO_VARIABLES = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.getIMLCategory)('SCENARIO_VARIABLES', this.imlItems);
		const CUSTOM_FUNCTIONS = this.form?.meta?.imlOptions?.functions;

		return {
			TEAM_VARIABLES,
			ORGANIZATION_VARIABLES,
			SCENARIO_INPUTS,
			SCENARIO_VARIABLES,
			CUSTOM_FUNCTIONS,
		};
	}

	changedIml() {
		const compare = this.imlCustomVariables();

		return !Coder.pillCacheValue || Coder.pillCacheValue !== JSON.stringify(compare);
	}

	connectedCallback() {
		if (this._built) return;
		this._built = true;

		this.initIML();

		this.classList.add('form-control');
		this.setAttribute('contenteditable', !this.hasAttribute('disabled'));
		this.setAttribute('spellcheck', 'false');

		this.variables = this._buildPills();

		this.form.coderPanelController = this.form.coderPanelController || new CoderPanelController(Coder, this.form);
		this.panelController = this.form.coderPanelController;

		this.panelController.variables = this.variables;
		this.panelController.pills = this.form.meta.pills;

		if (this._pendingValue) {
			this.renderValue(this._pendingValue);
			this._pendingValue = null;

			const field = this.closest('[field]');

			if (field && field._runValidators) {
				field._runValidators();
			}
		}
	}

	get containsIML() {
		return this.querySelector('imt-pill') != null;
	}

	getReferencePills() {
		return Array.from(this.querySelectorAll('imt-pill:not(.last)')).filter((x) => x._pill);
	}

	get disabled() {
		return this.hasAttribute('disabled');
	}

	set disabled(value) {
		if (value) {
			this.setAttribute('disabled', '');
			this.setAttribute('contenteditable', 'false');
		} else {
			this.removeAttribute('disabled');
			this.setAttribute('contenteditable', 'true');
		}
	}

	get errors() {
		const problems = [];

		for (const pill of this.querySelectorAll('imt-pill[invalid]')) {
			problems.push(pill.getAttribute('invalid'));
		}
		return problems;
	}

	get readonly() {
		return this.hasAttribute('readonly');
	}

	set readonly(value) {
		if (value) {
			this.setAttribute('readonly', '');
		} else {
			this.removeAttribute('readonly');
		}
	}

	get value() {
		if (this._pendingValue) {
			return this._pendingValue;
		}

		if (!this.childNodes || !this.childNodes.length) {
			return '';
		}

		if (this.childNodes.length === 1 && this.childNodes[0].nodeName === '#text') {
			return this.childNodes[0].textContent;
		}

		return _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify((0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.domToAST)(this.childNodes, true), undefined, { keepUnwantedOperators: true });
	}

	set value(value) {
		// render value on build
		if (!this._built) {
			this._pendingValue = value;
		} else {
			this.renderValue(value);
		}
	}

	get form() {
		if (!this._form) {
			this._form = this.closest('imt-forman');
		}

		return this._form;
	}

	renderValue(value) {
		// Erase content
		this.textContent = value;

		// Erase current content;
		this.innerHTML = '';

		// Attach DOM created from AST
		const ast = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(value, undefined, undefined, { keepUnwantedOperators: true });

		for (const elm of (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.astToDOM)(
			ast,
			this.panelController.variables,
			undefined,
			false,
			this.form ? Coder.cache.get(this.form.meta?.pills) : {},
			this.imlItems,
		)) {
			this.appendChild(elm);
		}

		normalize(this, this.panelController.variables, true, this.imlItems);
	}

	get form() {
		if (!this._form) {
			this._form = this.closest('imt-forman');
		}

		return this._form;
	}

	get imlItems() {
		return (this.form?.meta?.imlOptions?.variables || []).concat(this.form?.meta?.imlOptions?.functions || []);
	}

	get imlCategories() {
		return this.imlItems?.map((x) => x.category) || [];
	}

	_buildImlPills() {
		_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.IML_CATEGORIES.concat(this.imlCategories).forEach((type) => {
			const vars = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.getIMLCategory)(type.toUpperCase(), this.imlItems);

			if (vars) {
				let items = Object.entries(vars);

				if (this.imlCategories.includes(type)) {
					items = items.sort((a, b) => sortVariables(a[1], b[1]));
				}

				items.forEach(([name, spec]) => {
					if (spec.hidden || this.isHiddenIml(type, name) || spec.type?.startsWith('account:')) {
						return;
					}

					const elm = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.createPill)(type.slice(0, -1), name, null, null, this.imlItems);

					elm.setAttribute('preview', true);

					switch (type) {
						case 'functions':
							elm.textContent = name || '()';
							break;
						case 'operators':
							elm.textContent = spec.label || name;
							break;
						case 'variables':
						case 'keywords':
						case 'organization_variable':
						case 'team_variable':
							elm.textContent = name;
					}

					elm._pill = spec;

					Coder[type] = Coder[type] || {};
					Coder[type][name] = elm;
				});
			}
		});

		Coder.pillCacheValue = JSON.stringify(this.imlCustomVariables());
	}

	_buildPills() {
		let variables = {};

		const createPills = (group, nested, level = 0, parent) => {
			group.pills
				.filter((spec) => !variables[spec.code])
				.forEach((spec, index) => {
					const elm = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.createPill)('variable', spec.code, null, null, this.imlItems);

					const showIDs = imt?.config?.showIDs;
					const prefix = showIDs && spec.node ? `${spec.node.id}. ${spec.prefix}` : '' + spec.prefix;

					elm.textContent = spec.name || spec.raw;

					elm.setAttribute('prefix', prefix);
					elm.setAttribute('level', level);
					elm.setAttribute('type', spec.type);
					elm._pillMeta = { level, prefix };

					if (nested) {
						elm.setAttribute('nested', true);
						elm.setAttribute('parent-type', group.type);
						elm.setAttribute('nth', index + 1);
						elm._pillMeta.nested = true;
						elm._pillMeta.nth = index + 1;
					}

					if (spec.theme) {
						elm.style.color = spec.theme.determineForegroundColor();
						elm.style.backgroundColor = spec.theme.toHex();
					}

					elm._pill = spec;

					if (/^(\d+)\.(.*)$/.test(spec.code)) {
						elm.sample = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`div.coder-sample`);
						elm.sample.textContent = sample(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML._mapVariable(this.form.meta.samples, spec.code));
					}

					if (spec.pills && spec.pills.length) {
						elm.setAttribute('has-children', true);
						elm._pillMeta.hasChildren = true;
						createPills(spec, true, level + 1, elm);
					}

					variables[spec.code] = elm;
				});
		};

		const pills = this.form.meta?.pills;

		if (pills && pills.length) {
			if (Coder.cache.has(pills)) {
				variables = Coder.cache.get(pills);
			} else {
				pills.forEach((group) => {
					group.pills && group.pills.length && createPills(group);
				});

				Coder.cache.set(pills, variables);
			}
		}

		return variables;
	}

	isHiddenIml(type, name) {
		const hiddenImls = [{ type: 'operators', name: '++' }];

		return hiddenImls.some((x) => x.type === type && x.name === name);
	}
}

Coder.functions = null;
Coder.variables = null;
Coder.operators = null;
Coder.keywords = null;
Coder.pillCacheValue = null;
Coder.cache = new WeakMap();

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-coder', Coder);

const closeHintInActive = () => {
	if (document.activeElement.closest) {
		const coder = document.activeElement.closest('imt-coder');

		if (coder?.panelController?._hintPanel) {
			coder.panelController._hideHintPanel(coder.panelController._hintPanel, true);
		}
	}
};

// Event listeners
document.addEventListener('selectionchange', (event) => {
	const showFnHint = () => {
		const node = getCaret().node;

		if (!node) {
			closeHintInActive();
		} else {
			let current = node;
			let skip = 0;
			let position = 0;

			while (current.previousSibling) {
				if (!current || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(current, 'imt-pill.function')) {
					if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(current, 'imt-pill.function.last')) {
						skip++;
					} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(current, 'imt-pill.function.first')) {
						if (skip < 1) {
							break;
						}
						skip--;
					} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(current, 'imt-pill.function.separator') && skip < 1) {
						position++;
					}
				}
				current = current.previousSibling;
			}

			if (current && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(current, 'imt-pill.function')) {
				const coder = current && current.closest && current.closest('imt-coder');
				const name = current.getAttribute('name');
				const type = current.getAttribute('type');

				let group = current.getAttribute('group');

				if (group?.includes(',')) {
					group = group.split(',')[0];
				}

				const syntax = current.classList.contains('custom-function')
					? name + `(${current.getAttribute('function-arguments')})`
					: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.syntax`);

				const nameSegments = syntax.match(/^\s*(\w+)\s*\((.*)\)/);
				let fnName;
				let fnArgs;

				if (nameSegments) {
					fnName = nameSegments[1];
					fnArgs = nameSegments[2].split(';');
				}

				if (!coder?.fnPanelEnabled) {
					return;
				}

				if (
					coder?.panelController?._hintPanel?.relative !== current ||
					!coder?.panelController?._hintPanel?.setActiveArg
				) {
					if (coder.panelController._hintPanel) {
						coder.panelController._hideHintPanel(coder.panelController._hintPanel, true);
					}
					coder.panelController._showHintPanel(
						current,
						{
							name: fnName || syntax,
							args: fnArgs,
							activeArg: position,
							help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.help`),
							example: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(`iml.${group}.functions.${name}.example`, {
								defaultValue: null,
								skipInterpolation: true,
							}),
							type,
						},
						true,
						true,
						true,
					);
				} else {
					coder.panelController._hintPanel.setActiveArg(position);
				}
			} else {
				closeHintInActive();
			}
		}
	};

	// Remove .selection class from all pills
	for (const pill of document.querySelectorAll('imt-pill.selection')) {
		pill.classList.remove('selection');
	}

	showFnHint();

	// Add .selection class to all pills in selection
	const pills = getRange().filter((node) => node.nodeType === 1);

	if (!pills.length) return;

	for (const pill of pills) {
		pill.classList.add('selection');
	}
});

document.addEventListener('touchstart', (event) => {
	const panel = event.target.closest('.coder-pills');

	if (!panel) return;

	panel.controller.state.onPanel = true;
});

document.addEventListener('mousedown', (event) => {
	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target, '.hint-close') || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target.parentElement, '.hint-close')) {
		const panel = event.target.closest('imt-panel');

		if (panel) {
			panel.relative.closest('imt-coder').fnPanelEnabled = false;
		}
	}

	const panel = event.target.closest('.coder-pills');

	if (!panel) return;

	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target, '.coder-search')) {
		panel.controller.state.onSearchInput = true;
		return;
	}

	if (!event.target.draggable) {
		panel.controller.state.keepFocused = true;
	}

	panel.controller.state.onPanel = true;
});

const mouseupListener = (event) => {
	// This is only emitted when user clicked the pill but drag has not started
	const panel = event.target?.closest ? event.target?.closest('.coder-pills') : null;

	if (!panel) return;

	if (panel.controller.state.lastActiveCoder && panel.controller.state.onPanel) {
		// TODO: Is setTimeout really necessary?
		setTimeout(() => panel.controller.state.lastActiveCoder.focus(), 0);

		if (event.target.nodeName === 'IMT-PILL') {
			const nodesAffectedByDrag = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveFullDOM)(event.target);
			const iml = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify((0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.domToAST)(nodesAffectedByDrag, true), undefined, { keepUnwantedOperators: true });

			const caret = getCaret();

			if (!caret.node || caret.node.nodeType !== 3) return;

			injectTextNode(caret.node, caret.offset, document.createTextNode(iml));

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(panel?.controller?.state?.lastActiveCoder, 'input', { bubbles: true });
			(0,_tracking_mjs__WEBPACK_IMPORTED_MODULE_8__.trackFirstDataMapped)(panel.controller.state.lastActiveCoder);
		}
	}

	if (panel.controller.state.onSearchInput && !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target, '.coder-search')) {
		// TODO: Add to the focus out
		panel.controller.state.lastActiveCoder.focus();

		const caret = getCaret();

		setCaret(caret.node, panel.controller.state.lastActiveCoderCaretOffset);

		panel.controller.state.onSearchInput = false;
	}

	panel.controller.state.keepFocused = false;
	panel.controller.state.onPanel = false;
};

document.addEventListener('mouseup', mouseupListener);
document.addEventListener('touchend', mouseupListener);

// Helper functions

function sortVariables(a, b) {
	if (!a || !b) {
		return 0;
	}

	if (a.isSystem && !b.isSystem) {
		return 1;
	} else if (!a.isSystem && b.isSystem) {
		return -1;
	}

	if (!a.name || !b.name) {
		return 0;
	}

	return a?.name.localeCompare(b.name);
}

/**
 * Accepts raw caret position and translates it to the position on text node. Sometimes raw caret position may point to a HTML element.
 *
 * @param node
 * @param offset
 * @param forward
 * @returns {object} Object with `node` and `offset` properties. Node is always a text node.
 */

function resolveCaretPositionInCoder(node, offset, forward = false) {
	if (node.nodeName === 'IMT-CODER') {
		if (offset === 0 || !node.firstChild) {
			// If offset is 0 or coder is empty
			if (node.firstChild && node.firstChild.nodeType !== 3) {
				// First child is not a text field, build a SPACER there
				node.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), node.firstChild);
			} else if (!node.firstChild) {
				// Empty coder
				node.appendChild(document.createTextNode(''));
			}
			// Set the first child to be an anchor
			node = node.firstChild;
		} else {
			if (!node.childNodes[offset]) {
				// Sometimes if happens in Chrome that offset points to undefined position in childNodes
				node = node.firstChild;
			} else {
				node = node.childNodes[offset];
			}
		}
	}

	if (node.nodeType === 3) {
		// Text node - make sure we're a direct child of a coder
		if (!node.parentNode || node.parentNode.nodeName !== 'IMT-CODER') {
			return { node: null, offset: 0 };
		}
	}

	if (node.nodeType !== 3) {
		// Traverse up the dom to find imt-coder
		while (node) {
			if (node.parentNode && node.parentNode.nodeName === 'IMT-CODER') break;
			node = node.parentNode;
		}

		// Break when we find orphaned node
		if (!node) return { node: null, offset: 0 };

		if (forward) {
			// Search first text sibling to the left
			if (node.nextSibling && node.nextSibling.nodeType === 3) {
				// Next is text, good for us
				node = node.nextSibling;
				offset = 0;
			} else {
				// No next or next isnt text, create SPACER
				const spacer = document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER);

				if (node.nextSibling) {
					node.parentNode.insertBefore(spacer, node.nextSibling);
				} else {
					node.parentNode.appendChild(spacer);
				}
				node = spacer;
			}
		} else {
			// Search first text sibling to the left
			if (node.previousSibling && node.previousSibling.nodeType === 3) {
				// Prev is text, good for us
				node = node.previousSibling;
				offset = node.textContent.length;
			} else {
				// No prev or prev isnt text, create SPACER
				const spacer = document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER);

				node.parentNode.insertBefore(spacer, node);
				node = spacer;
			}
		}
	}

	return {
		node,
		offset,
	};
}

function getCaret() {
	const sel = document.getSelection();

	if (!sel.anchorNode) return { node: null, offset: 0, collapsed: true };

	const { node, offset } = resolveCaretPositionInCoder(sel.anchorNode, sel.anchorOffset);

	if (!node) return { node: null, offset: 0, collapsed: true };

	return {
		node,
		offset,
		collapsed: sel.isCollapsed,
	};
}

function setCaret(node, offset, force = false) {
	offset = Math.max(offset, 0);

	if (node && node.nodeType === 3) {
		offset = Math.min(node.textContent.length, offset);

		// Make sure we always set offset to 1 on SPACERs
		if (isSpacer(node) && !force) offset = 1;
	}

	const sel = window.getSelection();
	const range = document.createRange();

	range.setStart(node, offset);
	range.collapse(true);
	sel.removeAllRanges();
	sel.addRange(range);
}

function getRange() {
	const sel = document.getSelection();

	if (sel.isCollapsed || !sel.rangeCount) return [];

	const range = sel.getRangeAt(0);
	const start = resolveCaretPositionInCoder(range.startContainer, range.startOffset);

	if (!start.node) return [];
	const end = resolveCaretPositionInCoder(range.endContainer, range.endOffset, true);

	if (start.node === end.node) {
		// Start & end on the same node
		if (start.offset === 0 && end.offset === end.node.textContent.length) {
			// Selection covers the whole node
			return [start.node];
		} else {
			return [document.createTextNode(start.node.textContent.substring(start.offset, end.offset))];
		}
	}

	const nodes = [];
	let node = start.node;

	if (start.offset === 0) {
		// Push the whole node
		nodes.push(node);
	} else {
		// Push just a part of the text node
		nodes.push(document.createTextNode(node.textContent.substr(start.offset)));
	}

	while (node.nextSibling) {
		node = node.nextSibling;

		if (node === end.node) {
			// Found end of the selection
			if (end.offset === end.node.textContent.length) {
				// Push the whole node
				nodes.push(end.node);
			} else {
				// Push just a part of the text node
				nodes.push(document.createTextNode(end.node.textContent.substr(0, end.offset)));
			}

			return nodes;
		} else {
			nodes.push(node);
		}
	}

	// This should never occur - that means we didn't reach end node in siblings.
	return nodes;
}

function isSpacer(elm) {
	if (!elm || elm.nodeType !== 3) return false;
	return elm.textContent === _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
}

function isDoubleSpacer(elm) {
	if (!elm || elm.nodeType !== 3) return false;
	return elm.textContent === _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER + _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
}

/**
 * Injects text node with an element.
 *
 * @param node Text node to inject.
 * @param {number} offset Offset.
 * @param elm Element to inject.
 */

function injectTextNode(node, offset, elm) {
	if (!node || node.nodeType !== 3) return;

	if (offset === node.textContent.length) {
		// Inject end of the text node
		if (elm.nodeType === 3) {
			// With text node
			node.textContent += elm.textContent;
			setCaret(node, offset + elm.textContent.length);
		} else {
			// With HTML element
			if (node.nextSibling) {
				if (node.nextSibling.nodeType !== 3) {
					// Next sibling is HTML element
					node.parentNode.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), node.nextSibling);
				}
				setCaret(node.nextSibling, 0);
				node.parentNode.insertBefore(elm, node.nextSibling);
			} else {
				// No sibling, append to the end
				node.parentNode.appendChild(elm);
				// Create SPACER
				const spacer = document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER);

				node.parentNode.appendChild(spacer);
				setCaret(spacer, 0);
			}
		}
	} else if (offset === 0) {
		// Inject start of the text node
		if (elm.nodeType === 3) {
			// With text node
			node.textContent = elm.textContent + node.textContent;
			setCaret(node, elm.textContent.length);
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(elm, 'imt-pill.function.separator')) {
			node.parentNode.insertBefore(elm, node);
			setCaret(node, 0);
		} else {
			// With HTML element
			node.parentNode.insertBefore(elm, node);
			setCaret(node, elm.textContent.length);
		}
	} else {
		// Split the text node
		if (elm.nodeType === 3) {
			// With text node
			node.textContent = node.textContent.substr(0, offset) + elm.textContent + node.textContent.substr(offset);
			setCaret(node, offset + elm.textContent.length);
		} else {
			// With HTML element
			const next = node.splitText(offset);

			node.parentNode.insertBefore(elm, next);
			setCaret(next, 0);
		}
	}
}

/**
 * Returns where the given element lays inside a function/variable or not. It calculates the number of function/variable openings and that number
 * must be higher than function/variable ends.
 *
 * @param {string} type Type of lookup - `function` or `variable`.
 * @param {HTMLElement} elm Element to check.
 * @returns {boolean}
 */

function isNodeNestedIn(type, elm) {
	if (!elm) return false;

	let counter = 0;
	let prev = elm.previousSibling;

	while (prev) {
		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(prev, `imt-pill.${type}.first`)) counter++;
		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(prev, `imt-pill.${type}.last`)) counter--;
		prev = prev.previousSibling;
	}

	return counter > 0;
}

function find(type, name) {
	const result = Coder[type + 's'][name];

	return result ? result.cloneNode(true) : undefined;
}

function sample(value) {
	if (!value) return '';

	switch (typeof value) {
		case 'string':
			if (/^IMTBuffer\((\d+), ([^,]*), ([^,]*)\): ([\s\S]*)$/.exec(value)) {
				return RegExp.$4.replace(/(.{2})/g, '$1 ');
			}

			if (/^IMTString\((\d+)\): ([\s\S]*)$/.exec(value)) {
				return RegExp.$2;
			}

			return value;

		case 'object':
			if (Array.isArray(value)) {
				return `[${value.map((item) => sample(item)).join(', ')}]`;
			}
			if (value instanceof Date) {
				// eslint-disable-next-line no-undef
				return format(value, 'datetime', { timezone: imt.user.timezone });
			} // TODO add format function
			return '{collection}';

		default:
			return String(value);
	}
}

function normalize(element, variables = undefined, keepUnwantedOperators = true, imlItems = null) {
	const caret = getCaret();
	let next = element.firstChild;
	let last = null;

	// First, remove unwanted and unnecessary nodes and join text siblings together

	while (next) {
		const child = next;

		if (child.nodeType === 3) {
			// Child is text node
			if (last && last.nodeType === 3) {
				// Last child was also a text node, join them together

				if (child.textContent.length === 0 || isSpacer(child)) {
					// Remove empty text node
					next = child.nextSibling;
					if (caret.node === child) {
						caret.node = last;
						caret.offset = last.textContent.length;
					}
					element.removeChild(child);
					continue;
				}

				if (caret.node === child) {
					// Caret is positioned inside child, move caret to last
					caret.node = last;
					caret.offset += last.textContent.length;
				}

				last.textContent += child.textContent;
				next = child.nextSibling;
				element.removeChild(child);
				continue;
			} else if (child.textContent.length === 0) {
				// First text node is empty, make it a SPACER
				child.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
			}
		} else if (child.nodeType === 1) {
			// Child is HTML element
			if (child.nodeName === 'IMT-PILL') {
				// Remove all non-text nodes from our pills (e.g. cased by formatting in copy/paste)
				const text = child.textContent;

				child.innerHTML = '';
				child.textContent = text;
			} else {
				// Unwanted node
				if (child.childNodes.length) {
					// Replace node with its content
					next = child.firstChild;
					while (child.firstChild) {
						element.insertBefore(child.firstChild, child);
					}

					element.removeChild(child);
					continue;
				} else {
					next = child.nextSibling;
					element.removeChild(child);
					continue;
				}
			}
		} else {
			if (caret.node === child) {
				// Caret is positioned inside child, move caret to prev/next
				if (last) {
					caret.node = last;
					caret.offset = last.textContent.length;
				} else {
					if (!child.nextSibling) {
						// No next sibling, we're removing the last child, so create empty text node as placeholder
						next = document.createTextNode('');
						element.appendChild(next);
						element.removeChild(child);
						continue;
					} else {
						caret.node = child.nextSibling;
						caret.offset = 0;
					}
				}
			}

			// Unknown node, remove
			element.removeChild(child);
			continue;
		}

		last = child;
		next = child.nextSibling;
	}

	// Performance boost - break out when there's nothing to normalize

	if (element.childNodes.length === 1 && element.childNodes[0].nodeType === 3) {
		if (isSpacer(element.childNodes[0]) || isDoubleSpacer(element.childNodes[0])) {
			element.childNodes[0].textContent = '';
		}

		// Single empty text node, skip normalization
		if (element.childNodes[0].textContent.length === 0) return;
	}

	// Next, find new IML nodes in text

	last = null;
	next = element.firstChild;

	while (next) {
		const child = next;

		if (child.nodeType === 3) {
			// Child is text node
			RE_IML_GLOBAL.lastIndex = 0; // Reset the lastIndex
			const result = RE_IML_GLOBAL.exec(child.textContent);

			if (result) {
				// Child contains IML expression
				const ast = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(result[0], undefined, undefined, { keepUnwantedOperators });

				for (const err of _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.errors) console.warn(err);
				const dom = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.astToDOM)(ast, variables, undefined, false, Coder.cache.get(element.form?.meta?.pills), imlItems);

				if (result.index + result[0].length === child.textContent.length) {
					// IML is on the end of the text node
					child.textContent = child.textContent.substr(0, result.index);

					if (child.textContent.length === 0) {
						// IML expression was all around the text content, replace it with SPACER
						child.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
					}

					if (!child.nextSibling) {
						// We have no sibling on the right - we must create SPACER
						element.appendChild(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER));
					} else if (child.nextSibling.nodeType !== 3) {
						// We have no text sibling on the right - we must create SPACER
						element.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), child.nextSibling);
					}

					if (caret.node === child && caret.offset > result.index) {
						// Cursor was originally in the place where the code was
						caret.node = child.nextSibling;
						caret.offset = 0;
					}

					// We need to store next sibling as constand because it's about to change once we start adding new dom
					const nextSibling = child.nextSibling;

					for (const elm of dom) {
						element.insertBefore(elm, nextSibling);
					}

					last = dom[dom.length - 1];
					next = last && last.nextSibling;
					continue;
				} else if (result.index === 0) {
					// IML is right on the text start
					child.textContent = child.textContent.substr(result[0].length);

					if (child.textContent.length === 0) {
						// IML expression was all around the text content, replace it with SPACER
						child.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
					}

					if (!child.previousSibling || child.previousSibling.nodeType !== 3) {
						// We have no text sibling on the left - we must create SPACER
						element.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), child);
					}

					if (caret.node === child) {
						// Cursor was originally in the place where the code was
						caret.offset = Math.max(0, caret.offset - result[0].length);
					}

					for (const elm of dom) {
						element.insertBefore(elm, child);
					}

					// Iterate trought the child again to find another code occurences
					next = child;
					last = child.previousSibling;
					continue;
				} else {
					next = child.splitText(result.index);
					next.textContent = next.textContent.substr(result[0].length);

					if (caret.node === child && caret.offset > result.index) {
						// Cursor was originally in the place where the code was
						caret.node = next;
						caret.offset = Math.max(0, caret.offset - (result.index + result[0].length));
					}

					for (const elm of dom) {
						element.insertBefore(elm, next);
					}

					last = next.previousSibling;
					continue;
				}
			}
		}

		last = child;
		next = child.nextSibling;
	}

	// Last, inject pill siblings and edges with invisible SPACER

	last = null;
	next = element.firstChild;

	while (next) {
		const child = next;

		if (child.nodeType === 3) {
			// Child is text node
			if (isSpacer(child)) {
				if (
					(child.previousSibling && child.previousSibling.nodeType !== 1) ||
					(child.nextSibling && child.nextSibling.nodeType !== 1)
				) {
					// Remove SPACER when not between two elements (except edges)
					next = child.nextSibling;
					element.removeChild(child);
					continue;
				}
			} else if (isDoubleSpacer(child)) {
				child.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
				if (caret.node === child && caret.offset > 1) caret.offset--;
			} else {
				// Search for SPACERs and remove unwanted ones
				let cursor = child.textContent.indexOf(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER);
				const originalOffset = caret.offset;

				// There's a SPACER inside text node, clean it up (ignore last character bacuse it is probably SPACER)
				while (cursor !== -1 && cursor < child.textContent.length) {
					if (cursor === 0 && child.textContent.charAt(1) === '\n') {
						// SPACER on the first position followed by newline - SPACER stays
						cursor = child.textContent.indexOf(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER, 1);
						continue;
					} else if (
						cursor === child.textContent.length - 1 &&
						child.textContent.charAt(child.textContent.length - 2) === '\n'
					) {
						// SPACER on the last position preceded by newline - SPACER stays
						break;
					}

					// Caret is inside this child
					if (caret.node === child && cursor < originalOffset) caret.offset--;

					// Remove unnecessary SPACER
					child.textContent = child.textContent.substr(0, cursor) + child.textContent.substr(cursor + 1);

					cursor = child.textContent.indexOf(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER, cursor);
				}

				if (child.textContent.charAt(0) === '\n') {
					child.textContent = _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER + child.textContent;
					if (caret.node === child && caret.offset > 0) caret.offset += 1;
				}
				if (child.textContent.charAt(child.textContent.length - 1) === '\n') {
					child.textContent = child.textContent + _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER;
				}
			}
		} else if (child.nodeType === 1) {
			// Child is HTML element
			if (last && last.nodeType === 1) {
				// Pill siblings, inject SPACER
				element.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), child);
			}
		}

		last = child;
		next = child.nextSibling;
	}

	if (element.firstChild && element.firstChild.nodeType === 1) {
		// HTML element on the start, add SPACER
		element.insertBefore(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER), element.firstChild);
	}

	if (element.lastChild && element.lastChild.nodeType === 1) {
		// HTML element on the end, add SPACER
		element.appendChild(document.createTextNode(_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_2__.SPACER));
	}

	if (document.activeElement === element) {
		// This coder is focused, make sure we move caret accordingly to changes
		if (caret.node) {
			setCaret(caret.node, caret.offset);
		} else {
			// In case we have no anchor, seek to last possible caret position
			if (element.lastChild) {
				setCaret(element.lastChild, element.lastChild.textContent.length);
			}
		}
	}

	return element;
}


/***/ }),

/***/ "./lib/controls/connectionManager.mjs":
/*!********************************************!*\
  !*** ./lib/controls/connectionManager.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ConnectionManager)
/* harmony export */ });
/* harmony import */ var _remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");




const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account;

class ConnectionManager extends EventTarget {
	static async getCreateConnectionPanel(instructions, target, personalConnections) {
		// celonis
		const onlyPersonal = !instructions?.options?.team && instructions.accountInputPanel && personalConnections;
		const panel = new _remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"](target);
		const instructionsQuery = new URLSearchParams();

		instructions.connectionTypes.forEach((acc) => instructionsQuery.append('type', acc.type));

		if (personalConnections) {
			instructionsQuery.append('personalConnections', true);

			if (instructions?.options?.organization) {
				instructionsQuery.append('organizationId', instructions?.options?.organization);
			}
		}

		if (onlyPersonal) {
			instructionsQuery.append('onlyPersonal', true);
		} else {
			instructionsQuery.append('teamId', instructions?.options?.team);
		}

		await panel.build({
			name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('panels.account.create'),
			help: (target && target.closest('imt-panel')?.help) || this.form?.help || config.kb.path,
			src: `${config.api.instructions.path}?${instructionsQuery}`,
			options: {
				oauth: {
					scope: instructions.connectionTypes,
				},
			},
			theme: instructions.theme,
		});

		return {
			handler: panel,
			dom: panel.panel,
		};
	}
}

window.FormanConnectionManager = ConnectionManager;


/***/ }),

/***/ "./lib/controls/oauth.mjs":
/*!********************************!*\
  !*** ./lib/controls/oauth.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* global browser */







const FormulaOAuth = {
	/*
	Called from RemoteFormula to open popup on user's click event and prevent popup to be blocked.
	*/

	activeWindow: null,

	win(url = '/oauth/wait') {
		if (browser.mobile) {
			return;
		}
		const win = FormulaOAuth.openWindow(url);

		FormulaOAuth.activeWindow = win;
		FormulaOAuth.setContent(win);
		return win;
	},

	async auth(oauthWindow, connectionId, scope, context = {}) {
		this.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.creating'));

		if (!scope) scope = [];

		context = { ...context, ...{ connectionId } };

		// refactor this
		const apiPath =
			context.accountOwner === 'personal-connections'
				? _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.auth.pathPersonal
				: _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.auth.path;

		const url = FormulaOAuth.getUrl(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.parse(apiPath), context), connectionId, scope);

		console.log('[imt:oauth_auth]', url);

		const check = async () => {
			this.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.waiting'));

			await FormulaOAuth.waitForAuthentication({
				oauthWindow,
				connectionId,
				accountOwner: context.accountOwner,
				onReady: async () => {
					this.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.verifying'));
					await FormulaOAuth.test(connectionId, context.accountOwner);
				},
			});
		};

		if (browser.mobile) {
			this.setLoading(false);

			// on mobile browsers theres a problem that i cant make ajax request in inactive window so i have to ask user to click once again to open popup
			this.content = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.btn.btn-primary[type="button"]');
			this.content.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.authorize');
			this.content.addEventListener('click', async () => {
				oauthWindow = FormulaOAuth.openWindow(url);

				if (!oauthWindow) throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.popup'));

				this.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.waiting'));
				return await check();
			});
		} else {
			oauthWindow = FormulaOAuth.openWindow(url);
			return await check();
		}
	},

	async waitForAuthentication({ oauthWindow, connectionId, accountOwner, onReady }) {
		return new Promise((resolve, reject) => {
			let callbackCheckTimer = null;
			let callbackCheckTimeout = false;

			const closeCheckTimer = setInterval(async () => {
				if (oauthWindow.closed) {
					// If check timeouts pass the check and try to test the connection anyway
					if (callbackCheckTimeout || (await FormulaOAuth.isReady(connectionId, accountOwner))) {
						clearInterval(closeCheckTimer);

						try {
							onReady && (await onReady());
							resolve();
						} catch (ex) {
							reject(ex);
						}
					} else {
						if (!callbackCheckTimer) {
							callbackCheckTimer = setTimeout(() => {
								callbackCheckTimeout = true;
								console.log('[imt:oauth_auth]', 'auth check timeouted');
							}, 30000);
						}
					}
				}
			}, 1000);
		});
	},

	async isReady(connectionId, accountOwner = 'connections') {
		let response;

		try {
			response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].load(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.check.path, {
				context: { connectionId, accountOwner },
				method: 'GET',
			});
		} catch (ex) {
			// In case of the error pass the test to do not prevent creation of the connection
			return true;
		}

		return !response?.connection?.authorizing || false;
	},

	async test(connectionId, accountOwner = 'connections') {
		const response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].load(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.test.path, {
			context: { connectionId, accountOwner },
			method: 'POST',
		});

		if (!response.verified) {
			throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.verifyfailed'));
		}
	},

	async extend(connectionId, scope, personalConnection = false) {
		const apiPath = personalConnection
			? _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.extend.pathPersonal
			: _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.extend.path;

		const accountOwner = personalConnection ? 'personal-connections' : 'connections';
		const url = FormulaOAuth.getUrl(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.parse(apiPath), { connectionId }), connectionId, scope);

		console.log('[imt:oauth_extendScope]', url);

		const oauthWindow = FormulaOAuth.openWindow(url);

		if (!oauthWindow) {
			throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.popup'));
		}

		await FormulaOAuth.waitForAuthentication({
			oauthWindow,
			connectionId,
			accountOwner,
			onReady: async () => {
				this.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.verifying'));

				const response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].load(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.account.api.scoped.path, {
					context: { connectionId, accountOwner },
					method: 'POST',
					body: { scope: scope },
				});

				if (!response.connection?.scoped) {
					throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('panels.account.extendfailed'));
				}
			},
		});
	},

	getUrl(url, connectionId, scope) {
		const params = [];

		if (scope?.length) {
			params.push(`scope=${scope.map(encodeURIComponent).join('&scope=')}`);
		}

		if (imt.standalone) {
			url = imt.apiurl + url;
		}

		const queryString = params.length ? `?${params.join('&')}` : '';

		return url + queryString;
	},

	setContent(oauthWindow) {
		return oauthWindow.document.write('<p> Authorizing...</p>');
	},

	openWindow(url) {
		return window.open(
			url,
			'authAccountWindow',
			'toolbar=no, scrollbars=yes,location=no,status=no,width=1024,height=768',
		);
	},

	close(res) {
		FormulaOAuth.activeWindow.close();
		return (FormulaOAuth.activeWindow = null);
	},
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormulaOAuth);
window.FormulaOAuth = FormulaOAuth;


/***/ }),

/***/ "./lib/controls/panel.mjs":
/*!********************************!*\
  !*** ./lib/controls/panel.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony export Panel */
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _panel_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./panel.scss */ "./lib/controls/panel.scss");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");






const PANEL_MARGIN = 10;

class Panel extends HTMLElement {
	constructor() {
		super();

		this._built = false;
		this._observers = [];
		this._updateListener = null;

		this._arrow = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-panel-arrow');

		this.__width = 'auto';
		this.__height = 'auto';

		// Update panel coords when resized
		new ResizeObserver((entries) => {
			this.update();
		}).observe(this);

		window.addEventListener(
			'scroll',
			(event) => {
				if (this.isConnected && this._relative && event.target.contains(this._relative)) {
					this.update();
				}
			},
			true,
		);
	}

	static get observedAttributes() {
		return ['position', 'relative', 'spacing'];
	}

	attributeChangedCallback(name, oldValue, newValue) {
		if (name === 'relative') {
			this.relative = newValue;
		} else if (name === 'position' || name === 'spacing' || name === 'compact') {
			this.update();
		}
	}

	connectedCallback() {
		if (!this._built) {
			this._built = true;

			this.classList.add('forman-panel'); // To define higher specificity for CSS

			if (!this.contains(this.body)) {
				// Make sure everything is in the right order
				if (this.relative) this.appendChild(this._arrow);

				this.appendChild(this.header);
				this.appendChild(this.body);
				this.appendChild(this.footer);
			}

			if (this.hasAttribute('relative')) this.relative = this.getAttribute('relative');

			this._updateListener = () => this.update();

			window.addEventListener('resize', this._updateListener);
			window.addEventListener('scroll', this._updateListener);

			if (this.relative) {
				const observer = new MutationObserver((mutations) => {
					if (mutations.some((mutation) => mutation.target === this || mutation.target === this._arrow)) return;
					this._updateListener();
				});

				this._observers.push(observer);

				observer.observe(document.body, {
					attributes: true,
					attributeFilter: ['style'],
					subtree: true,
				});
			}
		}

		this.update();
	}

	disconnectedCallback() {
		window.removeEventListener('resize', this._updateListener);
		window.removeEventListener('scroll', this._updateListener);

		this._observers.forEach((observer) => observer.disconnect());
		this._observers = [];
	}

	get body() {
		let body = this.querySelector(':scope > imt-panel-body');

		if (!body) {
			body = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-panel-body');
			this.appendChild(body);
		}
		return body;
	}

	get compact() {
		return this.hasAttribute('compact');
	}

	set compact(value) {
		if (value) {
			this.setAttribute('compact', '');
		} else {
			this.removeAttribute('compact');
		}
		this.update();
	}

	get footer() {
		let footer = this.querySelector(':scope > imt-panel-footer');

		if (!footer) {
			footer = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-panel-footer');
			this.appendChild(footer);
		}
		return footer;
	}

	get footerControls() {
		const footer = this.footer;
		let display = footer.querySelector('div.footer-display');
		let buttons = footer.querySelector('div.footer-buttons');

		if (!display) {
			display = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.footer-display');
			footer.append(display);
		}

		if (!buttons) {
			buttons = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.footer-buttons');
			footer.append(buttons);
		}

		return [display, buttons];
	}

	get header() {
		let header = this.querySelector(':scope > imt-panel-header');

		if (!header) {
			header = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-panel-header');
			this.appendChild(header);

			header.addCloseButton = () => {
				const close = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.close[type="button"]');

				close.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.far.fa-times'));
				close.addEventListener('click', (event) => {
					event.preventDefault();
					event.stopPropagation();

					this.close();
				});

				header.append(close);
			};
		}
		return header;
	}

	get spacing() {
		return parseInt(this.getAttribute('spacing') || 0);
	}

	set spacing(value) {
		this.setAttribute('spacing', value);
		this.update();
	}

	get position() {
		return (this.getAttribute('position') || 'inline').split(',');
	}

	set position(value) {
		if (value) {
			this.setAttribute('position', Array.isArray(value) ? value.join(',') : value);
		} else {
			this.removeAttribute('position');
		}
	}

	set resolvedPosition(value) {
		this.setAttribute('resolved-position', value);
	}

	get relative() {
		return this._relative;
	}

	set relative(value) {
		if (typeof value === 'string') value = document.querySelector(value);
		if (this._relative === value) return;

		if (value) {
			this.appendChild(this._arrow);
		} else {
			this.removeChild(this._arrow);
		}

		this._relative = value;
		this.update();
	}

	get title() {
		return this.querySelector(':scope > imt-panel-header').textContent;
	}

	set title(value) {
		this.querySelector(':scope > imt-panel-header').textContent = value;
	}

	get width() {
		return this.__width;
	}

	set width(value) {
		value = parseInt(value);
		if (isNaN(value)) return;
		if (this.__width === value) return;
		this.__width = value;
		this.update();
	}

	get height() {
		return this.__height;
	}

	set height(value) {
		value = parseInt(value);
		if (isNaN(value)) return;
		if (this.__height === value) return;
		this.__width = value;
		this.update();
	}

	set theme(value) {
		if (value) {
			const color = (value.toHex ? value.toHex() : value).toLowerCase();

			if (/^#[0-9A-F]{6}$/i.test(color) && this.header) {
				this.header.classList.add('gradient', `theme-${color.replace('#', '')}`);
			}
		}
	}

	setLoading(status) {
		if (status) {
			this.header.classList.add('d-none');
			this.body.classList.add('d-none');
			this.footer.classList.add('d-none');

			let loading = this.querySelector('div.imt-panel-loading');

			if (!loading) {
				loading = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.imt-panel-loading');
				loading.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.far.fa-circle-notch.fa-spin.loading-loader'));
			}

			if ('string' === typeof status) {
				const statusText = loading.querySelector('span.status') || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.status');

				statusText.textContent = status;
				loading.append(statusText);
			}

			this.append(loading);
			this.classList.add('fit-content');
		} else {
			const loading = this.querySelector('div.imt-panel-loading');

			if (loading) loading.parentElement.removeChild(loading);

			this.header.classList.remove('d-none');
			this.body.classList.remove('d-none');
			this.footer.classList.remove('d-none');

			this.classList.remove('fit-content');
		}

		this.update();
	}

	warn(message) {
		this.setLoading(false);

		const warningSelector = 'div.alert.alert-danger';
		const warning = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(warningSelector);
		const header = warning.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('h6'));

		header.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('common.error');

		if (message instanceof Error) {
			const body = warning.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span'));

			body.textContent = message.detail || message.message;

			if (message.suberrors?.length) {
				const ul = body.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('ul'));

				message.suberrors.forEach((err) => {
					const li = ul.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('li'));

					li.textContent = err.detail || err.message;
					// li.prepend(create('i.far.fa-fw.fa-angle-right'));
				});
			}
		} else if (typeof message === 'string') {
			const body = warning.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span'));

			body.textContent = message;
		}

		const existingWarning = this.body.querySelector(warningSelector);

		if (existingWarning) {
			existingWarning.replaceWith(warning);
		} else {
			this.body.prepend(warning);
		}
	}

	close() {
		if (!this.parentNode) return;
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].PANEL.CLOSE, { bubbles: true });
		this.parentNode.removeChild(this);
	}

	open() {
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].PANEL.OPEN);
		const relativeElement = this.relative?.closest('imt-forman');

		if (this.relative && !!relativeElement) {
			relativeElement.appendChild(this);
		} else {
			document.body.appendChild(this);
		}
	}

	update() {
		if (!this._built) return;

		const relative = this.relative;

		if (!relative || this.position.includes('inline')) {
			this.style.left = null;
			this.style.top = null;
			return;
		}

		const relativeOffset = relative.getBoundingClientRect();
		// const requiredWidth = this.outerWidth + this.spacing;
		const width = this.__width;
		const height = this.__height;

		if (width && width !== 'auto') this.style.width = `${width}px`;
		if (height && height !== 'auto') this.style.height = `${height}px`;

		// TODO: Handle special viewport cases
		// if (position === 'left' && relativeOffset.left - requiredWidth < PANEL_MARGIN) position = 'auto';
		// if (position === 'right' && window.innerWidth - relativeOffset.left < requiredWidth + PANEL_MARGIN && relativeOffset.left > requiredWidth)
		// position = 'auto';
		// if (position === 'auto') position = relativeOffset.left > (window.innerWidth - relativeOffset.left) ? 'left' : 'right';

		let { left, top, position } = this._resolvePosition(relativeOffset, this.position);

		this.resolvedPosition = position;

		// Prevent content overflowing the edge
		left = Math.ceil(Math.max(Math.min(left, window.innerWidth - this.offsetWidth - PANEL_MARGIN), PANEL_MARGIN));
		top = Math.ceil(Math.max(Math.min(top, window.innerHeight - this.offsetHeight - PANEL_MARGIN), PANEL_MARGIN));

		// Arrow setup
		if (position === 'right' || position === 'left') {
			this._arrow.style.left = '';
			this._arrow.style.top = `${relativeOffset.top + relativeOffset.height / 2 - top}px`;
		} else {
			this._arrow.style.left = `${relativeOffset.left + relativeOffset.width / 2 - left}px`;
			this._arrow.style.top = '';
		}

		this.style.left = `${left}px`;
		this.style.top = `${top}px`;
	}

	_resolvePosition(relativeOffset, positions) {
		let left = 0;
		let top = 0;
		let position;

		let initialLeft;
		let initialTop;
		let initialPosition;

		do {
			position = positions.shift();

			if (position === 'right') {
				left = relativeOffset.right + this.spacing;
				top = relativeOffset.top + relativeOffset.height / 2 - this.offsetHeight / 2;

				if (left + this.offsetWidth <= window.innerWidth) {
					return { left, top, position };
				}
			} else if (position === 'left') {
				left = relativeOffset.left - this.offsetWidth - this.spacing;
				top = relativeOffset.top + relativeOffset.height / 2 - this.offsetHeight / 2;

				if (left >= 0) {
					return { left, top, position };
				}
			} else if (position === 'bottom') {
				left = relativeOffset.left + relativeOffset.width / 2 - this.offsetWidth / 2;
				top = relativeOffset.bottom + this.spacing;

				if (top + this.offsetHeight <= window.innerHeight) {
					return { left, top, position };
				}
			} else if (position === 'top') {
				left = relativeOffset.left + relativeOffset.width / 2 - this.offsetWidth / 2;
				top = relativeOffset.top - this.offsetHeight - this.spacing;

				if (top >= 0) {
					return { left, top, position };
				}
			}
			initialLeft = initialLeft || left;
			initialTop = initialTop || top;
			initialPosition = initialPosition || position;
		} while (positions.length);

		// If nothing matches use initial position
		return {
			left: initialLeft,
			top: initialTop,
			position: initialPosition,
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-panel', Panel);


/***/ }),

/***/ "./lib/controls/picker.mjs":
/*!*********************************!*\
  !*** ./lib/controls/picker.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Picker: () => (/* binding */ Picker)
/* harmony export */ });
/* unused harmony exports Option, OptionGroup, PickerDropdown */
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _picker_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./picker.scss */ "./lib/controls/picker.scss");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");







class Option extends HTMLElement {
	constructor() {
		super();
	}

	static get observedAttributes() {
		return ['selected'];
	}

	/**
	 * Called when any of observed attributes is changed.
	 *
	 * @param {String} name Attribute name
	 * @param {*} oldValue Old value
	 * @param {*} newValue New value
	 */

	attributeChangedCallback(name, oldValue, newValue) {
		// Remove temporary value once unselected
		if (this.temporary && name === 'selected' && newValue == null) {
			this.parentNode.removeChild(this);
		}
	}

	get selected() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(this, 'selected');
	}

	set selected(value) {
		if (value) {
			this.setAttribute('selected', '');
		} else {
			this.removeAttribute('selected');
		}
	}

	get temporary() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(this, 'temporary');
	}

	set temporary(value) {
		value ? this.setAttribute('temporary', '') : this.removeAttribute('temporary');
	}

	get value() {
		const value = this.getAttribute('value');

		if (value === null) return;
		// We use JSON by default but the value can be rendered into DOM and probably it wont be in JSON
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.parseAttributeValue)(value, this.getAttribute('content-type'));
	}

	set value(value) {
		if (typeof value !== 'undefined') {
			this.setAttribute('content-type', 'application/json');
			this.setAttribute('value', JSON.stringify(value));
		} else {
			this.removeAttribute('content-type');
			this.removeAttribute('value');
		}
	}
}

class OptionGroup extends HTMLElement {
	constructor() {
		super();
	}
}

class Picker extends HTMLElement {
	constructor() {
		super();

		this._built = false;
		this._loaded = false;
		this._options = {};
		this._defaultClassList = ['form-control'];
		this._inputField = null; // Input the picker is attached to

		this.components = {}; // Custom components
		this.showSearcher = 10;
		this.showSelectAll = 3;

		// Watch for options being added to our DOM
		const observer = new MutationObserver((mutationList) => {
			const additions = [];

			for (const mutation of mutationList) {
				for (const node of mutation.addedNodes) {
					// Only consume imt-optgroup and imt-option nodes
					if (node.nodeName === 'IMT-OPTGROUP' || node.nodeName === 'IMT-OPTION') {
						additions.push(node);
					}
				}
			}

			// Ignore rest if there're no additions we're interested about
			if (!additions.length) return;

			// Make sure we have been built
			if (!this._built) this._build();

			const options = this.querySelector(':scope .options');
			const temporaries = this.querySelectorAll('imt-option[temporary]');

			for (const node of additions) {
				// Move node under dropdown > options
				options.appendChild(node);

				if (temporaries.length) {
					// Check for temporary items if we can remove them
					const opts = node.nodeName === 'IMT-OPTION' ? [node] : node.querySelectorAll('imt-option');

					for (const opt of opts) {
						for (const temporary of temporaries) {
							if (temporary.parentNode && temporary !== opt && temporary.value === opt.value) {
								// If temporary option was selected, select the new one instead
								opt.selected = temporary.selected;

								// Remove temporary option
								temporary.parentNode.removeChild(temporary);

								// Break out from the loop of temporary options
								break;
							}
						}
					}
				}
			}

			// Update our display
			this.update();
		});

		observer.observe(this, {
			childList: true,
		});
	}

	static get observedAttributes() {
		return ['placeholder'];
	}

	/**
	 * Normalizes and merges options.
	 * @param {object|array|string} options - new options
	 * @param {object} currentOptions - old options, provide value if you want to merge new options with the existing options
	 * @return {object} - normalized options
	 */

	static normalizeOptions(options, currentOptions = {}) {
		if (!options) return { store: [] };

		try {
			options = JSON.parse(options);
		} catch (ex) {} // eslint-disable-line no-empty

		if ('object' === typeof options && !Array.isArray(options)) {
			Object.assign(currentOptions, options);
		}

		if (Array.isArray(options) || typeof options === 'string') {
			currentOptions.store = options;
		} else if (!options) {
			currentOptions.store = [];
		} else {
			currentOptions = options;
		}

		return currentOptions;
	}

	/**
	 * Called when any of observed attributes is changed.
	 *
	 * @param {String} name Attribute name
	 * @param {*} oldValue Old value
	 * @param {*} newValue New value
	 */

	attributeChangedCallback(name, oldValue, newValue) {
		this.update();
	}

	connectedCallback() {
		this._build();
	}

	get disabled() {
		return this.hasAttribute('disabled');
	}

	set disabled(value) {
		if (value) {
			this.setAttribute('disabled', '');
		} else {
			this.removeAttribute('disabled');
		}
	}

	get multiple() {
		return this.hasAttribute('multiple');
	}

	set multiple(value) {
		if (value) {
			this.setAttribute('multiple', '');
		} else {
			this.removeAttribute('multiple');
		}
	}

	get dropdown() {
		return this.hasAttribute('dropdown');
	}

	set dropdown(value) {
		if (value) {
			this.setAttribute('dropdown', '');
		} else {
			this.removeAttribute('dropdown');
		}
	}

	get list() {
		return this.hasAttribute('list');
	}

	set list(value) {
		if (value) {
			this.setAttribute('list', '');
		} else {
			this.removeAttribute('list');
		}
	}

	get readonly() {
		return this.hasAttribute('readonly');
	}

	set readonly(value) {
		if (value) {
			this.setAttribute('readonly', '');
		} else {
			this.removeAttribute('readonly');
		}
	}

	get value() {
		if (this.multiple) {
			return Array.prototype.map.call(this.querySelectorAll('imt-option[selected]'), (node) => node.value);
		} else {
			const selected = this.querySelector('imt-option[selected]');

			if (!selected) {
				const emptyOption = Array.isArray(this.options?.store) ? this.options.store.find((x) => x.empty) : null;

				return emptyOption ? emptyOption.value : undefined;
			}
			return selected.value;
		}
	}

	set value(value) {
		const preventDefault = !_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.CHANGE, { cancelable: true });

		if (preventDefault) return;

		for (const node of this.querySelectorAll('imt-option')) {
			if (this.multiple && Array.isArray(value)) {
				if (value.includes(node.value)) {
					const preventDefault = !_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.BEFORE_SELECT_OPTION, {
						detail: { option: node },
						cancelable: true,
					});

					if (!preventDefault) node.selected = true;
				} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(node, 'selected')) {
					node.selected = false;
				}
			} else {
				if (node.value === value) {
					const preventDefault = !_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.BEFORE_SELECT_OPTION, {
						detail: { option: node },
						cancelable: true,
					});

					if (!preventDefault) node.selected = true;
				} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(node, 'selected')) {
					node.selected = false;
				}
			}
		}

		this.update();

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, 'input', { bubbles: true });
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.CHANGED);
	}

	get valueLabel() {
		if (this.multiple) {
			return Array.prototype.map
				.call(this.querySelectorAll('imt-option[selected]'), (node) => node.textContent)
				.join(', ');
		}

		return (this.querySelector('imt-option[selected]') || this.querySelector('imt-option.empty'))?.textContent;
	}

	get valueType() {
		if (this.multiple) {
			return Array.prototype.map.call(this.querySelectorAll('imt-option[selected]'), (node) =>
				node.getAttribute('data-type'),
			);
		} else {
			const selected = this.querySelector('imt-option[selected]');

			if (!selected) return null;
			return selected.getAttribute('data-type');
		}
	}

	get options() {
		return this._options;
	}

	set options(options) {
		this._options = options || [];
	}

	get staticOptions() {
		const options = this.getAttribute('static-options');

		return options ? JSON.parse(options) : [];
	}

	set staticOptions(options) {
		this.setAttribute('static-options', JSON.stringify(options));
	}

	set inputField(element) {
		this._inputField = element;
	}

	set defaultClassList(list) {
		this._defaultClassList = list;
	}

	/**
	 * Registers a new component for custom behavior of the picker
	 * @param {Picker.COMPONENTS} type Name of the component
	 * @param {function} component Component fuctions
	 */

	register(type, component) {
		this.components[type] = component;
	}

	createPickerDisplay() {
		const displayElm = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('span.display');

		this.appendChild(displayElm);
	}

	getPickerDisplay() {
		return this.querySelector(':scope > .display');
	}

	getOptionData() {
		const isGrouped = this.hasAttribute('grouped');
		const valueField = this.getAttribute('value-field');

		let option = null;

		if (isGrouped) {
			this._options?.store?.find((s) => {
				const opt = s?.options?.find((x) => x?.[valueField] === this.value);

				if (opt) {
					option = opt;

					return true;
				}

				return false;
			});
		} else {
			return this._options?.store?.find((x) => x?.[valueField] === this.value);
		}

		return option;
	}

	_build() {
		if (this._built) return;
		this._built = true;

		let focusOutTimer;

		// Make switch focusable
		this.setAttribute('tabindex', 0);

		this.classList.add(...this._defaultClassList);

		this.createPickerDisplay();
		this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('span.messages'));

		const options = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.options');

		options.addEventListener('click', (event) => {
			const option = event.composedPath().find((node) => node.nodeName === 'IMT-OPTION');

			if (option) this.selectOptionElement(option);
		});

		if ((this.multiple || this.list) && !this.dropdown) {
			this.appendChild(options);
		} else {
			const dropdown = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker-dropdown');

			this.appendChild(dropdown);

			dropdown.addEventListener('click', (event) => {
				event.stopPropagation();
			});

			const searcher = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-searcher');

			if (this.searcherPlaceholder) {
				searcher.setAttribute('placeholder', this.searcherPlaceholder);
			}

			searcher.setAttribute('item', 'imt-option');
			searcher.setAttribute('group', 'imt-optgroup');
			searcher.container = options;

			dropdown.appendChild(searcher);
			dropdown.appendChild(options);
		}

		if (this.multiple) {
			const selectAll = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.select-all');

			selectAll.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('picker.selectAll');
			selectAll.addEventListener('click', () => {
				const options = this.querySelectorAll('imt-option');

				if (selectAll.hasAttribute('selected')) {
					selectAll.removeAttribute('selected');
				} else {
					selectAll.setAttribute('selected', '');
				}

				const isChecked = selectAll.hasAttribute('selected');

				for (const node of options) {
					if (node.hasAttribute('selected') === isChecked) continue;
					this.selectOptionElement(node);
				}
			});

			this.before(selectAll);
		}

		const reload = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.btn.btn-sm.reload[type="button"]');

		reload.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('i.fa.fa-fw.fa-sync'));
		this.appendChild(reload);
		reload.addEventListener('click', (event) => {
			this.reload(this.value);
			event.stopPropagation();
		});

		this.update();

		// Keyboard handlers
		this.addEventListener('keydown', (event) => {
			const hover = this.querySelector('imt-option.hover') || this.querySelector('imt-option[selected]');
			let next;

			switch (event.code) {
				case 'Space':
				case 'ArrowDown':
					if (this.classList.contains('expanded')) {
						if (event.code === 'ArrowDown') {
							if (hover) {
								if (hover.nextElementSibling) {
									next = hover.nextElementSibling;
								} else if (
									// Jump to next group in grouped select
									hover.parentNode.nodeName === 'IMT-OPTGROUP' &&
									hover.parentNode.nextElementSibling &&
									hover.parentNode.nextElementSibling.firstChild
								) {
									next = hover.parentNode.nextElementSibling.firstChild;
								} else {
									next = hover;
								}

								next.classList.add('hover');
							} else {
								const first = this.querySelector('imt-option');

								if (first) first.classList.add('hover');
							}

							event.stopPropagation();
							event.preventDefault();
						}
					} else {
						this.open();

						event.stopPropagation();
						event.preventDefault();
					}

					break;

				case 'ArrowUp':
					if (hover) {
						if (hover.previousElementSibling) {
							next = hover.previousElementSibling;
						} else if (
							// Jump to previous group in grouped select
							hover.parentNode.nodeName === 'IMT-OPTGROUP' &&
							hover.parentNode.previousElementSibling &&
							hover.parentNode.previousElementSibling.lastChild
						) {
							next = hover.parentNode.previousElementSibling.lastChild;
						} else {
							next = hover;
						}

						next.classList.add('hover');
					}

					event.stopPropagation();
					event.preventDefault();
					break;

				case 'Enter':
					if (hover) this.selectOptionElement(hover);
					this.focus();

					event.stopPropagation();
					event.preventDefault();
					break;

				case 'Escape':
					this.close();
					this.focus();

					event.stopPropagation();
					event.preventDefault();
					break;
			}
		});

		// Mouse/touch handlers
		this.addEventListener('click', (event) => {
			if (this.classList.contains('expanded')) {
				this.close();
			} else {
				this.open();
			}
			event.stopPropagation();
			event.preventDefault();
		});

		// Focus out handlers - handles possibility of wtiching between search and picker
		this.addEventListener('focusin', () => {
			clearTimeout(focusOutTimer);
		});

		this.addEventListener('focusout', () => {
			focusOutTimer = setTimeout(this.close.bind(this), 100);
		});
	}

	update() {
		const display = this.getPickerDisplay();
		const selectAll = this.parentElement?.querySelector('.select-all');

		if (!display) return;

		let value;
		let group;
		let defaultGroup = false;

		// If everything is selected -> check selectAll checkbox
		if (this.showSelectAll && selectAll && this.options.store) {
			const isGrouped = this.hasAttribute('grouped');
			const allOptions = isGrouped ? this.options.store.map((g) => g.options).flat() : this.options.store;

			if (this.value.length === allOptions.length) {
				selectAll.setAttribute('selected', '');
			} else {
				selectAll.removeAttribute('selected');
			}
		}

		// Resolve selected value
		if (this.multiple) {
			value = Array.prototype.map
				.call(this.querySelectorAll('imt-option[selected]'), (node) => node.textContent || node.value)
				.join(', ');
		} else {
			const selected = this.querySelector('imt-option[selected]');

			if (selected) {
				group = selected.closest('imt-optgroup')?.getAttribute('label');
				defaultGroup = selected.closest('imt-optgroup')?.getAttribute('default-group') === 'true';
				value = selected.classList.contains('empty') ? selected.value : selected.textContent || selected.value;
			}
		}

		if (!value) {
			display.classList.add('text-muted');
			display.textContent = this.getAttribute('placeholder') || '';
		} else {
			display.classList.remove('text-muted');
			display.textContent = group && !defaultGroup ? `${group}: ${value}` : value;
		}

		if (this.components[Picker.COMPONENTS.DISPLAY_CHANGED]) {
			this.components[Picker.COMPONENTS.DISPLAY_CHANGED](display, value);
		}
	}

	async open() {
		this.displaySearcher();

		if ((this.multiple || this.list) && !this.dropdown) return;
		if (this.readonly || this.disabled) return;
		if (this.classList.contains('expanded')) return;

		const dropdown = this.querySelector('imt-picker-dropdown');
		const rect = this.getBoundingClientRect();
		const maxHeight = window.innerHeight - rect.bottom - 50;

		dropdown.querySelector('.options').style.maxHeight = `${maxHeight < 165 ? 165 : maxHeight}px`;

		if (this.hasAttribute('provider')) {
			const rpcData = this.components[Picker.COMPONENTS.RPC_DATA_GETTER]() || {};

			if (this.hasAttribute('provider') && (!this._loaded || !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.deepEqual)(rpcData, this._loadedRpcData))) {
				if (this.value && this._loaded) {
					this.reload(this.value);
				}
				this.reload(undefined, false);
			}
		}

		dropdown.open();
		this.classList.add('expanded');

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.animateElementHeight)(dropdown, { timing: 150 }).then(() => {
			setTimeout(() => {
				const searcher = this.querySelector(':scope > imt-picker-dropdown > imt-searcher:not([hidden])');

				if (searcher) {
					searcher.focus();
				}
			}, 1);
		});
	}

	async reload(value, resolveDefaultValue) {
		if (this.classList.contains('loading')) return;
		if (!this.hasAttribute('provider')) return;
		this.classList.add('loading');
		this._inputField && this._inputField.form.loadings++;

		try {
			// Create abort controller so we can abort the request if needed
			this._abortController = new AbortController();

			const form = this.closest('imt-forman');
			const context = form ? form.meta.imlContext : {};
			const buildTimeVariables = form?.meta?.imlOptions?.buildTimeVariables || {};

			this._loadedRpcData = this.components[Picker.COMPONENTS.RPC_DATA_GETTER]() || {};
			let response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(this.getAttribute('provider'), {
				signal: this._abortController.signal,
				data: this._loadedRpcData,
				accountParamName: this.closest('imt-input-account')?.name || form?.meta?.moduleParameters?.[0]?.name,
				context,
				buildTimeVariables,
			});

			const wrapper = this.getAttribute('wrapper-field');

			if (wrapper && response[wrapper]) response = response[wrapper];

			// Fetch done, remove abort controller
			this._abortController = undefined;
			this._loaded = true;

			// Remove old options
			this.querySelectorAll('imt-option').forEach((option) => {
				// Don't remove temporary options
				if (!option.temporary) {
					if (option.selected) {
						// Convert selected option to temporary so the value is preserved
						option.temporary = true;
					} else {
						option.parentNode.removeChild(option);
					}
				}
			});

			// Remove old optgroup
			this.querySelectorAll('imt-optgroup').forEach((group) => {
				group.parentElement.removeChild(group);
			});

			if (!Array.isArray(response)) return;

			let options = Picker.normalizeOptions(response, this.options);

			if (this.components[Picker.COMPONENTS.OPTIONS_NORMALIZED]) {
				options = this.components[Picker.COMPONENTS.OPTIONS_NORMALIZED](options);
			}

			this.addOptions(options, value, {}, resolveDefaultValue);

			this.update();

			if (this.list) {
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.dispatchResizeDebounced)(this);
			}

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_DONE, { detail: options });
			const dropdown = this.querySelector('imt-picker-dropdown');

			this.displaySelectAll();

			if (dropdown?._opened) {
				this.displaySearcher();
				dropdown.updatePosition();
				this.focus();
			}

			this.showError(false);
		} catch (err) {
			if (err.name === 'AbortError') return;

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_ERROR, { detail: err });
			this.showError(err);

			throw err;
		} finally {
			this.classList.remove('loading');
			this._inputField && this._inputField.form.loadings--;
		}
	}

	close() {
		if ((this.multiple || this.list) && !this.dropdown) return;
		this.classList.remove('expanded');
		this.querySelector('imt-picker-dropdown').close();

		const searcher = this.querySelector('imt-searcher');

		if (searcher) {
			searcher.clear();
		}

		// Abort loading of external provider
		if (this._abortController) this._abortController.abort();
	}

	renderOption(item, temporary = false, parent, restoreData = {}) {
		if (!parent) {
			parent = this.querySelector('div.options') || this;
		}

		const labelField = this.getAttribute('label-field') || 'label';
		const valueField = this.getAttribute('value-field') || 'value';

		if ((this.multiple || this.list) && this.options.nested && item.nested) {
			throw new Error(
				'Invalid configuration. It is not possible to define common nested and option nested together for multiple select or list.',
			);
		}

		// if there is a temporary option with current value, convert it to non temporary and update it's text content
		const temporaryOption = parent.querySelector(`imt-option[temporary]`);

		if (temporaryOption && temporaryOption.value === item[valueField]) {
			temporaryOption.temporary = false;
			temporaryOption.textContent = item[labelField] || item[valueField];

			if (this.components[Picker.COMPONENTS.OPTION_RENDERER]) {
				this.components[Picker.COMPONENTS.OPTION_RENDERER](temporaryOption, item, this.querySelector('div.options'));
			}

			return temporaryOption;
		}

		const option = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-option');

		if (item.empty) {
			option.classList.add('empty');
			option.value = item[this.options.value || valueField];
			option.textContent = item[labelField] || item[valueField];
		} else {
			// Store option metadata as attributes
			if (this.options.data) {
				Object.entries(this.options.data).forEach(([key, variable]) => {
					option.setAttribute(`data-${key}`, item[variable]);
				});
			}

			option.value = item[this.options.value || valueField];
			option.textContent = item[labelField] || item[valueField];

			if (!temporary && this.components[Picker.COMPONENTS.OPTION_RENDERER]) {
				this.components[Picker.COMPONENTS.OPTION_RENDERER](option, item, this.querySelector('div.options'));
			}
		}

		if (this.showValue) {
			const valueSpan = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`span.option-value`);

			valueSpan.textContent = ` (${option.value})`;
			option.appendChild(valueSpan);
		}

		if (restoreData) {
			Object.entries(restoreData).forEach(([key, variable]) => {
				option.setAttribute(`data-${key}`, variable);
			});
		}

		// Prepare container for nested fieldsets if there are any
		const nestedInstructions = item.nested || this.options.nested;

		if (nestedInstructions) {
			const wrapper = this._inputField || this.parentNode;

			if (!wrapper.querySelector('imt-nested')) {
				wrapper.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-nested'));
			}
		}

		if (temporary) option.temporary = true;
		parent.appendChild(option);

		return option;
	}

	async addOptions(options, defaultValue, metadata = {}, resolveDefaultValue = true) {
		// Store options for further rendering of nested fieldsets
		this.sortOptions(options);
		this.options = options;

		const valueField = this.getAttribute('value-field') || 'value';
		const labelField = this.getAttribute('label-field') || 'label';

		if (resolveDefaultValue && typeof defaultValue === 'undefined') {
			defaultValue = this.resolveDefaultValue(options, valueField);
		}

		// Choose value if static options and defaultValue matches one of option value
		// Default value for multiple select can be simple value or array
		const shouldAddTemporary =
			typeof defaultValue !== 'undefined' &&
			'string' === typeof options.store &&
			!(this.staticOptions || []).find((o) => o.value === defaultValue);

		if (
			shouldAddTemporary &&
			(!Array.isArray(options.store) ||
				(this.hasAttribute('grouped') ? options.store.map((g) => g.options).flat() : options.store).some(
					(o) =>
						o &&
						((Array.isArray(defaultValue) && defaultValue.includes(o[valueField])) || o[valueField] === defaultValue),
				))
		) {
			/**
			 * If the value is set, we need to add temporary option so the value is visible
			 * until options are fetched (both synchronously and asynchronously). That also prevents
			 * value clearing when user doesn't open a dropdown so options are actually fetched.
			 */

			if (this.multiple && Array.isArray(defaultValue)) {
				// We have an array of values for multi-select
				defaultValue.map((v) => this.renderOption({ value: v, label: v }, true));
			} else {
				// Just a single value is single-select
				this.renderOption(
					{
						[valueField || 'value']: defaultValue,
						[labelField || 'label']: metadata.restore?.label || defaultValue,
					},
					true,
					undefined,
					metadata.restore?.data,
				);
			}
		}

		if (Array.isArray(options.store)) {
			options.store = this.staticOptions.concat(options.store);

			for (const item of options.store) {
				if (this.hasAttribute('grouped') && item.options) {
					const group = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-optgroup');

					group.setAttribute('label', item.label);
					if (item.defaultGroup) {
						group.setAttribute('default-group', item.defaultGroup);
					}

					this.appendChild(group);

					if (Array.isArray(item.options)) {
						for (const subitem of item.options) {
							if (item.default) defaultValue = item.value;
							this.renderOption(subitem, false, group);
						}
					}
				} else {
					if (item.default && (typeof defaultValue === 'undefined' || defaultValue === '')) defaultValue = item.value;
					this.renderOption(item);
				}
			}

			if (options.store.length === 0 && this.list) {
				const empty = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.empty-list.list-group-item');

				empty.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('picker.listEmpty');
				this.querySelector('div.options').append(empty);
			}
		}

		if (typeof defaultValue !== 'undefined') {
			this.value = defaultValue;
		}

		this.displaySelectAll();
	}

	loadCustomOptions(options, defaultValue) {
		if (!this._loaded && this.hasAttribute('provider')) {
			this._loaded = true;
		}

		this.addOptions(options, defaultValue);
	}

	resolveDefaultValue(options, valueField) {
		const value = this.multiple ? [] : undefined;
		const resolver = this.components[Picker.COMPONENTS.DEFAULT_OPTION_RESOLVER];

		if (!resolver || !(Array.isArray(options.store) && options.store.length)) return value;

		for (const option of options.store) {
			if (resolver(option)) {
				if (this.multiple) {
					value.push(option[valueField]);
				} else {
					return option[valueField];
				}
			} else if (Array.isArray(option.options)) {
				for (const groupOption of option.options) {
					if (resolver(groupOption)) {
						if (this.multiple) {
							value.push(option[valueField]);
						} else {
							return groupOption[valueField];
						}
					}
				}
			}
		}
		return value;
	}

	selectOptionElement(option, close = true) {
		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(option, 'disabled')) return;

		const preventDefault = !_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.CHANGE, {
			detail: { element: option },
			cancelable: true,
		});

		if (preventDefault) return;

		const selected = option.hasAttribute('selected');

		if (!(this.multiple || this.list) && selected) {
			this.close();
			return;
		}

		if (this.multiple && this.showSelectAll && option.hasAttribute('selected')) {
			const node = this.parentElement.querySelector('.select-all');

			node.removeAttribute('selected');
		}

		if (this.multiple) {
			if (selected) {
				option.removeAttribute('selected');
			} else {
				option.setAttribute('selected', '');
			}
		} else {
			// Not a multiselect - unselect other options
			for (const child of this.querySelectorAll('imt-option')) {
				if (child !== option) child.removeAttribute('selected');
			}
			option.setAttribute('selected', '');
		}

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, 'input', { bubbles: true });
		if (close && !this.multiple && !this.list) this.close();
		this.update();

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.CHANGED, { detail: { element: option } });

		if (this.components[Picker.COMPONENTS.RPC_DATA_GETTER]) {
			this._loadedRpcData = this.components[Picker.COMPONENTS.RPC_DATA_GETTER]();
		}
	}

	getSelectedElements() {
		return Array.from(this.querySelectorAll(':scope imt-option[selected]'));
	}

	showError(error) {
		if (!error) {
			this.removeAttribute('error');
			return;
		}

		const messages = this.querySelector(':scope > .messages');

		if (messages) messages.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('picker.failedLoad');
		this.setAttribute('error', '');
	}

	displaySearcher() {
		const searcher = this.querySelector('imt-searcher');

		if (searcher) {
			if (this.showSearcher === true) {
				searcher.hidden = false;
			} else if (this.showSearcher === false) {
				searcher.hidden = true;
			} else if (!isNaN(this.showSearcher)) {
				const minLength = +this.showSearcher;

				searcher.hidden =
					Array.isArray(this.options?.store) &&
					this.options.store.flatMap((item) => item.options || item).length < minLength;
			}
		}
	}

	displaySelectAll() {
		const selectAll = this.parentElement?.querySelector('.select-all');

		if (selectAll) {
			if (this.showSelectAll === true) {
				selectAll.hidden = false;
			} else if (this.showSelectAll === false) {
				selectAll.hidden = true;
			} else if (!isNaN(this.showSelectAll)) {
				const minLength = +this.showSelectAll;

				selectAll.hidden =
					Array.isArray(this.options?.store) &&
					this.options.store.flatMap((item) => item.options || item).length < minLength;
			}
		}
	}

	sortOptions(options) {
		const sort = this._inputField?._instructions?.sort;
		const sorter = (opts) => {
			if (sort === 'text') {
				return opts.sort((a, b) => a.value.toString().localeCompare(b.value.toString()));
			} else if (sort === 'number') {
				return opts.sort((a, b) => a.value - b.value);
			}
			return opts;
		};

		if (Array.isArray(options.store)) {
			if (this.hasAttribute('grouped')) {
				options.store.forEach((opt) => {
					opt.options = sorter(opt.options);
				});
			} else {
				options.store = sorter(options.store);
			}
		}
	}
}

Picker.COMPONENTS = {
	RPC_DATA_GETTER: 'rpcData',
	OPTION_RENDERER: 'optionRenderer',
	DEFAULT_OPTION_RESOLVER: 'defaultOptionResolver',
	DISPLAY_CHANGED: 'displayChanged',
	OPTIONS_NORMALIZED: 'optionsNormalized',
};

class PickerDropdown extends HTMLElement {
	constructor() {
		super();

		this.updatePosition = (dropdownRect = this.getBoundingClientRect()) => {
			const rect = this.parentNode.getBoundingClientRect();
			const yDifference = window.innerHeight - (rect.y + rect.height);

			if (yDifference < Math.max(dropdownRect.height, 250)) {
				this.style.left = `${rect.x}px`;
				this.style.top = `${rect.top - 1 - dropdownRect.height}px`;
				this.style.width = `${Math.max(200, this.parentNode.offsetWidth)}px`;
				this.classList.add('top-aligned');
			} else {
				this.style.left = `${rect.x}px`;
				this.style.top = `${rect.bottom - 1}px`;
				this.style.width = `${Math.max(200, this.parentNode.offsetWidth)}px`;
				this.classList.remove('top-aligned');
			}
		};

		// Remove .hover class used for focus of elements while navigation via keyboard
		this._observer = new MutationObserver((mutationList) => {
			const hoverMutation = mutationList.find(
				(mutation) => mutation.target.classList.contains('hover') && mutation.attributeName === 'class',
			);
			const styleMutation = mutationList.find(
				(mutation) => mutation.attributeName === 'style' && mutation.target !== this,
			);

			if (hoverMutation) {
				this.querySelectorAll('imt-option.hover').forEach((elm) => {
					if (elm !== hoverMutation.target) elm.classList.remove('hover');
				});
			}

			if (styleMutation) {
				this.updatePosition();
			}
		});

		this._observer.observe(this, { childList: true, subtree: true, attributes: true, attributeFilter: ['class'] });
	}

	get opened() {
		return this._opened;
	}

	open() {
		const dropdownRect = this.getBoundingClientRect();

		this._opened = true;
		this._observer.observe(this, { childList: true, subtree: true, attributes: true, attributeFilter: ['class'] });
		this._observer.observe(document.body, { attributes: true, attributeFilter: ['style'], subtree: true });

		window.addEventListener('resize', () => this.updatePosition());
		window.addEventListener('scroll', () => this.updatePosition());

		// Detect all scrollable elements up the dom tree and attach scroll event to them
		this._scrollables = [];
		let node = this.parentNode;

		while (node && node !== window.document) {
			if (['auto', 'scroll'].includes(window.getComputedStyle(node).overflowY)) {
				this._scrollables.push(node);
				node.addEventListener('scroll', () => this.updatePosition());
			}
			node = node.parentNode;
		}

		// Remove hover class used for keyboard navigation
		this.querySelectorAll('imt-option').forEach((e) => e.classList.remove('hover'));

		// update position and height in requestAnimationFrame to ensure that the requeired values (like scrollHeight)
		// are properly calculated and to avoid flickering issues
		// setTimeout is used to schedule the style change to the next event loop cycle
		setTimeout(() => {
			requestAnimationFrame(() => {
				const rect = this.getBoundingClientRect(dropdownRect);

				if (rect.height < 200 && this.querySelector('.options').scrollHeight > 200) {
					this.style.minHeight = '200px';
				}
				this.updatePosition();
			});
		});
	}

	close() {
		this._opened = false;
		window.removeEventListener('resize', () => this.updatePosition());
		window.removeEventListener('scroll', () => this.updatePosition());
		this._observer.disconnect();
		this.style.minHeight = '';

		if (Array.isArray(this._scrollables)) {
			for (const node of this._scrollables) {
				node.removeEventListener('scroll', () => this.updatePosition());
			}
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-picker', Picker);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-picker-dropdown', PickerDropdown);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-option', Option);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-optgroup', OptionGroup);


/***/ }),

/***/ "./lib/controls/pill.mjs":
/*!*******************************!*\
  !*** ./lib/controls/pill.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony export Pill */
/* harmony import */ var _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/iml.mjs */ "./lib/helpers/iml.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class Pill extends HTMLElement {
	constructor() {
		super();

		this._built = false;
	}

	connectedCallback() {
		if (this._built) return;
		this._built = true;

		this.addEventListener('mouseenter', (event) => {
			if (this.hasAttribute('preview')) return;

			for (const node of (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveFullDOM)(this, true)) {
				if (node.nodeType === 1) node.classList.add('hover');
			}
		});

		this.addEventListener('mouseleave', (event) => {
			if (this.hasAttribute('preview')) return;

			for (const node of this.parentNode.querySelectorAll('.hover')) {
				node.classList.remove('hover');
			}
		});

		this.setAttribute('draggable', 'true');
		this.setAttribute('contenteditable', 'false');
	}

	toIML() {
		return IML.stringify((0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.domToAST)((0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveFullDOM)(this)));
	}

	disconnectedCallback() {
		if (this._hintPanel && this._hintPanel.close) {
			this._hintPanel.close();
		}
	}
}

let nodesAffectedByDrag;

document.addEventListener('dragstart', (event) => {
	if (!(event.target instanceof Pill)) return;

	if (event.target._hintPanel) {
		event.target._hintPanel.close();
		event.target._hintPanel = null;
	} else {
		const hintPanel = event.target.closest('imt-panel.coder-pills');

		if (hintPanel?.controller) {
			hintPanel.controller._hideHintPanel();
		}
	}

	nodesAffectedByDrag = (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveFullDOM)(event.target);
	const iml = IML.stringify((0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.domToAST)(nodesAffectedByDrag, true), undefined, { keepUnwantedOperators: true });

	// console.log('DOM', nodesAffectedByDrag);
	// console.log('AST', domToAST(nodesAffectedByDrag, true), true);
	// console.log('IML', IML.stringify(domToAST(nodesAffectedByDrag, true), undefined, { keepUnwantedOperators: true }));

	// Prevent dragging when DOM didn't resolve in to IML
	if (!iml) return;

	event.dataTransfer.effectAllowed = 'copyMove';
	event.dataTransfer.setData('Text', iml); // ie/edge
	event.dataTransfer.setData('text/plain', iml); // browsers
	event.stopPropagation();
});

document.addEventListener('dragend', (event) => {
	if (!(event.target instanceof Pill)) return;

	nodesAffectedByDrag = null;
});

document.addEventListener('dragover', (event) => {
	if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target, 'imt-coder')) return event.preventDefault();

	if (Array.isArray(nodesAffectedByDrag) && nodesAffectedByDrag.length) {
		if (nodesAffectedByDrag[0].parentNode === event.target) {
			// Drag over the same coder field
			event.dataTransfer.dropEffect = 'move';
		} else {
			// Drag over different coder field
			event.dataTransfer.dropEffect = 'copy';
		}
	} else {
		event.dataTransfer.dropEffect = 'all';
	}
});

document.addEventListener('drop', (event) => {
	if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.is)(event.target, 'imt-coder')) return event.preventDefault();
	const isCopy = event.altKey || event.ctrlKey;

	if (Array.isArray(nodesAffectedByDrag) && nodesAffectedByDrag.length) {
		if (!isCopy && nodesAffectedByDrag[0]?.parentNode?.nodeName === 'IMT-CODER') {
			for (const node of nodesAffectedByDrag) {
				if (node.parentNode) node.parentNode.removeChild(node);
			}
		}
	}
});

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-pill', Pill);


/***/ }),

/***/ "./lib/controls/remoteFormPanel.mjs":
/*!******************************************!*\
  !*** ./lib/controls/remoteFormPanel.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RemoteFormPanel)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _oauth_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./oauth.mjs */ "./lib/controls/oauth.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");
/* global browser */










class RemoteFormPanel extends EventTarget {
	constructor(relative) {
		super();

		this.panel = null;
		this.relative = relative;
	}

	async build(instructions, metadata = {}) {
		if (!this.panel) {
			this.panel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-panel.remote');
			this.panel.width = 450;
			this.panel.position = ['right', 'left'];
			this.panel.relative = this.relative;
			this.panel.spacing = 8;

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => _eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE));
		} else {
			// Clear content when rebuilding
			this.panel.header.innerHTML = '';
			this.panel.body.innerHTML = '';
			this.panel.footer.innerHTML = '';
		}

		const parentFieldset = this.relative?.closest('[field]')?.fieldset;

		if (parentFieldset?.rpcData) {
			metadata.data = { ...metadata.data, ...parentFieldset.rpcData };
		}

		// Header

		this.panel.header.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`h1 ${instructions.name}`));

		const parentForm = this.relative?.closest('imt-forman');
		const theme = instructions.theme || parentForm?.meta?.module?.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_THEME;

		if (theme) {
			const color = (theme.toHex ? theme.toHex() : theme).toLowerCase();

			if (/^#[0-9A-F]{6}$/i.test(color)) {
				this.panel.header.classList.add('gradient', `theme-${color.replace('#', '')}`);
			}
		}

		const headerButtons = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.header-buttons');
		const menu = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.panel-menu[type="button"]');

		menu.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.fas.fa-ellipsis-v'));
		menu.addEventListener('click', (event) => {
			event.preventDefault();
			event.stopPropagation();
			const relativeForm = this.relative.closest('imt-forman');

			if (relativeForm) {
				_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(relativeForm, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.OPEN_MENU, {
					detail: {
						relative: menu,
					},
					cancelable: true,
				});
			}
		});
		headerButtons.append(menu);

		if ('undefined' !== typeof sim && instructions.help) {
			const helpBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.close[type="button"]');

			helpBtn.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.fas.fa-question'));
			helpBtn.addEventListener('click', (event) => {
				event.preventDefault();
				event.stopPropagation();

				window.sim(window).openHelp(instructions.help);
			});
			headerButtons.append(helpBtn);
		}

		const close = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.close[type="button"]');

		close.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.far.fa-times'));
		close.addEventListener('click', (event) => {
			event.preventDefault();
			event.stopPropagation();

			this.panel.close();
		});
		headerButtons.append(close);

		this.panel.header.append(headerButtons);

		let config;

		try {
			config = !instructions.src ? instructions : await _loader_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].load(instructions.src, metadata);
		} catch (error) {
			this.panel.warn(error);
			console.error(error);
			return;
		}

		// Form

		this.form = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-forman');

		const meta = parentForm?.meta;

		if (meta) this.form.meta = { ...{}, ...meta, ...metadata, parentFieldset };
		this.form.values.load(config.values);

		if (parentForm?.hasAttribute('debug')) {
			this.form.setAttribute('debug', '');
		}

		// Body

		this.panel.body.append(this.form);

		// Footer

		const [display, buttons] = this.panel.footerControls;
		const id = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.uuid)();
		const advanced = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`imt-switch.xs#${id}`);
		const label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`label[for="${id}"].show-advanced-label`);

		label.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.showAdvanced');
		advanced.addEventListener('input', () => (this.form.advancedParametersVisible = advanced.active));

		this.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.ADVANCED_PARAMETERS_CHANGE, (event) => {
			if (event.detail) {
				display.append(advanced);
				display.append(label);
			} else {
				advanced.remove();
				label.remove();
				if (this.form.advancedParametersVisible) {
					advanced.toggle();
				}
			}
		});

		await this.form.build(config.config);

		if (config.buttons) {
			for (const buttonConfig of config.buttons) {
				if (buttonConfig.action === 'close') {
					this._generateCloseButton(buttonConfig.label, buttons);
					continue;
				}

				let button;
				const label = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l(buttonConfig.label);

				// Override buttons for specific vendors in case of OAuth flows
				if (buttonConfig.html) {
					button = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.custom-btn-container');
					button.innerHTML = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(buttonConfig.html), { label });
				} else {
					button = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.btn.btn-sm.btn-primary[type="button"]');
					button.textContent = label;
				}

				switch (buttonConfig.action) {
					case 'submit': {
						button.addEventListener('click', async (event) => {
							event.preventDefault();

							if (!this.form.validate()) return;

							if (
								_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, {
									detail: {
										get value() {
											return this.form.value;
										},
										panel: this.panel,
										form: this.form,
									},
									cancelable: true,
								})
							) {
								this.panel.close();
							}
						});

						break;
					}

					case 'http': {
						let oauthWindow;

						button.addEventListener('click', async (event) => {
							event.preventDefault();

							if (!this.form.validate()) return;

							this.panel.setLoading(true);

							const accountType = this.form.querySelector('imt-input-select[name="accountType"] imt-option[selected]');

							if (!browser.mobile && accountType?.getAttribute('data-method') === 'oauth') {
								oauthWindow = _oauth_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].win();

								if (!oauthWindow) {
									button.removeAttribute('disabled');
									this.panel.warn(new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.popup')));
								}
							}
							// on desktops, pre-open the window here because we're in click event handler so popup is not blocked
							// on mobiles, a special prompt is showed to the user later in formanAuth process

							const path = 'api://' + buttonConfig.address.replace(/^\//, '');

							const response = await (['GET'].includes(buttonConfig.method)
								? _loader_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].load(path)
								: this.form.save({
										method: buttonConfig.method,
										action: path,
										multipart: config.multipart || false,
								  }));

							if (!response) {
								oauthWindow?.close();
								this.panel.setLoading(false);
								return;
							}

							if (response.formula) {
								if (!response.formula.oauth) oauthWindow?.close();

								if (response.formula.oauth) {
									try {
										await _oauth_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].auth.call(
											this.panel,
											oauthWindow,
											response.formula.oauth.account,
											instructions.options?.oauth?.scope
												?.filter((s) => s.type === response.formula.oauth.provider)
												.flatMap((s) => s.scope),
											this.form?.meta?.imlContext,
										);

										_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, {
											detail: {
												data: [
													response.connection.id,
													response.connection.name,
													response.connection.accountName,
													response.connection.metadata,
												],
											},
										});

										this.panel.close();
									} catch (ex) {
										button.removeAttribute('disabled');

										return this.panel.warn(ex);
									}
								} else if (response.formula.rebuild) {
									await this.build(
										Object.assign(instructions, {
											src: response.formula.rebuild.url, // Pass context to replace path parameter (e.g. device)
										}),
									);

									this.panel.setLoading(false);
								} else if (response.formula.success) {
									_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, {
										detail: { data: response.formula.success },
									});

									this.panel.close();
								}
							} else {
								_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, {
									detail: { data: response },
								});

								this.panel.close();
							}
						});

						break;
					}

					case 'handler':
						button.addEventListener('click', buttonConfig.handler);

						break;
				}

				buttons.append(button);
			}
		}
	}

	open() {
		if (this.panel) this.panel.open();
	}

	_generateCloseButton(label, buttons) {
		const button = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('button.btn.btn-sm.btn-outline-secondary.mr-1[type="button"]');

		button.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l(label);
		button.addEventListener('click', (event) => {
			event.preventDefault();
			event.stopPropagation();
			this.panel.close();
		});

		buttons.append(button);
	}
}


/***/ }),

/***/ "./lib/controls/searcher.mjs":
/*!***********************************!*\
  !*** ./lib/controls/searcher.mjs ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony export Searcher */
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _searcher_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./searcher.scss */ "./lib/controls/searcher.scss");



class Searcher extends HTMLElement {
	constructor() {
		super();

		this._built = false;
	}

	static get observedAttributes() {
		return ['container'];
	}

	attributeChangedCallback(name, oldValue, newValue) {
		this[name] = document.querySelector(newValue);
	}

	connectedCallback() {
		if (this._built) return;
		this._built = true;

		this._input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('input[type="text"]');

		if (this.getAttribute('placeholder')) {
			this._input.placeholder = this.getAttribute('placeholder');
		}

		this.appendChild(this._input);
		this._input.addEventListener('input', (event) => {
			event.stopPropagation();
			if (this.container) this.update();
		});
	}

	get container() {
		return this.__container;
	}

	set container(value) {
		if (this.__container === value) return;
		if (this.__container && this._input.value) {
			const items = this.__container.querySelectorAll(this.getAttribute('item'));

			for (const item of items) item.classList.remove('hidden-by-searcher');
			return;
		}

		this.__container = value;

		if (value && this._input) this.update();
	}

	clear() {
		this._input.value = '';
		this.update();
	}

	focus() {
		this._input.focus();
	}

	update() {
		const phrase = (this._input.value || '')
			.trim()
			.toLowerCase()
			.normalize('NFD')
			.replace(/[\u0300-\u036f]/g, '');
		const items = this.__container.querySelectorAll(this.getAttribute('item'));
		const groups = this.hasAttribute('group') ? this.__container.querySelectorAll(this.getAttribute('group')) : [];

		if (!phrase) {
			for (const item of items) item.classList.remove('hidden-by-searcher');
			for (const group of groups) group.classList.remove('hidden-by-searcher');
			return;
		}

		const words = phrase.split(/\s+/g);

		// Track searches to Google Analytics
		const analytics = this.getAttribute('analytics');

		if (analytics && window.ga) {
			clearTimeout(this._analyticsTimer);
			this._analyticsTimer = setTimeout(() => {
				window.ga(
					'send',
					'pageview',
					`/search?ql=${imt.user.language}&qc=${analytics}&q=${encodeURIComponent(words.join(' '))}`,
				);
			}, 1000);
		}

		for (const item of items) {
			const text = item.textContent
				.toLowerCase()
				.normalize('NFD')
				.replace(/[\u0300-\u036f]/g, '');
			const lookup = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.clone)(words);

			if (lookup.filter((word) => text.indexOf(word) === -1).length === 0) {
				item.classList.remove('hidden-by-searcher');
			} else {
				item.classList.add('hidden-by-searcher');
			}
		}

		// If picker is grouped, we need to hide groups where all items are also hidden
		if (groups.length) {
			for (const group of groups) {
				const groupItems = group.querySelectorAll(this.getAttribute('item'));

				if (
					Array.prototype.filter.call(groupItems, (item) => !item.classList.contains('hidden-by-searcher')).length === 0
				) {
					group.classList.add('hidden-by-searcher');
				} else {
					group.classList.remove('hidden-by-searcher');
				}
			}
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-searcher', Searcher);


/***/ }),

/***/ "./lib/controls/semantic.mjs":
/*!***********************************!*\
  !*** ./lib/controls/semantic.mjs ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SemanticGroup: () => (/* binding */ SemanticGroup)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../inputs/input.mjs */ "./lib/inputs/input.mjs");





const SEMANTIC_TYPES = {
	file: {
		label: 'File',
		icon: 'files-o',
		fields: ['name', 'data'],
	},
};

const selectors = {
	item: 'div.custom-control.custom-radio',
	input: 'input.custom-control-input',
	label: 'label.custom-control-label',
};

class SemanticGroup extends HTMLElement {
	constructor() {
		super();

		this._built = false;

		this._id = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.uuid)();

		const observer = new MutationObserver((mutations) => {
			if (mutations.some((mutation) => mutation.target === this)) return;

			const invalid = this.querySelector('.form-group.invalid');

			invalid ? this.classList.add('invalid') : this.classList.remove('invalid');
		});

		observer.observe(this, {
			attributes: true,
			subtree: true,
		});
	}

	get form() {
		if (!this._form) {
			this._form = this.closest('imt-forman');
		}

		return this._form;
	}

	get type() {
		return this.getAttribute('type');
	}

	set type(value) {
		this.setAttribute('type', value);
	}

	get mode() {
		return this.getAttribute('mode');
	}

	set mode(value) {
		this.setAttribute('mode', value);
	}

	get collapsed() {
		return this.classList.contains('collapsed');
	}

	set collapsed(value) {
		if (this.collapsed === value) return;

		if (value) {
			this.classList.add('collapsed');
			this._labelPreview.textContent = this.getPreview();
		} else {
			this.classList.remove('collapsed');
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
	}

	connectedCallback() {}

	build() {
		if (this._built) return;

		this._built = true;

		this.className = 'form-group';

		let matchFound = false;
		const inputs = Array.from(this.childNodes);
		const values = this.form.meta?.pills?.semantic?.filter((item) => item.type === this.type);
		const filled = inputs.some((child) => child.value !== '');
		const required = inputs.some((child) => child.required);

		if (inputs.every((child) => child.advanced)) {
			this.setAttribute('advanced', '');

			if (!this.form.advancedParametersVisible) {
				this.classList.add('d-none');
			}
		}

		this.control = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.control');
		this.wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.wrapper');

		inputs.forEach((input) => this.wrapper.append(input));

		function map(map) {
			inputs.forEach((input) => {
				const type = input._instructions.semantic?.split(':')[1];

				if (map[type]) {
					input.value = `{{${map[type]}}}`;
				} else {
					input.value = null;
				}
			});
		}

		const name = `semantic-group-${this.type}-${this._id}`;

		if (values) {
			values.forEach((value) => {
				const item = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(selectors.item);
				const id = `${name}-${value.node.id}`;
				const input = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`${selectors.input}[type="radio"]`));

				input.id = id;
				input.setAttribute('name', name);

				const label = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(selectors.label));

				label.setAttribute('for', id);

				const badge = label.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.badge'));

				badge.style.color = '#' + new _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_3__.Color(value.theme).determineForegroundColor().toHex();
				badge.style.backgroundColor = value.theme;
				badge.textContent = `${value.node.package.label} - ${value.node.config.label}`;

				if (filled) {
					// values was filled before
					let matches = true;

					for (const input of Array.from(inputs)) {
						if (input.value !== `{{${value.map[input._instructions.semantic?.split(':')[1]]}}}`) {
							matches = false;
							break;
						}
					}

					if (matches) {
						matchFound = true;
						input.checked = true;
						this.mode = 'pick';
					}
				} else if (required && !matchFound) {
					// values was not filled but the field is required so we pre-select first option
					matchFound = true;
					input.checked = true;
					this.mode = 'pick';

					map(value.map);
				}

				item.addEventListener('click', () => {
					input.checked = true;
					this.mode = 'pick';
					map(value.map);

					(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
				});

				item.addEventListener('mouseenter', () => {
					if (value.node) value.node.enlarge = true;
				});

				item.addEventListener('mouseleave', () => {
					if (value.node) value.node.enlarge = false;
				});

				this.control.append(item);
			});

			// Manual mode

			const item = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(selectors.item);
			const id = `${name}-map`;
			const input = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`${selectors.input}#[type="radio"]`));

			input.id = id;
			input.setAttribute('name', name);

			const label = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(selectors.label));

			label.setAttribute('for', id);
			label.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('buttons.map');

			item.addEventListener('click', () => {
				input.checked = true;
				this.mode = 'map';

				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
			});

			this.control.append(item);

			if (!matchFound && filled) {
				input.checked = true;
			}
		}

		// Expander & label

		const expander = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-expander');

		expander.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span')); // To make animations possible without rotating whole square
		this.appendChild(expander);
		expander.addEventListener('click', (event) => {
			this.collapsed = !this.collapsed;
			event.stopImmediatePropagation();
		});

		this._label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('label');
		// this._label.setAttribute('for', this._id);
		this.appendChild(this._label);

		const labelContent = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span');

		labelContent.innerHTML = SEMANTIC_TYPES[this.type].label;
		this._label.appendChild(labelContent);
		this._labelPreview = this._label.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.label-preview'));

		this.append(this.control);
		this.append(this.wrapper);
	}

	getPreview() {
		const fields = Array.from(this.wrapper.querySelectorAll('.form-group'));

		const value = fields
			.slice(0, 15) // take only a small slice to avoid computing unnecessarily long strings
			.filter((f) => f instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_2__.Input)
			.map((f) => `${f._instructions.label || f._instructions.name}: ${f.getPreview()}`)
			.filter((l) => !!l)
			.join(', ');

		if (value === null || value === undefined || value === '') {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('common.empty').toLowerCase()}>`;
		}

		return value;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-semantic-group', SemanticGroup);


/***/ }),

/***/ "./lib/controls/switch.mjs":
/*!*********************************!*\
  !*** ./lib/controls/switch.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony export Switch */
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _switch_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./switch.scss */ "./lib/controls/switch.scss");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");





/**
 * @emits beforeinput Emitted before the change occurs. Cancelable. Does not bubble.
 */

class Switch extends HTMLElement {
	constructor() {
		super();

		this.addEventListener('keyup', (event) => {
			if (event.keyCode === 32) {
				// space
				this.toggle();
				event.stopPropagation();
				event.preventDefault();
			}
		});

		this.addEventListener('click', (event) => {
			this.toggle();
			event.stopPropagation();
			event.preventDefault();
		});
	}

	static get observedAttributes() {
		return ['active'];
	}

	attributeChangedCallback(name, oldValue, newValue) {
		if (name === 'active') {
			if (newValue) {
				// Activate switch
			} else {
				// Deactivate switch
			}
		}
	}

	connectedCallback() {
		// Make switch focusable
		this.setAttribute('tabindex', 0);

		if (!this._slider) {
			this._slider = this.querySelector('div.imt-switch-slider') || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.imt-switch-slider');
			this.appendChild(this._slider);
		}
	}

	get active() {
		return this.hasAttribute('active');
	}

	set active(value) {
		if (this.hasAttribute('disable')) {
			throw new Error('Switch is disabled.');
		}

		if (value) {
			this.setAttribute('active', '');
		} else {
			this.removeAttribute('active');
		}
	}

	get disabled() {
		return this.hasAttribute('disabled');
	}

	set disabled(value) {
		if (value) {
			this.setAttribute('disabled', '');
		} else {
			this.removeAttribute('disabled');
		}
	}

	async toggle() {
		if (this.hasAttribute('disable')) return;

		const redirect = this.hasAttribute('redirect');
		const form = this.closest('imt-forman');
		const context = form ? form.meta.imlContext : {};

		// Allow cancelation of the click event by the outside world
		if (!_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this, 'beforeinput', { cancelable: true })) {
			return;
		}

		if (this.active) {
			const url = this.dataset['stop-url'];

			if (url) {
				this.disabled = true;

				if (redirect) {
					window.location.href = url;
					return;
				}

				try {
					await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(url, { context });
					this.disabled = false;
					this.active = false;
				} catch (err) {
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(document, 'imt.flash', { detail: err });
				}
			} else {
				this.active = false;
			}
		} else {
			const url = this.dataset['start-url'];

			if (url) {
				this.disabled = true;

				if (redirect) {
					window.location.href = url;
					return;
				}

				try {
					await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(url, { context });
					this.disabled = false;
					this.active = true;
				} catch (err) {
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(document, 'imt.flash', { detail: err });
				}
			} else {
				this.active = true;
			}
		}

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this, 'input', { bubbles: true });
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-switch', Switch);


/***/ }),

/***/ "./lib/deps/ajv.mjs":
/*!**************************!*\
  !*** ./lib/deps/ajv.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env node */

const wrapper = {
	_library: typeof window !== 'undefined' ? window.ajv7 : null,
	get Ajv() {
		return typeof window !== 'undefined' ? window.ajv7 : wrapper._library;
	},
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (wrapper);


/***/ }),

/***/ "./lib/deps/buffer.mjs":
/*!*****************************!*\
  !*** ./lib/deps/buffer.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env node */

const wrapper = {
	_library: typeof global !== 'undefined' ? global.Buffer : null,
	from(...args) {
		if (wrapper._library) return wrapper._library.from(...args);
		return null;
	},
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (wrapper);


/***/ }),

/***/ "./lib/deps/iconv.mjs":
/*!****************************!*\
  !*** ./lib/deps/iconv.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env node */

const wrapper = {
	_library: null,
	encodingExists(encoding) {
		if (wrapper._library) return wrapper._library.encodingExists(encoding);
		return false;
	},
	encode(value, encoding) {
		if (wrapper._library) return wrapper._library.encode(value, encoding);
		return value;
	},
	decode(value, encoding) {
		if (wrapper._library) return wrapper._library.decode(value, encoding);
		return value;
	},
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (wrapper);


/***/ }),

/***/ "./lib/deps/iml.mjs":
/*!**************************!*\
  !*** ./lib/deps/iml.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IML: () => (/* binding */ IML)
/* harmony export */ });
/* unused harmony export SIML */
/* eslint-env node */

const wrapper = {
	_library: typeof window !== 'undefined' ? { IML: window.IML, SIML: window.SIML } : null,
};

const IML = {
	execute(...args) {
		return wrapper._library.IML.execute(...args);
	},
	parse(...args) {
		return wrapper._library.IML.parse(...args);
	},
	stringify(...args) {
		return wrapper._library.IML.stringify(...args);
	},
	replace(...args) {
		return wrapper._library.IML.replace(...args);
	},
	_mapVariable(...args) {
		return wrapper._library.IML._mapVariable(...args);
	},
	get VARIABLES() {
		return wrapper._library.IML.VARIABLES;
	},
	get FUNCTIONS() {
		return wrapper._library.IML.FUNCTIONS;
	},
	get OPERATORS() {
		return wrapper._library.IML.OPERATORS;
	},
	get KEYWORDS() {
		return wrapper._library.IML.KEYWORDS;
	},
	get TEAM_VARIABLES() {
		return wrapper._library.IML.TEAM_VARIABLES;
	},
	get ORGANIZATION_VARIABLES() {
		return wrapper._library.IML.ORGANIZATION_VARIABLES;
	},
	get SCENARIO_VARIABLES() {
		return wrapper._library.IML.SCENARIO_VARIABLES;
	},
	get errors() {
		return wrapper._library.IML.errors;
	},
};

const SIML = {
	execute(...args) {
		return wrapper._library.SIML.execute(...args);
	},
};

/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (wrapper);



/***/ }),

/***/ "./lib/deps/moment.mjs":
/*!*****************************!*\
  !*** ./lib/deps/moment.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env node */

const wrapper = (...args) => {
	return wrapper._library(...args);
};

wrapper._library = typeof window !== 'undefined' ? window.moment : null;

wrapper.tz = (...args) => {
	return wrapper._library.tz(...args);
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (wrapper);


/***/ }),

/***/ "./lib/domains.mjs":
/*!*************************!*\
  !*** ./lib/domains.mjs ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Domains)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ "./lib/utils.mjs");


const DEFAULT_DOMAIN = 'default';

class Domains {
	constructor(form) {
		this._store = new Map();
		this.form = form;
	}

	get list() {
		return this._store.values();
	}

	get length() {
		return this._store.size;
	}

	setDefaults(name, defaults, instructions, values, metadata = {}, priority) {
		this._store.set(name, { name, defaults, instructions, values, metadata, priority });
	}

	getDefaults(name) {
		return this._store.get(name);
	}

	value(domain = DEFAULT_DOMAIN) {
		// Call fieldset.value instead of this.fields -> value to use value resolver from fieldset that
		// takes in account version of the manifest and excludes unexpected empty values if requested
		return this.fieldsets(domain).reduce((out, fieldset) => {
			Object.assign(out, fieldset.value);
			return out;
		}, {});
	}

	fieldsets(domain = DEFAULT_DOMAIN) {
		const fieldsets = [];

		function processFs(fs) {
			const fsDomain = fs.getAttribute('domain');

			if (fsDomain === domain) {
				fieldsets.push(fs);
				fieldsets.push(...fs.nestedFieldsets);
			} else {
				getNested(fs);
			}
		}

		// TODO: improve logic - structure could be different
		function getNested(fs) {
			fs.querySelectorAll(':scope > [field] > imt-nested > imt-fieldset').forEach(processFs);
		}

		function isRootFieldset(element) {
			const fieldsetTag = 'IMT-FIELDSET';

			if (!element.parentElement) {
				return true;
			}

			if (element.parentElement.tagName !== fieldsetTag) {
				return !element.parentElement.closest(fieldsetTag);
			}
			return false;
		}

		Array.from(this.form.querySelectorAll('imt-fieldset')).filter(isRootFieldset).forEach(processFs);

		return fieldsets;
	}

	fields(domain = DEFAULT_DOMAIN) {
		return this.fieldsets(domain).flatMap((fieldset) => fieldset.fields);
	}

	getValidateInstructions(domain = DEFAULT_DOMAIN) {
		return this.fields(domain).map((field) => field.getValidateInstructions());
	}

	getState(domain = DEFAULT_DOMAIN) {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.getStateObject)(this.fields(domain));
	}
}


/***/ }),

/***/ "./lib/eventManager.mjs":
/*!******************************!*\
  !*** ./lib/eventManager.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EventManager)
/* harmony export */ });
const onListenMap = {};
const onDispatchMap = {};

const debug = false;

class EventManager {
	static registerOnListen(eventName, fn) {
		if (!onListenMap[eventName]) {
			onListenMap[eventName] = [];
		}

		onListenMap[eventName].push(fn);
	}

	static unregisterOnListen(eventName, fn) {
		if (!onListenMap[eventName]) {
			onListenMap[eventName] = onListenMap[eventName].filter((f) => f !== fn);
		}
	}

	static registerOnDispatch(eventName, fn) {
		if (!onDispatchMap[eventName]) {
			onDispatchMap[eventName] = [];
		}

		onDispatchMap[eventName].push(fn);
	}

	static unregisterOnDispatch(eventName, fn) {
		if (!onDispatchMap[eventName]) {
			onDispatchMap[eventName] = onDispatchMap[eventName].filter((f) => f !== fn);
		}
	}

	static logEvent(source, name, target) {
		if (debug) {
			console.log(`[forman event:${source}]: ${target.tagName} ${name}`);
		}
	}

	static dispatch(target, name, options = { detail: undefined, bubbles: false, cancelable: false }) {
		this.logEvent('dispatch', name, target);
		if (target && name) {
			const event = new CustomEvent(name, {
				bubbles: options.bubbles,
				cancelable: options.cancelable,
				detail: options.detail,
			});

			if (onDispatchMap[name]?.length) {
				onDispatchMap[name].forEach((m) => {
					m(event);
				});
			}

			if (!event.defaultPrevented) {
				return target.dispatchEvent(event);
			}
		}
	}

	static addListener(target, name, fn) {
		target.addEventListener(name, (event) => {
			this.logEvent('listener', name, target);
			this._callOnListens(name, event);

			if (!event.defaultPrevented) {
				fn(event);
			}
		});
	}

	static addNamedNativeListener(target, name, eventName, fn) {
		target.addEventListener(eventName, (event) => {
			this.logEvent('listener', name, target);
			this._callOnListens(name, event);

			if (!event.defaultPrevented) {
				fn(event);
			}
		});
	}

	static _callOnListens(name, event) {
		if (onListenMap[name]?.length > 0) {
			onListenMap[name].some((fn) => fn && fn(event));
		}
	}
}


/***/ }),

/***/ "./lib/events.mjs":
/*!************************!*\
  !*** ./lib/events.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	FORM: {
		CONNECT: 'connect',
		DISCONNECT: 'disconnect',
		RESIZE: 'resize',
		CHANGE: 'change',
		BUILD: 'build',
		BUILT: 'built',
		SUBMIT: 'submit',
		SUBMITTED: 'submitted',
		ERROR: 'error',
		LOADING: 'loading',
		LOADED: 'loaded',

		ADVANCED_PARAMETERS_CHANGE: 'advancedParametersChange',

		HAS_ADVANCED_PARAMETERS: 'hasAdvancedParameters',

		G_RECAPTCHA_LOADED: 'gRecaptchaLoaded',
	},
	INPUT: {
		MODE_CHANGE: 'modeChange',
		MODE_CHANGED: 'modeChanged',
		NESTED_CHANGED: 'nestedChanged',
		HAS_DYNAMIC_NESTED: 'hasDynamicNested',
		BUILT: 'inputBuilt',
		CONNECTED: 'inputConnected',
	},
	FIELDSET: {
		BUILT: 'built',
	},
	PICKER: {
		CHANGE: 'change',
		CHANGED: 'changed',
		BEFORE_SELECT_OPTION: 'beforeSelect',
		LOAD_DONE: 'loadDone',
		LOAD_ERROR: 'loadError',
	},
	PANEL: {
		OPEN: 'open',
		CLOSE: 'close',
		OPEN_MENU: 'openPanelMenu',
	},
	DATASTORE: {
		BROWSE: 'browse',
	},
	ACCOUNT: {
		EXTEND_CLICK: 'extendClick',
		ACCOUNT_CREATED: 'accountCreated',
		SCENARIO_INPUT_CREATED: 'accountScenarioInputCreated',
		SCENARIO_INPUT_EDITED: 'accountScenarioInputEdited',
		SCENARIO_INPUT_EXTENDED: 'accountScenarioInputExtended',
		EXTEND_PANEL_CREATED: 'extendPanelCreated',
	},
});


/***/ }),

/***/ "./lib/fieldset.mjs":
/*!**************************!*\
  !*** ./lib/fieldset.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fieldset: () => (/* binding */ Fieldset)
/* harmony export */ });
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inputs/input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events.mjs */ "./lib/events.mjs");
/* harmony import */ var _controls_semantic_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controls/semantic.mjs */ "./lib/controls/semantic.mjs");
/* harmony import */ var imurmurhash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! imurmurhash */ "./node_modules/imurmurhash/imurmurhash.js");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./eventManager.mjs */ "./lib/eventManager.mjs");









class Fieldset extends HTMLElement {
	constructor() {
		super();

		this._built = false;
		this._cache = new Map();

		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'for')) {
			this.for = new imurmurhash__WEBPACK_IMPORTED_MODULE_5__(this.getAttribute('for')).result();
		}

		this._observer = new MutationObserver((mutationList) => {
			this._cache.delete('fields');
		});

		this._observer.observe(this, { attributes: false, subtree: true, childList: true });
	}

	connectedCallback() {
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, 'connected');
	}

	get fields() {
		if (this._cache.has('fields')) {
			return this._cache.get('fields');
		}

		function getInput(child) {
			return child instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input && child._built && !child.disabled && !child.omit ? child : null;
		}

		const fields = Array.from(this.childNodes)
			.flatMap((child) => {
				if (child instanceof _controls_semantic_mjs__WEBPACK_IMPORTED_MODULE_4__.SemanticGroup) {
					return Array.from(child.querySelector(':scope > div.wrapper')?.childNodes || []).map((groupChild) =>
						getInput(groupChild),
					);
				} else {
					return getInput(child);
				}
			})
			.filter((i) => i);

		this._cache.set('fields', fields);
		return fields;
	}

	get for() {
		return this.getAttribute('for');
	}

	set for(value) {
		this.setAttribute('for', value);
	}

	get value() {
		return this.fields.reduce((out, field) => {
			if (!(field.erasable && (field.value === '' || (Array.isArray(field.value) && field.value.length === 0)))) {
				out[field.name] = field.castedValue;
			}

			return out;
		}, {});
	}

	get nestedFieldsets() {
		const fieldsets = [];

		const getNested = (fs) => {
			fs.fields.forEach((field) => {
				const nfs = field.nestedFieldset;

				if (!nfs) return;

				const nfsDomain = nfs.getAttribute('domain');

				if (nfsDomain === this.domain) {
					fieldsets.push(nfs);
				}

				getNested(nfs);
			});
		};

		getNested(this);

		return fieldsets;
	}

	/**
	 * Return all parameters from this fieldset to the root forman element
	 *
	 * @return {Object}
	 */

	get rpcData() {
		let data = {};
		let parent = this;

		if (this.form?.meta?.parentFieldset) {
			data = { ...this.form.meta.parentFieldset.rpcData };
		}

		do {
			const field = parent.closest('.form-group');

			if (field instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input && field.name) Object.assign(data, { [field.name]: field.value });
			parent = parent.closest('imt-fieldset:not(:scope)');
		} while (parent);

		return data;
	}

	get domain() {
		return this.hasAttribute('nested') ? this.fieldset.domain : this.getAttribute('domain');
	}

	set domain(domain) {
		if (this.hasAttribute('nested')) return;
		this.setAttribute('domain', domain);
	}

	get mappable() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'mappable');
	}

	set mappable(value) {
		value ? this.setAttribute('mappable', '') : this.removeAttribute('mappable');
	}

	get form() {
		if (!this._form) {
			this._form = this.closest('imt-forman');
		}

		return this._form;
	}

	get fieldset() {
		return this.closest('imt-fieldset:not([nested])');
	}

	get temporary() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'temporary');
	}

	set temporary(value) {
		value ? this.setAttribute('temporary', '') : this.removeAttribute('temporary');
	}

	get dynamic() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'dynamic');
	}

	set dynamic(value) {
		value ? this.setAttribute('dynamic', '') : this.removeAttribute('dynamic');
	}

	get erasable() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'erasable');
	}

	set erasable(value) {
		value ? this.setAttribute('erasable', '') : this.removeAttribute('erasable');
	}

	get disabled() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'disabled');
	}

	set disabled(value) {
		if (value) {
			this.disable();
		} else {
			this.enable();
		}
	}

	get hidden() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'hidden');
	}

	set hidden(value) {
		if (this.hidden === value) {
			return;
		}

		if (value) {
			this.hide();
		} else {
			this.show();
		}
	}

	get defaultMappable() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(this, 'default-mappable');
	}

	set defaultMappable(value) {
		value ? this.setAttribute('default-mappable', '') : this.removeAttribute('default-mappable');
	}

	get inputPaths() {
		return this._inputPaths;
	}

	set inputPaths(value) {
		this._inputPaths = value;
	}

	get domPath() {
		let element = this;
		const path = [];

		while (element && element.nodeName !== 'IMT-FORMAN') {
			path.push(`${element.nodeName}`);
			element = element.parentElement;
		}

		return path.join(' ');
	}

	/**
	 * Builds the fieldset from an array of instructions.
	 *
	 * @param {Array|string} instructions Array of instructions.
	 * @param {Object} value Collection of values.
	 * @param {Object} metadata Collection with metadata for rebuilding of the fieldset.
	 */

	async build(instructions, value, metadata) {
		if (this._built) return;
		this._built = true;

		this.form.loadings++;

		// Inherit fieldset settings
		if (!this.domain) this.domain = (this.fieldset && this.fieldset.domain) || 'default';
		if (!this.mappable) this.mappable = (this.fieldset && this.fieldset.mappable) || this.form.mappable || false;
		if (!this.defaultMappable)
			this.defaultMappable = (this.fieldset && this.fieldset.defaultMappable) || this.form.defaultMappable || false;

		const promises = [];
		const context = this.form ? this.form.meta.imlContext : {};
		const buildTimeVariables = this.form?.meta?.imlOptions?.buildTimeVariables || {};
		const getRpcConfig = () => {
			return {
				context,
				buildTimeVariables,
				accountParamName: this.closest('imt-input-account')?.name,
				data: this.fieldset.rpcData,
			};
		};

		// If root array is string, resolve as url
		if (typeof instructions === 'string') {
			this.dynamic = true;
			instructions = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(instructions, getRpcConfig());
		}

		if (typeof instructions?.store === 'string') {
			const response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(instructions.store, getRpcConfig());

			if (instructions.wrapper && response[instructions.wrapper]) {
				instructions = response[instructions.wrapper];
			} else {
				instructions = response;
			}
		}

		// Instructions at this point has to be always an array of the inputs for the fieldset
		if (instructions?.store) instructions = instructions.store;

		const semantics = {};
		const fieldsetState = this.form.getFieldsetState(this) || {};
		const addInput = (inputInstructions) => {
			if (typeof inputInstructions.type === 'undefined') {
				console.warn(
					`${inputInstructions.label} type is undefined, fallbacking to 'text'. You should change config to include the type as this fallback might be removed in the future!`,
				);
				inputInstructions.type = 'text';
			}

			const type = (inputInstructions.type || 'text').toLowerCase();
			let input;

			try {
				input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.createInput)(type);
			} catch (ex) {
				inputInstructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.getExtendInstructions)(inputInstructions, type, _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].config.extendedFields);

				if (!inputInstructions) throw ex;

				input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.createInput)(inputInstructions.type);
				input.setAttribute('type', type);
			}

			if (inputInstructions.semantic) {
				const [type] = inputInstructions.semantic.split(':');

				if (!semantics[type]) {
					semantics[type] = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)(`imt-semantic-group[type="${type}"]`);
					this.append(semantics[type]);
				}

				semantics[type].append(input);
			} else {
				this.append(input);
			}

			// Extract value and metadata for this field
			const val = value === null ? null : value ? value[inputInstructions.name] : undefined;
			const meta = (metadata?.fields && metadata.fields[inputInstructions.name]) || {};

			meta.restore =
				(metadata?.restore && metadata.restore[inputInstructions.name]) || fieldsetState[inputInstructions.name];
			meta.context = Object.assign({}, metadata?.context || {}, context);

			// Used for building of nested fieldsets
			meta.fieldset = {
				metadata,
				value,
			};

			promises.push(input.build(inputInstructions, val, meta));
		};

		if (instructions) {
			for (let inputInstructions of instructions) {
				// If item is string, resolve as url
				if (typeof inputInstructions === 'string') {
					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this.closest('.form-group'), _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].INPUT.HAS_DYNAMIC_NESTED);
					inputInstructions = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(inputInstructions, getRpcConfig());
				}

				if (Array.isArray(inputInstructions)) {
					inputInstructions.forEach(addInput);
				} else {
					addInput(inputInstructions);
				}
			}
		} else {
			// Build elements by looking at the dom tree
			for (const input of this.childNodes) {
				if (input instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input) {
					if (!input.hasAttribute('name')) throw new Error('Input without name.');
					const name = input.getAttribute('name');
					// Extract value and metadata for this field
					let val;

					if (input.hasAttribute('value')) {
						val = input.getAttribute('value');
						if (val && input.getAttribute('content-type') === 'application/json') val = JSON.parse(val);
						input.removeAttribute('value');
					} else {
						val = value === null ? null : value ? value[name] : undefined;
					}
					const meta = (metadata?.fields && metadata.fields[name]) || {};

					meta.restore = metadata?.restore && metadata.restore[name];

					promises.push(input.build(undefined, val, meta));
				}
			}
		}

		// Build all fields in parallel
		await Promise.all(promises);
		Object.values(semantics).forEach((group) => group.build());
		this.form.loadings--;
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].FIELDSET.BUILT);
		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
		this.form.saveFieldsetState(this);
	}

	enable() {
		this.removeAttribute('disabled');
		for (const node of this.childNodes) {
			if (node instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input && node.disabled) {
				node.disabled = false;
			}
		}
	}

	disable() {
		this.setAttribute('disabled', '');
		for (const node of this.childNodes) {
			if (node instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input && !node.disabled) {
				node.disabled = true;
			}
		}
	}

	hide() {
		this.setAttribute('hidden', '');
		for (const node of this.querySelectorAll('imt-fieldset')) {
			const value = node.closest('[field]')?.value;
			const hash = new imurmurhash__WEBPACK_IMPORTED_MODULE_5__(value).result();

			if (node instanceof Fieldset && !node.hidden && +node.getAttribute('for') === hash) {
				node.hide();
			}
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
	}

	show() {
		this.removeAttribute('hidden');
		for (const node of this.querySelectorAll('imt-fieldset')) {
			const value = node.closest('[field]')?.value;
			const hash = new imurmurhash__WEBPACK_IMPORTED_MODULE_5__(value).result();

			if (node instanceof Fieldset && node.hidden && +node.getAttribute('for') === hash) {
				node.show();
			}
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
	}

	collapse() {
		for (const child of this.childNodes) {
			if (child instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input && !child.hasAttribute('invalid')) {
				child.collapsed = true;
			} else if (child.nodeName === 'IMT-SEMANTIC-GROUP' && !child.classList.contains('invalid')) {
				child.collapsed = true;
			}
		}
	}

	expand() {
		for (const child of this.childNodes) {
			if (child instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input) {
				child.collapsed = false;
			}
		}
	}

	validate() {
		if (this.closest('imt-fieldset[hidden]') || this.closest('imt-input-array[mode=map]')) {
			return true;
		}

		let valid = true;

		for (const child of this.childNodes) {
			if (child instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input) {
				if (!child.validate()) valid = false;
			}
		}
		return valid;
	}

	setDomainDefaults(defaults) {
		if (defaults?.mappable) this.mappable = true;
		if (defaults?.defaultMappable) this.defaultMappable = true;
		if (defaults?.erasable) this.erasable = true;
		if (defaults?.showErasePill) this.setAttribute('show-erase-pill', ''); // TODO Add to the coder
	}

	getState(fieldset = this) {
		const fields = fieldset.fields;
		const state = {};

		for (const field of fields) {
			state[field.name] = field.getState();
		}

		return state;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-fieldset', Fieldset);


/***/ }),

/***/ "./lib/formanConfig.mjs":
/*!******************************!*\
  !*** ./lib/formanConfig.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FormanConfig)
/* harmony export */ });
/* harmony import */ var _configs_config_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./configs/config.mjs */ "./lib/configs/config.mjs");


const _baseConfig = _configs_config_mjs__WEBPACK_IMPORTED_MODULE_0__["default"];
const _overrides = {
	editors: [],
	loader: {},
	loaderProtocolHandlers: {},
};

class FormanConfig {
	static get config() {
		return _baseConfig;
	}

	static get overrides() {
		return _overrides;
	}
}


/***/ }),

/***/ "./lib/helpers/blueprintValidator.mjs":
/*!********************************************!*\
  !*** ./lib/helpers/blueprintValidator.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   blueprintMappingValidate: () => (/* binding */ blueprintMappingValidate)
/* harmony export */ });
/* harmony import */ var chai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chai */ "./node_modules/chai/index.mjs");
/* global Inspector */



function blueprintMappingValidate(blueprint, verbose) {
	if (!blueprint) {
		blueprint = localStorage.getItem('debugScenarioBlueprint');
	}

	if (!blueprint) return console.error('No blueprint provided to compare.');

	try {
		blueprint = JSON.parse(blueprint);
	} catch (ex) {}

	const currentBlueprint = Inspector?.instance?.scenario?.toJSON();

	if (!currentBlueprint) return console.error('There is no scenario to be validated.');

	chai__WEBPACK_IMPORTED_MODULE_0__["default"].should();

	const messages = [];
	const log = logger(messages, verbose);

	validateMapping(blueprint, currentBlueprint);

	function cleanup(object) {
		try {
			return JSON.parse(JSON.stringify(object));
		} catch (ex) {
			return object;
		}
	}

	function validateMapping(blueprint, currentBlueprint, path = 'root') {
		if (blueprint.flow) {
			if (!currentBlueprint.flow) {
				log('error', `Current blueprint on path '${path}' is missing flow.`);
			} else {
				const flow = blueprint.flow;
				const currentFlow = currentBlueprint.flow;

				flow.forEach((module, i) => {
					const moduleName = `${module.id}.${module.module}`;

					log('log', `Validating '${moduleName}'`);
					const currentModule = currentFlow[i];

					if (module.parameters) {
						if (!currentModule.parameters) {
							log('error', `Current module '${moduleName}' is missing static parameters.`);
						} else {
							try {
								cleanup(currentModule.parameters).should.be.deep.equal(cleanup(module.parameters));
							} catch (ex) {
								log('error', `Failed to validate '${moduleName}' static parameters. ${composeValidationMessage(ex)}`);
							}
						}
					}

					if (module.mapper) {
						if (!currentModule.mapper) {
							log('error', `Current module '${moduleName}' is missing dynamic parameters.`);
						} else {
							try {
								cleanup(currentModule.mapper).should.be.deep.equal(cleanup(module.mapper));
							} catch (ex) {
								log('error', `Failed to validate '${moduleName}' dynamic parameters.`, ...composeValidationMessage(ex));
							}
						}
					}

					if (module.routes) {
						if (!currentModule.routes) {
							log('error', `Current module '${moduleName}' is missing routes.`);
						} else {
							module.routes.forEach((route, i) =>
								validateMapping(route, currentModule.routes[i], (path += ` >  ${moduleName}`)),
							);
						}
					}
				});
			}
		}
	}

	const failed = messages.some((m) => m.type === 'error');

	if (failed) {
		log('state', 'Failed to validate blueprint!');

		exportToJson('report.json', messages);
	} else {
		log('state', 'Validation successfully passed!');
	}
}

function composeValidationMessage(ex) {
	return [ex];
}

function logger(container, verbose = false) {
	return function log(type, ...messages) {
		if (verbose || type === 'state') console[type === 'state' ? 'log' : type]('BP-VALIDATOR:', ...messages);

		container.push({
			type,
			message: [...messages],
		});
	};
}

function exportToJson(filename, json) {
	const contentType = 'application/json;charset=utf-8;';
	const jsonString = JSON.stringify(json, null, '\t');

	if (window.navigator && window.navigator.msSaveOrOpenBlob) {
		const blob = new Blob([decodeURIComponent(encodeURI(jsonString))], { type: contentType });

		navigator.msSaveOrOpenBlob(blob, filename);
	} else {
		const a = document.createElement('a');

		a.download = filename;
		a.href = 'data:' + contentType + ',' + encodeURIComponent(jsonString);
		a.target = '_blank';
		document.body.appendChild(a);
		a.click();
		document.body.removeChild(a);
	}
}


/***/ }),

/***/ "./lib/helpers/buffer.mjs":
/*!********************************!*\
  !*** ./lib/helpers/buffer.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Buffer: () => (/* binding */ Buffer)
/* harmony export */ });
/* eslint-env node */

class FakeBuffer {
	constructor(value) {
		this._value = value;
	}
	static from(value) {
		return new FakeBuffer(value);
	}
	static isBuffer(value) {
		return value instanceof FakeBuffer;
	}
	toString(codepage) {
		return this._value;
	}
}

const browser = typeof window !== 'undefined';

const Buffer = browser ? window.Buffer || FakeBuffer : global['Buffer']; // This hack prevents Browserify to add Buffer polyfill


/***/ }),

/***/ "./lib/helpers/color.mjs":
/*!*******************************!*\
  !*** ./lib/helpers/color.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Color: () => (/* binding */ Color),
/* harmony export */   DEFAULT_THEME: () => (/* binding */ DEFAULT_THEME)
/* harmony export */ });
// partially ported from https://github.com/integromat/imt-web-zone/blob/master/libs/zone/inspector/feature-coffee/src/imt.base/color.coffee
const DEFAULT_THEME = 'var(--imt-primary, #6d00cc)';

class Color {
	constructor(color, ...params) {
		this.color = { r: 0, g: 0, b: 0, a: 1 };

		if (typeof color === 'string') {
			if (color.charAt(0) === '#') {
				color = color.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/, (m, r, g, b) => r + r + g + g + b + b);

				const res = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(color);

				if (res) {
					this.color = {
						r: parseInt(res[1], 16),
						g: parseInt(res[2], 16),
						b: parseInt(res[3], 16),
						a: 1,
					};
				}
			} else if (/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i.exec(color)) {
				this.color = {
					r: parseInt(RegExp.$1),
					g: parseInt(RegExp.$2),
					b: parseInt(RegExp.$3),
					a: 1,
				};
			} else if (/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+\.?\d*)\s*\)$/i.exec(color)) {
				this.color = {
					r: parseInt(RegExp.$1),
					g: parseInt(RegExp.$2),
					b: parseInt(RegExp.$3),
					a: parseFloat(RegExp.$4),
				};
			}
		} else if (typeof color === 'number') {
			this.color = {
				r: color,
				g: params[0],
				b: params[1],
				a: params[2],
			};
		} else if (color instanceof Color) {
			this.color = { ...color.color };
		}
	}

	get alpha() {
		return this.color.a;
	}

	set alpha(value) {
		this.color.a = parseInt(value);
	}

	get red() {
		return this.color.r;
	}

	set red(value) {
		this.color.r = parseInt(value);
	}

	get green() {
		return this.color.g;
	}

	set green(value) {
		this.color.g = parseInt(value);
	}

	get blue() {
		return this.color.b;
	}

	set blue(value) {
		this.color.b = parseInt(value);
	}

	get luminance() {
		return (0.3 * this.color.r + 0.59 * this.color.g + 0.11 * this.color.b) / 255;
	}

	determineForegroundColor() {
		if (this.alpha < 0.5) {
			return new Color();
		}

		if (this.luminance <= 0.82) {
			return new Color(255, 255, 255);
		}

		return new Color();
	}

	toHex() {
		const pad = (n) => (n.length < 2 ? `0${n}` : n);

		return `${pad(this.color.r.toString(16))}${pad(this.color.g.toString(16))}${pad(this.color.b.toString(16))}`;
	}
}


/***/ }),

/***/ "./lib/helpers/dateparser.mjs":
/*!************************************!*\
  !*** ./lib/helpers/dateparser.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseDate: () => (/* binding */ parseDate),
/* harmony export */   parseTime: () => (/* binding */ parseTime)
/* harmony export */ });
/* unused harmony export timeToString */
/* harmony import */ var _deps_moment_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../deps/moment.mjs */ "./lib/deps/moment.mjs");




const defaultTimeZone = 'UTC';

function parseDate(value, timezone) {
	let d;
	let day;
	let month;
	let time;
	let year;

	if (value instanceof Date) return value;
	if (typeof value === 'number') value = String(value);
	if (typeof value !== 'string') return null;

	value = value.trim();
	if (!timezone) timezone = defaultTimeZone;

	// console.log 'IN', value

	if (/^\d+$/.test(value)) return new Date(parseInt(value));

	let hour = 0;
	let minute = 0;
	let second = 0;
	let fraction = 0;
	let offset = null;

	const dd = (val, digs = 2) => `${'0'.repeat(digs - String(val).length)}${val}`;

	// 2016-06-09
	// 2016-06-09T15:42
	// 2016-06-09 15:42:46
	// 2016-6-9T15:42:46+0030
	// 2016/06/09T15:42:46.502+00:30

	if (/^(\d{4})[\-\/](\d{1,2})[\-\/](\d{1,2})[T\s]?(.+)?$/i.exec(value)) {
		year = parseInt(RegExp.$1);
		month = parseInt(RegExp.$2);
		day = parseInt(RegExp.$3);
		time = RegExp.$4 != null ? RegExp.$4.trim() : undefined;

		if (month > 12) {
			d = day;
			day = month;
			month = d;
		}
	}

	if (/^(\d{1,2})[\.\-]\s?(\d{1,2})[\.\-]\s?(\d{4})\s*(.+)?$/i.exec(value)) {
		year = parseInt(RegExp.$3);
		month = parseInt(RegExp.$2);
		day = parseInt(RegExp.$1);
		time = RegExp.$4 != null ? RegExp.$4.trim() : undefined;

		if (month > 12) {
			d = day;
			day = month;
			month = d;
		}
	}

	if (/^(\d{1,2})\/(\d{1,2})\/(\d{4})\s*(.+)?$/i.exec(value)) {
		year = parseInt(RegExp.$3);
		month = parseInt(RegExp.$1);
		day = parseInt(RegExp.$2);
		time = RegExp.$4 != null ? RegExp.$4.trim() : undefined;

		if (month > 12) {
			d = day;
			day = month;
			month = d;
		}
	}

	if (time && /^(.+)?([+\-])(\d\d):?(\d\d)$/i.exec(time)) {
		offset = (parseInt(RegExp.$3) * 60 * 60 + parseInt(RegExp.$4) * 60) * 1000;
		if (RegExp.$2 === '-') {
			offset *= -1;
		}
		time = RegExp.$1 != null ? RegExp.$1.trim() : undefined;
	}

	if (time && /^(.+)?(Z|UTC|GMT)$/i.exec(time)) {
		if (!offset) {
			offset = 0;
		}
		time = RegExp.$1 != null ? RegExp.$1.trim() : undefined;
	}

	if (time && /^(\d{1,2}):(\d{1,2})(?:\:(\d{1,2})(?:\.(\d+))?)?$/i.exec(time)) {
		hour = parseInt(RegExp.$1);
		minute = parseInt(RegExp.$2);
		second = parseInt(RegExp.$3 || 0);
		fraction = parseInt((RegExp.$4 || 0).toString().substr(0, 3));
	} else if (time && /^(\d{1,2})(?:\:(\d{1,2}))?\s*(AM|PM)$/i.exec(time)) {
		hour = parseInt(RegExp.$1);
		minute = parseInt(RegExp.$2 || 0);
		const ampm = RegExp.$3.toLowerCase();

		if (ampm === 'am' && hour === 12) {
			hour = 0;
		} else if (ampm === 'pm' && hour !== 12) {
			hour += 12;
		}
	} else if (time) {
		return null;
	}

	// console.log 'OUT', year, month, day, hour, minute, second, fraction

	if (year) {
		const timestamp = Date.UTC(year, month - 1, day, hour, minute, second, fraction);

		if (isNaN(timestamp)) return null;

		if (offset != null) {
			return new Date(timestamp - offset);
		} else if (timezone && timezone !== 'UTC') {
			return _deps_moment_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]
				.tz(`${year}-${dd(month)}-${dd(day)}T${dd(hour)}:${dd(minute)}:${dd(second)}.${dd(fraction, 3)}`, timezone)
				.toDate();
		} else {
			return new Date(timestamp);
		}
	}

	return null;
}

function parseTime(value, timezone) {
	if (!timezone) timezone = defaultTimeZone;
	if (value instanceof Date) value = (0,_deps_moment_mjs__WEBPACK_IMPORTED_MODULE_0__["default"])(value).tz(timezone).format('HH:mm:ss.SSS');
	if (typeof value !== 'string') return null;
	value = value.trim();

	let hour = 0;
	let minute = 0;
	let second = 0;
	let fraction = 0;

	if (value && /^(\d{1,2}):(\d{1,2})(?:\:(\d{1,2})(?:\.(\d{1,3}))?)?$/i.exec(value)) {
		hour = parseInt(RegExp.$1);
		minute = parseInt(RegExp.$2);
		second = parseInt(RegExp.$3 || 0);
		fraction = parseInt(RegExp.$4 || 0);
	} else if (/^(\d{1,2})(?:\:(\d{1,2}))?\s*(AM|PM)$/i.exec(value)) {
		hour = parseInt(RegExp.$1);
		minute = parseInt(RegExp.$2 || 0);
		const ampm = RegExp.$3.toLowerCase();

		if ((ampm === 'am' || ampm === 'pm') && hour > 12) {
			return null;
		}

		if (ampm === 'am' && hour === 12) {
			hour = 0;
		} else if (ampm === 'pm' && hour !== 12) {
			hour += 12;
		}
	} else {
		// try to parse value as a date
		value = parseDate(value, timezone);
		if (value) {
			return parseTime(value, timezone);
		}
		return null;
	}

	if (hour >= 24) return null;
	if (minute >= 60) return null;
	if (second >= 60) return null;
	if (fraction >= 1000) return null;

	return fraction + second * 1000 + minute * 60 * 1000 + hour * 60 * 60 * 1000;
}

function timeToString(number) {
	if ('number' !== typeof number) return null;
	if (number >= 86400000) return null;

	const dd = (val, digs = 2) => `${'0'.repeat(digs - String(val).length)}${val}`;

	const hour = Math.floor(number / 3600000);

	number = number % 3600000;

	const minute = Math.floor(number / 60000);

	number = number % 60000;

	const second = Math.floor(number / 1000);
	const fraction = number % 1000;

	let txt = `${dd(hour)}`;

	txt += `:${dd(minute)}`;
	if (second || fraction) txt += `:${dd(second)}`;
	if (fraction) txt += `.${dd(fraction, 3)}`;

	return txt;
}


/***/ }),

/***/ "./lib/helpers/debug.mjs":
/*!*******************************!*\
  !*** ./lib/helpers/debug.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-env node */
/* eslint-disable global-require */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (typeof window !== 'undefined' ? window.debug : require('de' + 'bug')); // This hack prevents Browserify to bundle debug


/***/ }),

/***/ "./lib/helpers/errors.mjs":
/*!********************************!*\
  !*** ./lib/helpers/errors.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ValidationError: () => (/* binding */ ValidationError)
/* harmony export */ });
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");


class ValidationError extends Error {
	constructor(message, code, options) {
		super(ValidationError.l(message, code, options));
		this.name = 'ValidationError';
		this.code = code;

		if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);
	}

	static l(message, code, options) {
		if (!code) {
			return message;
		}
		options = options || {};
		options.defaultValue = message;

		return _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_0__.I18n.l(`validations:${code}`, options);
	}
}


/***/ }),

/***/ "./lib/helpers/events.mjs":
/*!********************************!*\
  !*** ./lib/helpers/events.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EventEmitter: () => (/* binding */ EventEmitter)
/* harmony export */ });
class EventEmitter {
	constructor() {
		this._events = {};
	}

	on(name, handler) {
		if (!this._events[name]) this._events[name] = new Set();

		this._events[name].add(handler);
	}

	once(name, handler) {
		const temp = (...args) => {
			this.removeListener(name, temp);
			handler.apply(this, args);
		};

		this.on(name, temp);
	}

	emit(name, ...args) {
		if (!this._events[name]) return;

		for (const handler of this._events[name]) {
			handler.apply(this, args);
		}
	}

	removeListener(name, handler) {
		if (!this._events[name]) return;

		this._events[name].delete(handler);
	}
}


/***/ }),

/***/ "./lib/helpers/i18n.mjs":
/*!******************************!*\
  !*** ./lib/helpers/i18n.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18n: () => (/* binding */ I18n)
/* harmony export */ });
/* harmony import */ var _locale_en_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../locale/en.mjs */ "./lib/locale/en.mjs");
/* harmony import */ var _locale_cs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../locale/cs.mjs */ "./lib/locale/cs.mjs");
/* harmony import */ var _locale_validations_en_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../locale/validations.en.mjs */ "./lib/locale/validations.en.mjs");
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/i18next.min.js");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");






class I18n {
	static get i18next() {
		if (i18next__WEBPACK_IMPORTED_MODULE_3__ && !i18next__WEBPACK_IMPORTED_MODULE_3__.isInitialized) {
			this.init();
		}

		return i18next__WEBPACK_IMPORTED_MODULE_3__;
	}

	static get globalParams() {
		if (!I18n.GLOBAL_PARAMS) {
			I18n.GLOBAL_PARAMS = {};
		}

		return I18n.GLOBAL_PARAMS;
	}

	static init(language) {
		if (i18next__WEBPACK_IMPORTED_MODULE_3__ && i18next__WEBPACK_IMPORTED_MODULE_3__.isInitialized) {
			return;
		}

		const resources = {
			en: {
				forman: _locale_en_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
				validations: _locale_validations_en_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
			},
			cs: {
				forman: _locale_cs_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
				validations: _locale_validations_en_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
			},
		};

		if (i18next__WEBPACK_IMPORTED_MODULE_3__) {
			i18next__WEBPACK_IMPORTED_MODULE_3__.init({
				lng: language || 'en',
				debug: _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].config && _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].config.env === 'test',
				resources,
				defaultNS: 'forman',
			});
		}
	}

	static l(key, options, noEscape) {
		options = Object.assign({}, this.globalParams, options || {});
		const m = key.match(/^{{!(.+?)}}$/);

		key = (m && m[1]) || key;

		if (noEscape) {
			options.escapeValue = false;
			options.interpolation = { escapeValue: false };
		}

		if (this.i18next && this.i18next.t) {
			return this.i18next.t(key, options);
		}

		return key;
	}

	static addDictionary(language, dictionary) {
		this.addNamespace(language, 'forman', dictionary);
	}

	static addNamespace(language, namespace, dictionary) {
		this.i18next.addResourceBundle(language, namespace, dictionary);
	}

	static addGlobalParam(key, value) {
		this.globalParams[key] = value;
	}

	static changeLanguage(language) {
		this.i18next.changeLanguage(language, () => {
			// TODO reload forman texts
		});
	}
}


/***/ }),

/***/ "./lib/helpers/iml.mjs":
/*!*****************************!*\
  !*** ./lib/helpers/iml.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IML_CATEGORIES: () => (/* binding */ IML_CATEGORIES),
/* harmony export */   SPACER: () => (/* binding */ SPACER),
/* harmony export */   astToDOM: () => (/* binding */ astToDOM),
/* harmony export */   createPill: () => (/* binding */ createPill),
/* harmony export */   domToAST: () => (/* binding */ domToAST),
/* harmony export */   getIMLCategory: () => (/* binding */ getIMLCategory),
/* harmony export */   resolveFullDOM: () => (/* binding */ resolveFullDOM)
/* harmony export */ });
/* unused harmony export IML_CATEGORY */
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _debug_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./debug.mjs */ "./lib/helpers/debug.mjs");



const debug = _debug_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] ? (0,_debug_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])('imt:coder') : null;

const SPACER = debug && debug.enabled ? '\u2022' : '\u200B'; // invisible: \u200B, bullet: \u2022

function getSource(source, name) {
	if (!source) return null;
	const tmp = IML._splitVariable(name);
	const sourceKey = Object.keys(source).find((item) => tmp.join('') === IML._splitVariable(item).join(''));

	if (!sourceKey) return null;
	return source[sourceKey];
}

function has(object, name) {
	if (!object) return false;
	return Object.prototype.hasOwnProperty.call(object, name);
}

function clonePill(pill) {
	if (!pill) {
		return pill;
	}

	const result = pill.cloneNode(true);

	result._pill = pill._pill;
	result._type = pill._type;
	result.sample = pill.sample;

	return result;
}

function textToImlType(node) {
	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isNumber)(node.value)) {
		node.type = 'number';
		node.value = parseFloat(node.value);
	} else {
		node.type = 'string';
	}

	return node;
}

const IML_CATEGORIES = ['variables', 'functions', 'operators', 'keywords'];
// wannabe enum
const IML_CATEGORY = {
	VARIABLES: 'variables',
	FUNCTIONS: 'functions',
	OPERATORS: 'operators',
	KEYWORDS: 'keywords',
};

function getIMLCategory(category, imlItems) {
	category = category.toUpperCase();
	const imlCategory = imlItems && imlItems.find((x) => x.category.toUpperCase() === category);

	if (imlCategory) {
		if (!window.IML[category]) {
			return imlCategory.items;
		}

		return { ...window.IML[category], ...imlCategory.items };
	}

	return window.IML[category];
}

function createPill(type, name, additional, options, imlItems) {
	const customVariable = /^var.(:?\S+)\.(:?\S+)/.exec(name);

	if (customVariable) {
		if (customVariable[1] === 'input') {
			type = 'scenario_input';
		} else {
			type = customVariable[1] + '_variable';
		}

		name = customVariable[2];
	}

	const types = `${type}s`;

	const customCategory = imlItems && imlItems.find((x) => x.category === types);
	const isCustomVar = customCategory && !IML_CATEGORIES.some((y) => y === types);
	const isCustomFn = !isCustomVar && types === IML_CATEGORY.FUNCTIONS && customCategory?.items?.hasOwnProperty(name);

	const elm = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-pill');

	elm.classList.add(type);
	elm.setAttribute('name', name);

	let label = name;

	switch (name) {
		case '&': {
			label = 'and';
			break;
		}
		case '|': {
			label = 'or';
			break;
		}
		case '%': {
			label = 'mod';
			break;
		}
	}

	const defaults = getIMLCategory(type.toUpperCase() + 'S', imlItems);
	const source = has(defaults, name) ? defaults[name] : null;

	if (isCustomVar && source?.label) {
		label = source.label;
	}

	elm.textContent = label;

	if (isCustomVar) {
		const customType = type.endsWith('_variable') ? type.split('_')[0] : type.split('_')[1];

		elm._pill = source;
		elm.setAttribute('custom-variable', `var.${customType}.${name}`);
		elm.setAttribute('custom-variable_type', type);
		elm.classList.add('custom-variable');
		const imlItem = imlItems.find((x) => x.category === `${type}s`);

		elm.style.color = imlItem.color;
		elm.style.backgroundColor = imlItem.backgroundColor;

		if (source?.isSystem) {
			elm.setAttribute('custom-iml_system', true);
			if (source.help) {
				elm.setAttribute('custom-variable_help', source.help);
			}
		}

		if (source?.value || typeof source?.value === 'boolean') {
			elm.setAttribute('custom-variable_value', source.value);
		}
	} else if (isCustomFn) {
		if (!source?.isSystem) {
			elm.setAttribute('custom-iml_system', false);
		}
	}

	if (source) {
		elm.setAttribute('type', source.type);
		elm.setAttribute('group', source.group);
		if (source.label) elm.setAttribute('label', source.label);
	} else {
		const additionalSource = getSource(additional, name) ?? null;

		// TODO: Copy/paste from old scripts, refactor to get module from metadata
		const getModule = (name) => {
			if (window['Inspector']?.instance?._surface?.find && window['Surface']?.Module) {
				const res = /^(\d+)\.(.*)$/.exec(name);

				if (res) {
					const id = parseInt(/^(\d+)\.(.*)$/.exec(name)[1]);
					const knownModule = window['Inspector'].instance._surface
						.find(window['Surface'].Module)
						.filter((item) => item.id === id)[0];

					return knownModule;
				}
			}
		};

		if (additionalSource) {
			elm.style.color = additionalSource._pill.theme.determineForegroundColor();
			elm.style.backgroundColor = additionalSource._pill.theme.toHex();
			elm._pill = additionalSource._pill;
			elm._type = additionalSource._type;
		} else {
			const knownModule = getModule(name);

			if (knownModule) {
				elm.classList.add('unknown');
				elm.style.color = knownModule.theme.toHex();
				elm.style.backgroundColor = 'transparent';
				if (options?.firstUnknown) {
					elm.style.setProperty('--pill-color', knownModule.theme.determineForegroundColor());
					elm.style.setProperty('--pill-backgroundColor', knownModule.theme.toHex());
					elm.classList.add('first-unknown');
				}
				elm.style.boxShadow = `inset 0px 0px 0px 1px ${knownModule.theme.toHex()}`;
			} else {
				elm.classList.add('unknown');
			}
		}
	}

	if (type === 'function') {
		elm.classList.add('first');
		if (source) {
			let argsLength = source?.value?.length || 0;

			if (source.custom) {
				elm.classList.add('custom-function');
				if (source.args?.includes && source.args.includes(',')) {
					argsLength = source.args.split(',').length;
				}
				elm.setAttribute('function-arguments', source.args.replaceAll(',', ';'));
				if (source.description) {
					elm.setAttribute('description', source.description);
				}
			}
			elm.setAttribute('arguments', argsLength);
		}
	}

	return elm;
}

/**
 * Creates AST into HTML DOM.
 *
 * @param ast AST.
 * @param variables Collection of custom variables.
 * @param functions Collection of custom functions.
 * @param incode Private indicator, should not be set from outside.
 */

function astToDOM(ast, variables, functions, incode = false, domCache = null, imlItems = null) {
	const dom = [];
	let containsText = false;

	const showIDs = imt?.config?.showIDs;
	const getVariableText = (reference, pathName) => {
		let result = '';

		try {
			if (!reference || !pathName || !reference.includes(pathName)) {
				return result;
			}

			const prefix = reference.substring(0, reference.indexOf(pathName));
			const path = reference.substring(reference.indexOf(pathName));
			const pathSegments = path.split('.');

			let current = prefix;

			pathSegments.forEach((segment) => {
				if (!!current && current.charAt(current.length - 1) !== '.') {
					current += '.';
				}
				current += segment;

				const pillName = variables && variables[current]?._pill?.name;

				if (pillName) {
					result += (!!result ? '.' : '') + pillName;
				}
			});
		} catch (error) {
			console.error(error);
			result = null;
		}

		return result;
	};

	const render = (ast) => {
		let quotes = false;

		if (incode && containsText && ast.length === 1 && (ast[0].value === '' || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isNumber)(ast[0].value))) {
			quotes = true;
			dom.push(document.createTextNode('"'));
		}

		for (const item of ast) {
			switch (item.type) {
				case 'variable': {
					const variable = createPill(
						'variable',
						item.name,
						variables,
						{
							path: item.path,
						},
						imlItems,
					);

					// Items with path are variables containing one or more property acessors (e.g. `variable[prop]`)
					if (item.path) {
						variable.classList.add('compound');

						let variableReference = '';
						let hasFirstUnknown = false;

						for (let i = 0; i < item.path.length; i++) {
							if (item.path[i].type === 'variable') {
								variableReference += item.path[i].name;
								let elm;

								if (!variable._pill) {
									elm = createPill(
										'variable',
										variableReference,
										variables,
										{ firstUnknown: !hasFirstUnknown },
										imlItems,
									);
									elm.classList.add('compound');
									if (!hasFirstUnknown && elm.classList.contains('unknown')) {
										hasFirstUnknown = true;
									}
								} else {
									elm = clonePill(variable);
								}

								elm.setAttribute('name', item.path[i].name);
								elm.textContent =
									getVariableText(variableReference, item.path[i].name) ||
									(variables && variables[variableReference]?._pill?.name) ||
									item.path[i].name;
								if (i === 0) {
									elm.classList.add('first');
									if (!elm.getAttribute('prefix') && variable._pill) {
										const pill = variable._pill;

										elm.setAttribute('prefix', showIDs && pill.node ? `${pill.node.id}. ` : '');
									} else if (showIDs) {
										const segments = item.path && item.path[0]?.name?.split('.');

										if (segments && !isNaN(segments[0])) {
											elm.setAttribute('prefix', `${segments[0]}. `);
										}
									}
								}
								if (i + 1 === item.path.length) elm.classList.add('last');
								dom.push(elm);
							} else if (item.path[i].type === 'property') {
								variableReference += '[].';
								dom.push(...astToDOM(item.path[i], variables, functions, true, domCache, imlItems));
								if (i + 1 === item.path.length) {
									// This is a direct reference to an array item, add ending bracket manually
									const elm = clonePill(variable);

									elm.removeAttribute('name');
									elm.textContent = ']';
									elm.classList.add('last');
									dom.push(elm);
								}
							}
						}
					} else {
						if (domCache && domCache[item.name]) {
							dom.push(clonePill(domCache[item.name]));
						} else {
							dom.push(variable);
						}
					}

					break;
				}

				case 'function':
					dom.push(createPill('function', item.name, functions, null, imlItems));

					for (let i = 0; i < item.arguments.length; i++) {
						const expr = item.arguments[i];

						if (i > 0) {
							dom.push((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-pill.function.separator ;'));
						}

						dom.push(...astToDOM(expr, variables, functions, true, domCache, imlItems));
					}

					dom.push((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-pill.function.last )'));
					break;

				case 'operator':
					if (!(containsText && item.name === '+')) {
						// ignore + operators in expressions with strings
						dom.push(createPill('operator', item.name, null, null, imlItems));
					}
					break;

				case 'number':
					dom.push(document.createTextNode(item.value.toString()));
					break;

				case 'text':
				case 'string':
					dom.push(document.createTextNode(item.value));
					break;

				case 'keyword':
					dom.push(createPill('keyword', item.name, null, null, imlItems));
					break;
			}
		}

		if (quotes) dom.push(document.createTextNode('"'));
	};

	const exp = [];
	let index = 0;

	while (ast[index]) {
		if (incode) {
			if (ast[index].type === 'operator' && ast[index].name !== '+') {
				render(exp); // render operand side
				render([ast[index]]); // render operator

				// reset
				exp.splice(0, exp.length);
				containsText = false;

				index++;
				continue;
			} else if (ast[index].type === 'string') {
				containsText = true;
			}
		}

		exp.push(ast[index]);
		index++;
	}

	if (exp.length) {
		render(exp);
	}

	return dom;
}

/**
 * Fine-tunes an IML layer.
 *
 * @param {array} layer IML array.
 * @param {boolean} isExpression Truthy when layer is argument of a function or property of a compound variable.
 */

function finalizeASTLayer(layer, isExpression, keepUnwantedOperators = false) {
	// TODO: Validate if it works as expected
	if (!layer.length) return layer;

	// find operators and convert text operands to number, otherwise remove them because they're useless
	let index = 0;

	while (index < layer.length) {
		if (layer[index].type === 'operator') {
			if (!keepUnwantedOperators) {
				if (index === 0 && layer[index].name !== '!') {
					// useless operator on the begining of the layer
					layer.shift();
					continue;
				} else if (index === layer.length - 1) {
					// useless operator on the end of the layer
					layer.pop();
					break;
				} else if (layer[index + 1].type === 'operator' && layer[index + 1].name !== '!') {
					// operator next to operator
					layer.splice(index, 1);
					continue;
				}
			}

			if (!isExpression) {
				if (layer[index - 1]?.type === 'text') {
					textToImlType(layer[index - 1]);
				}

				if (layer[index + 1]?.type === 'text') {
					textToImlType(layer[index + 1]);
				}
			}
		}

		index++;
	}

	if (isExpression && layer.length > 1) {
		let containsNonOperatedString = false;

		if (layer[0].type === 'string' && layer[layer.length - 1].type === 'string') {
			if (layer[0].value.charAt(0) === '"' && layer[layer.length - 1].value.slice(-1) === '"') {
				// remove quotes
				layer[0].value = layer[0].value.slice(1);
				layer[layer.length - 1].value = layer[layer.length - 1].value.slice(0, -1);

				if (layer[0].value === '') {
					layer.shift();
				}
				if (layer[layer.length - 1].value === '') {
					layer.pop();
				}
			}
		}

		let index = 0;

		while (index < layer.length) {
			if (
				layer[index].type === 'string' &&
				layer[index - 1]?.type !== 'operator' &&
				layer[index + 1]?.type !== 'operator'
			) {
				containsNonOperatedString = true;
				break;
			}

			index++;
		}

		if (containsNonOperatedString) {
			// if layer contains string that is not operated with, we must move operations to brackets
			index = 1; // there is no chance of operator on index 0, se we can start from 1
			while (index < layer.length) {
				if (layer[index].type === 'operator') {
					let subindex = index;
					const operation = IML.Array();

					operation.push(layer[subindex - 1]);

					while (layer[subindex]?.type === 'operator') {
						operation.push(layer[subindex]);
						operation.push(layer[subindex + 1]);
						subindex += 2;
					}

					// replace nodes with brackets
					layer.splice(index - 1, operation.length, {
						type: 'function',
						name: '', // brackets
						arguments: [operation],
					});
				}

				index++;
			}
		}
	}

	if (isExpression && layer.length > 1) {
		let index = 0;

		while (index < layer.length) {
			// if text node lay exactly next to the variable, add operator between them
			if (layer[index].type === 'string') {
				if (['variable', 'function', 'keyword'].includes(layer[index - 1]?.type)) {
					layer.splice(index++, 0, {
						type: 'operator',
						name: '+',
					});
				}

				if (['variable', 'function', 'keyword'].includes(layer[index + 1]?.type)) {
					layer.splice(index++ + 1, 0, {
						type: 'operator',
						name: '+',
					});
				}
			} else if (['variable', 'function', 'keyword'].includes(layer[index].type)) {
				if (['variable', 'function', 'keyword'].includes(layer[index - 1]?.type)) {
					layer.splice(index++, 0, {
						type: 'operator',
						name: '+',
					});
				}
			} else if (layer[index].type === 'operator' && layer[index].name === '!') {
				if (['variable', 'function', 'keyword'].includes(layer[index - 1]?.type)) {
					layer.splice(index++, 0, {
						type: 'operator',
						name: '&',
					});
				}
			}

			index++;
		}
	}

	return layer;
}

function domToAST(nodes, keepUnwantedOperators = false) {
	if (!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isIterable)(nodes)) nodes = [nodes];

	let layer = IML.Array(undefined, undefined, { keepUnwantedOperators });
	const stack = [];

	function getParent(type) {
		if (!stack.length) return null;

		const opposite = type === 'function' ? 'variable' : 'function';
		let tempLayer = stack[stack.length - 1];
		let parent = tempLayer[tempLayer.length - 1];

		if (parent.type === type) return parent;

		// There's an unclosed function or compound variable, auto-close it
		while (parent && parent.type !== type) {
			parent._ref.setAttribute('invalid', `Unclosed ${opposite}.`);
			finalizeASTLayer(layer, true, keepUnwantedOperators);
			layer = stack.pop();

			// Move one level up
			if (!stack.length) return null;
			tempLayer = stack[stack.length - 1];
			parent = tempLayer[tempLayer.length - 1];
		}

		return parent;
	}

	for (const node of nodes) {
		if (node.nodeType === 3) {
			// Text node
			let text = node.textContent.replace(new RegExp(SPACER, 'g'), '');

			if (text.length) {
				const hasVariableSibling = () => {
					if (node.nextSibling) {
						if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node.nextSibling, 'imt-pill.variable') && !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node.nextSibling, 'imt-pill.variable.compound')) {
							return true;
						}
					}
					if (node.previousSibling) {
						if (
							(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node.previousSibling, 'imt-pill.variable') &&
							!(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node.previousSibling, 'imt-pill.variable.compound')
						) {
							return true;
						}
					}

					return false;
				};

				if (stack.length) {
					// We're in arguments

					// TODO We can't trim as it removes expected spaces and breaks compatibility with formula
					// text = text.trim();
					if (text.trim().length > 0) {
						// if pill has sibling convert to text
						if (isNaN(text) || hasVariableSibling()) {
							if (/^\"([\s\S]*)\"$/.exec(text)) {
								if (RegExp.$1 === '' || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isNumber)(RegExp.$1)) {
									text = RegExp.$1;
								}
							}
							layer.push({
								type: 'string',
								value: text,
							});
						} else {
							layer.push({
								type: 'number',
								value: Number(text),
							});
						}
					}
				} else {
					// We're in the root
					layer.push({
						type: 'text',
						value: text,
					});
				}
			}
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.function.first')) {
			node.removeAttribute('invalid');

			const func = {
				_ref: node,
				type: 'function',
				name: node.getAttribute('name'),
				arguments: [],
			};

			layer.push(func);
			stack.push(layer);
			layer = IML.Array();
			layer.type = 'argument';
			func.arguments.push(layer);
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.function.last')) {
			const parent = getParent('function');

			if (!parent) continue; // We have not parent to add this node to, ignore

			finalizeASTLayer(layer, true, keepUnwantedOperators);

			parent._ref = undefined;
			layer = stack.pop();
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.function.separator')) {
			const parent = getParent('function');

			if (!parent) continue; // We have not parent to add this node to, ignore

			finalizeASTLayer(layer, true, keepUnwantedOperators);

			layer = IML.Array();
			parent.arguments.push(layer);
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.variable.compound.first')) {
			node.removeAttribute('invalid');

			const variable = {
				_ref: node,
				type: 'variable',
				path: [
					{
						type: 'variable',
						name: node.getAttribute('name'),
					},
				],
			};

			layer.push(variable);
			stack.push(layer);
			layer = IML.Array();
			layer.type = 'property';
			variable.path.push(layer);
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.variable.compound.last')) {
			const parent = getParent('variable');

			if (!parent) continue; // We have not parent to add this node to, ignore

			finalizeASTLayer(layer, true, keepUnwantedOperators);

			const name = node.getAttribute('name');

			if (name) {
				parent.path.push({
					type: 'variable',
					name,
				});
			}

			parent._ref = undefined;
			layer = stack.pop();
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.variable.compound')) {
			const parent = getParent('variable');

			if (!parent) continue; // We have not parent to add this node to, ignore

			finalizeASTLayer(layer, true, keepUnwantedOperators);

			parent.path.push({
				type: 'variable',
				name: node.getAttribute('name'),
			});

			layer = IML.Array();
			layer.type = 'property';
			parent.path.push(layer);
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.variable')) {
			layer.push({
				type: 'variable',
				name: node.getAttribute('name'),
			});
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.operator')) {
			layer.push({
				type: 'operator',
				name: node.getAttribute('name'),
			});
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.keyword')) {
			layer.push({
				type: 'keyword',
				name: node.getAttribute('name'),
			});
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.custom-variable')) {
			layer.push({
				type: 'variable',
				name: node.getAttribute('custom-variable'),
			});
		}
	}

	finalizeASTLayer(layer, false, keepUnwantedOperators);

	// Finalize unclosed layers
	while (stack.length) {
		layer = stack.pop();
		const last = layer[layer.length - 1];

		if (last.type === 'function') {
			last._ref.setAttribute('invalid', 'Unclosed function.');
		} else {
			last._ref.setAttribute('invalid', 'Unclosed variable.');
		}

		last._ref = undefined;
		finalizeASTLayer(layer, true, keepUnwantedOperators);
	}

	return layer;
}

function lookupFirst(node, selector) {
	let level = 0;

	// The node matches the selector
	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, selector)) return node;

	while (node) {
		node = node.previousSibling;

		if (level === 0 && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, selector)) {
			// First node found
			return node;
		}

		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.last')) {
			level++;
		} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.first')) {
			level--;
		}
	}

	return node;
}

function resolveFullDOM(node, relatedOnly = false) {
	let first;
	const level = [];
	let type;

	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.function')) {
		first = lookupFirst(node, 'imt-pill.function.first');
		type = 'function';
	} else if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.variable.compound')) {
		first = lookupFirst(node, 'imt-pill.variable.compound.first');
		type = 'variable.compound';
	} else {
		// Not a compound type
		return [node];
	}

	if (!first) return [node]; // First node not found, return the input node alone
	node = first;

	const nodes = [node];

	// This is what we use as selector for target closing type.... and also can use it later to close unclosed compounds.
	level.push(`imt-pill.${type}.last`);

	// Create function when dragging from panel
	if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.function')) {
		if (node.closest('.coder-pills')) {
			const attributes = parseInt(node.getAttribute('arguments') || 0);

			for (let i = 1; i < attributes; i++) {
				nodes.push((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-pill.function.separator ;'));
			}

			nodes.push((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-pill.function.last )'));

			return nodes;
		}
	}

	while (node.nextSibling) {
		node = node.nextSibling;
		nodes.push(node);

		if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, 'imt-pill.first')) {
			level.push(`imt-pill.${(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, '.function') ? 'function' : 'variable.compound'}.last`);
			if (relatedOnly) nodes.pop();
		} else if (level.length > 0 && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(node, level[level.length - 1])) {
			level.pop();

			if (level.length === 0) {
				return nodes;
			}

			if (relatedOnly) nodes.pop();
		} else if (relatedOnly && level.length > 1) {
			nodes.pop();
		}
	}

	// Ignore unclosed function or variable

	return nodes;
}


/***/ }),

/***/ "./lib/inputs.mjs":
/*!************************!*\
  !*** ./lib/inputs.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   account: () => (/* reexport safe */ _inputs_account_mjs__WEBPACK_IMPORTED_MODULE_22__.AccountInput),
/* harmony export */   agent: () => (/* reexport safe */ _inputs_agent_mjs__WEBPACK_IMPORTED_MODULE_27__.AgentInput),
/* harmony export */   any: () => (/* reexport safe */ _inputs_any_mjs__WEBPACK_IMPORTED_MODULE_17__.AnyInput),
/* harmony export */   array: () => (/* reexport safe */ _inputs_array_mjs__WEBPACK_IMPORTED_MODULE_37__.ArrayInput),
/* harmony export */   boolean: () => (/* reexport safe */ _inputs_boolean_mjs__WEBPACK_IMPORTED_MODULE_34__.BooleanInput),
/* harmony export */   buffer: () => (/* reexport safe */ _inputs_buffer_mjs__WEBPACK_IMPORTED_MODULE_10__.BufferInput),
/* harmony export */   cert: () => (/* reexport safe */ _inputs_cert_mjs__WEBPACK_IMPORTED_MODULE_45__.CertInput),
/* harmony export */   checkbox: () => (/* reexport safe */ _inputs_checkbox_mjs__WEBPACK_IMPORTED_MODULE_33__.CheckboxInput),
/* harmony export */   collection: () => (/* reexport safe */ _inputs_collection_mjs__WEBPACK_IMPORTED_MODULE_36__.CollectionInput),
/* harmony export */   color: () => (/* reexport safe */ _inputs_color_mjs__WEBPACK_IMPORTED_MODULE_12__.ColorInput),
/* harmony export */   connectedsystem: () => (/* reexport safe */ _inputs_connected_system_mjs__WEBPACK_IMPORTED_MODULE_31__.ConnectedSystemInput),
/* harmony export */   datastore: () => (/* reexport safe */ _inputs_datastore_mjs__WEBPACK_IMPORTED_MODULE_30__.DatastoreInput),
/* harmony export */   date: () => (/* reexport safe */ _inputs_date_mjs__WEBPACK_IMPORTED_MODULE_39__.DateInput),
/* harmony export */   device: () => (/* reexport safe */ _inputs_device_mjs__WEBPACK_IMPORTED_MODULE_24__.DeviceInput),
/* harmony export */   editor: () => (/* reexport safe */ _inputs_editor_mjs__WEBPACK_IMPORTED_MODULE_1__.TextEditorInput),
/* harmony export */   email: () => (/* reexport safe */ _inputs_email_mjs__WEBPACK_IMPORTED_MODULE_2__.EmailInput),
/* harmony export */   file: () => (/* reexport safe */ _inputs_file_mjs__WEBPACK_IMPORTED_MODULE_21__.FileInput),
/* harmony export */   filename: () => (/* reexport safe */ _inputs_filename_mjs__WEBPACK_IMPORTED_MODULE_11__.FilenameInput),
/* harmony export */   filter: () => (/* reexport safe */ _inputs_filter_mjs__WEBPACK_IMPORTED_MODULE_47__.FilterInput),
/* harmony export */   folder: () => (/* reexport safe */ _inputs_folder_mjs__WEBPACK_IMPORTED_MODULE_20__.FolderInput),
/* harmony export */   grecaptcha: () => (/* reexport safe */ _inputs_grecaptcha_mjs__WEBPACK_IMPORTED_MODULE_50__.GRecaptcha),
/* harmony export */   hidden: () => (/* reexport safe */ _inputs_hidden_mjs__WEBPACK_IMPORTED_MODULE_9__.HiddenInput),
/* harmony export */   hook: () => (/* reexport safe */ _inputs_hook_mjs__WEBPACK_IMPORTED_MODULE_23__.HookInput),
/* harmony export */   html: () => (/* reexport safe */ _inputs_html_mjs__WEBPACK_IMPORTED_MODULE_43__.HTML),
/* harmony export */   integer: () => (/* reexport safe */ _inputs_integer_mjs__WEBPACK_IMPORTED_MODULE_6__.IntegerInput),
/* harmony export */   json: () => (/* reexport safe */ _inputs_json_mjs__WEBPACK_IMPORTED_MODULE_8__.JSONInput),
/* harmony export */   keychain: () => (/* reexport safe */ _inputs_keychain_mjs__WEBPACK_IMPORTED_MODULE_29__.KeychainInput),
/* harmony export */   list: () => (/* reexport safe */ _inputs_list_mjs__WEBPACK_IMPORTED_MODULE_49__.ListInput),
/* harmony export */   markdown: () => (/* reexport safe */ _inputs_markdown_mjs__WEBPACK_IMPORTED_MODULE_44__.Markdown),
/* harmony export */   number: () => (/* reexport safe */ _inputs_number_mjs__WEBPACK_IMPORTED_MODULE_5__.NumberInput),
/* harmony export */   password: () => (/* reexport safe */ _inputs_password_mjs__WEBPACK_IMPORTED_MODULE_3__.PasswordInput),
/* harmony export */   path: () => (/* reexport safe */ _inputs_path_mjs__WEBPACK_IMPORTED_MODULE_18__.PathInput),
/* harmony export */   pkey: () => (/* reexport safe */ _inputs_pkey_mjs__WEBPACK_IMPORTED_MODULE_46__.PkeyInput),
/* harmony export */   port: () => (/* reexport safe */ _inputs_port_mjs__WEBPACK_IMPORTED_MODULE_13__.PortInput),
/* harmony export */   radio: () => (/* reexport safe */ _inputs_radio_mjs__WEBPACK_IMPORTED_MODULE_35__.RadioInput),
/* harmony export */   range: () => (/* reexport safe */ _inputs_range_mjs__WEBPACK_IMPORTED_MODULE_41__.RangeInput),
/* harmony export */   scenario: () => (/* reexport safe */ _inputs_scenario_mjs__WEBPACK_IMPORTED_MODULE_32__.ScenarioInput),
/* harmony export */   select: () => (/* reexport safe */ _inputs_select_mjs__WEBPACK_IMPORTED_MODULE_19__.SelectInput),
/* harmony export */   separator: () => (/* reexport safe */ _inputs_separator_mjs__WEBPACK_IMPORTED_MODULE_42__.Separator),
/* harmony export */   sort: () => (/* reexport safe */ _inputs_sort_mjs__WEBPACK_IMPORTED_MODULE_38__.SortInput),
/* harmony export */   text: () => (/* reexport safe */ _inputs_text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput),
/* harmony export */   time: () => (/* reexport safe */ _inputs_time_mjs__WEBPACK_IMPORTED_MODULE_15__.TimeInput),
/* harmony export */   timestamp: () => (/* reexport safe */ _inputs_timestamp_mjs__WEBPACK_IMPORTED_MODULE_14__.TimestampInput),
/* harmony export */   tokens: () => (/* reexport safe */ _inputs_tokens_mjs__WEBPACK_IMPORTED_MODULE_48__.TokensInput),
/* harmony export */   udt: () => (/* reexport safe */ _inputs_udt_mjs__WEBPACK_IMPORTED_MODULE_28__.UdtInput),
/* harmony export */   udtspec: () => (/* reexport safe */ _inputs_udtspec_mjs__WEBPACK_IMPORTED_MODULE_26__.UdtSpecInput),
/* harmony export */   udttype: () => (/* reexport safe */ _inputs_udttype_mjs__WEBPACK_IMPORTED_MODULE_25__.UdtTypeInput),
/* harmony export */   uinteger: () => (/* reexport safe */ _inputs_uinteger_mjs__WEBPACK_IMPORTED_MODULE_7__.UintegerInput),
/* harmony export */   upload: () => (/* reexport safe */ _inputs_upload_mjs__WEBPACK_IMPORTED_MODULE_40__.UploadInput),
/* harmony export */   url: () => (/* reexport safe */ _inputs_url_mjs__WEBPACK_IMPORTED_MODULE_4__.URLInput),
/* harmony export */   uuid: () => (/* reexport safe */ _inputs_uuid_mjs__WEBPACK_IMPORTED_MODULE_16__.UuidInput)
/* harmony export */ });
/* harmony import */ var _inputs_text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inputs/text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _inputs_editor_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inputs/editor.mjs */ "./lib/inputs/editor.mjs");
/* harmony import */ var _inputs_email_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inputs/email.mjs */ "./lib/inputs/email.mjs");
/* harmony import */ var _inputs_password_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inputs/password.mjs */ "./lib/inputs/password.mjs");
/* harmony import */ var _inputs_url_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inputs/url.mjs */ "./lib/inputs/url.mjs");
/* harmony import */ var _inputs_number_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inputs/number.mjs */ "./lib/inputs/number.mjs");
/* harmony import */ var _inputs_integer_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./inputs/integer.mjs */ "./lib/inputs/integer.mjs");
/* harmony import */ var _inputs_uinteger_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./inputs/uinteger.mjs */ "./lib/inputs/uinteger.mjs");
/* harmony import */ var _inputs_json_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./inputs/json.mjs */ "./lib/inputs/json.mjs");
/* harmony import */ var _inputs_hidden_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./inputs/hidden.mjs */ "./lib/inputs/hidden.mjs");
/* harmony import */ var _inputs_buffer_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./inputs/buffer.mjs */ "./lib/inputs/buffer.mjs");
/* harmony import */ var _inputs_filename_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./inputs/filename.mjs */ "./lib/inputs/filename.mjs");
/* harmony import */ var _inputs_color_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./inputs/color.mjs */ "./lib/inputs/color.mjs");
/* harmony import */ var _inputs_port_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./inputs/port.mjs */ "./lib/inputs/port.mjs");
/* harmony import */ var _inputs_timestamp_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./inputs/timestamp.mjs */ "./lib/inputs/timestamp.mjs");
/* harmony import */ var _inputs_time_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./inputs/time.mjs */ "./lib/inputs/time.mjs");
/* harmony import */ var _inputs_uuid_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./inputs/uuid.mjs */ "./lib/inputs/uuid.mjs");
/* harmony import */ var _inputs_any_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./inputs/any.mjs */ "./lib/inputs/any.mjs");
/* harmony import */ var _inputs_path_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./inputs/path.mjs */ "./lib/inputs/path.mjs");
/* harmony import */ var _inputs_select_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./inputs/select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _inputs_folder_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./inputs/folder.mjs */ "./lib/inputs/folder.mjs");
/* harmony import */ var _inputs_file_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./inputs/file.mjs */ "./lib/inputs/file.mjs");
/* harmony import */ var _inputs_account_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./inputs/account.mjs */ "./lib/inputs/account.mjs");
/* harmony import */ var _inputs_hook_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./inputs/hook.mjs */ "./lib/inputs/hook.mjs");
/* harmony import */ var _inputs_device_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./inputs/device.mjs */ "./lib/inputs/device.mjs");
/* harmony import */ var _inputs_udttype_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./inputs/udttype.mjs */ "./lib/inputs/udttype.mjs");
/* harmony import */ var _inputs_udtspec_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./inputs/udtspec.mjs */ "./lib/inputs/udtspec.mjs");
/* harmony import */ var _inputs_agent_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./inputs/agent.mjs */ "./lib/inputs/agent.mjs");
/* harmony import */ var _inputs_udt_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./inputs/udt.mjs */ "./lib/inputs/udt.mjs");
/* harmony import */ var _inputs_keychain_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./inputs/keychain.mjs */ "./lib/inputs/keychain.mjs");
/* harmony import */ var _inputs_datastore_mjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./inputs/datastore.mjs */ "./lib/inputs/datastore.mjs");
/* harmony import */ var _inputs_connected_system_mjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./inputs/connected-system.mjs */ "./lib/inputs/connected-system.mjs");
/* harmony import */ var _inputs_scenario_mjs__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./inputs/scenario.mjs */ "./lib/inputs/scenario.mjs");
/* harmony import */ var _inputs_checkbox_mjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./inputs/checkbox.mjs */ "./lib/inputs/checkbox.mjs");
/* harmony import */ var _inputs_boolean_mjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./inputs/boolean.mjs */ "./lib/inputs/boolean.mjs");
/* harmony import */ var _inputs_radio_mjs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./inputs/radio.mjs */ "./lib/inputs/radio.mjs");
/* harmony import */ var _inputs_collection_mjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./inputs/collection.mjs */ "./lib/inputs/collection.mjs");
/* harmony import */ var _inputs_array_mjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./inputs/array.mjs */ "./lib/inputs/array.mjs");
/* harmony import */ var _inputs_sort_mjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./inputs/sort.mjs */ "./lib/inputs/sort.mjs");
/* harmony import */ var _inputs_date_mjs__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./inputs/date.mjs */ "./lib/inputs/date.mjs");
/* harmony import */ var _inputs_upload_mjs__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./inputs/upload.mjs */ "./lib/inputs/upload.mjs");
/* harmony import */ var _inputs_range_mjs__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./inputs/range.mjs */ "./lib/inputs/range.mjs");
/* harmony import */ var _inputs_separator_mjs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./inputs/separator.mjs */ "./lib/inputs/separator.mjs");
/* harmony import */ var _inputs_html_mjs__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./inputs/html.mjs */ "./lib/inputs/html.mjs");
/* harmony import */ var _inputs_markdown_mjs__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./inputs/markdown.mjs */ "./lib/inputs/markdown.mjs");
/* harmony import */ var _inputs_cert_mjs__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./inputs/cert.mjs */ "./lib/inputs/cert.mjs");
/* harmony import */ var _inputs_pkey_mjs__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./inputs/pkey.mjs */ "./lib/inputs/pkey.mjs");
/* harmony import */ var _inputs_filter_mjs__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./inputs/filter.mjs */ "./lib/inputs/filter.mjs");
/* harmony import */ var _inputs_tokens_mjs__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./inputs/tokens.mjs */ "./lib/inputs/tokens.mjs");
/* harmony import */ var _inputs_list_mjs__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./inputs/list.mjs */ "./lib/inputs/list.mjs");
/* harmony import */ var _inputs_grecaptcha_mjs__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./inputs/grecaptcha.mjs */ "./lib/inputs/grecaptcha.mjs");
// Inputs



























































/***/ }),

/***/ "./lib/inputs/account.mjs":
/*!********************************!*\
  !*** ./lib/inputs/account.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AccountInput: () => (/* binding */ AccountInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _controls_oauth_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controls/oauth.mjs */ "./lib/controls/oauth.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var _controls_connectionManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../controls/connectionManager.mjs */ "./lib/controls/connectionManager.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _account_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./account.scss */ "./lib/inputs/account.scss");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");













const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_9__["default"].config.fields.account;

class AccountInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();

		this.panel = null;
		this._firstCreationMode = false;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return ['scoped', 'connection'];
	}

	get selectedAccount() {
		return this._getAccountById(this.value);
	}

	afterNestedRendered() {
		this._checkScenarioInputValidity();
	}

	extendInstructions(instructions, value, metadata) {
		instructions.options = instructions.options || {};
		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || 'Choose an account';
		instructions.options.default = instructions.required ? 'scoped' : null;
		instructions.options.team = this.getTeamId(instructions);
		if (!instructions.options.team) instructions.grouped = true;
		instructions.options.organization = this.form.meta.organizationId;
		instructions.connectionTypes = (this.getAttribute('type') || '').split(',').map((type) => {
			let scope = instructions.options.scope || this.form.meta.module.config?.scope;

			if (scope && !Array.isArray(scope)) scope = scope[type];

			return {
				type,
				scope: scope || [],
			};
		});

		if (this.form.meta.module.package && !instructions.help) {
			instructions.help = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('hints.account', {
				service: this.form.meta.module.package.label,
				name: this.form.meta.module.package.name.replace(/^app#/, ''),
			});
		}

		const storeQuery = new URLSearchParams();

		if (this.form?.meta?.personalConnections) {
			storeQuery.append('personalConnections', true);
		}

		if (instructions.scenarioInput) {
			storeQuery.append('scenarioInputs', true);
		}

		storeQuery.append('teamId', instructions.options.team);
		storeQuery.append('pg[limit]', config.api.list.limit);
		instructions.connectionTypes.forEach((acc) => {
			storeQuery.append('type', acc.type);
			acc.scope.forEach((scope) => storeQuery.append(acc.type, scope));
		});

		instructions.options.store = `${
			this.form?.options?.personalConnections || (instructions.accountInputPanel && instructions.personalConnections)
				? config.api.list.pdcPath
				: config.api.list.path
		}?${storeQuery}`;
		instructions.theme = instructions.theme || this.form.meta.module?.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_11__.DEFAULT_THEME;

		return instructions;
	}

	_getAccountById(value) {
		let grupped = false;
		let store = [];

		if (this._originalStore?.length) {
			store = this._originalStore;
		} else {
			store = this.options?.store;
			const picker = this.querySelector('imt-picker');

			grupped = picker.hasAttribute('grouped');
		}

		if (store && value) {
			const findAcc = (arr) => {
				if (!arr) {
					return null;
				}

				return arr.find((x) => x[this._instructions.options.value || config.api.list.value] === value);
			};

			if (grupped) {
				let acc = null;

				store.some((x) => {
					acc = findAcc(x.options);

					if (acc) {
						return true;
					}

					return false;
				});

				return acc;
			} else {
				return findAcc(store);
			}
		}

		return null;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	_getRealAccountId(id) {
		if (id?.startsWith && id.startsWith('TAC_')) {
			return +id.replace('TAC_', '');
		}

		return id;
	}

	_checkScenarioInputValidity() {
		if (this.form.options.personalConnections && this.form.meta.module.id) {
			const invalid = !!this._control?.getPickerDisplay()?.querySelector('.scenario-input.no-value');

			if (invalid) {
				this.nestedFieldset?.disable();
			} else {
				this.nestedFieldset?.enable();
			}

			this._runValidators(false);
		}
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker
		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('imt-picker');

		if (typeof value === 'undefined') {
			value = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.resolveDefaultInputValue)(this, instructions.type);
		}

		// SCENARIO INPUTS
		const { imlOptions } = this.form?.meta;
		const enableAccountScenarioInput = this.form.options.dynamicConnections; // this.form.options.personalConnections;
		const isModuleConfigPanel = !!this.form.meta.module.id;
		const isScenarioInputPanel = instructions.accountInputPanel;

		// run once panel - not very safe, temporary fix for celonis, should be improved
		if (!isModuleConfigPanel && !isScenarioInputPanel && this.form?.options?.personalConnections && this.form.meta) {
			this.form.meta.personalConnections = true;
		}

		picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.OPTION_RENDERER, (option, item) => {
			if (item.metadata?.value) {
				option.textContent += ` (${item.metadata.value})`;
			}
			option.setAttribute('data-scoped', item.scoped);
			option.setAttribute('data-connection', item.accountName);

			if (enableAccountScenarioInput && item?.scenarioInput) {
				option.setAttribute('data-scenario-input', true);
				option.setAttribute('data-name', item.name);
				const scenarioInputWrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('div.scenario-input-wrapper.d-flex.justify-content-between');
				const div = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('div.scenario-input ' + item.name);

				const noValueOption = () => {
					option.setAttribute('data-scenario-input-no-value', true);
					div.classList.add('no-value');
					option.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('personalConnections.noValueAssigned');
				};

				if (imlOptions?.buildTimeVariables?.[item.name]) {
					const accId = this._getRealAccountId(imlOptions.buildTimeVariables[item.name]);
					const btv = this._getAccountById(accId);

					if (!btv && !item.connection) {
						noValueOption();
					} else {
						option.setAttribute('data-scoped', btv?.scoped);
						option.setAttribute('data-connection', btv?.accountName || item.connection);
						option.textContent = btv?.name || item.connection;
					}
				} else {
					noValueOption();
				}

				const editBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('button.btn.btn-xs.btn-outline-secondary.scenario-input-edit Edit');

				editBtn.addEventListener('click', async (event) => {
					// event.stopPropagation();
					// this._useScenarioInput(instructions, editBtn, btvEditData)(event);

					const name = editBtn.closest('imt-option').getAttribute('data-name');
					const value = this._getRealAccountId(this.form?.meta?.imlOptions?.buildTimeVariables[name]);

					this._useScenarioInput(instructions, picker, { name, value })(event);
				});

				option.insertBefore(scenarioInputWrapper, option.firstChild);
				scenarioInputWrapper.append(div);
				scenarioInputWrapper.append(editBtn);
			}
		});

		if (enableAccountScenarioInput || isScenarioInputPanel) {
			picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.DISPLAY_CHANGED, (elm, value) => {
				const selected = picker.querySelector('imt-option[selected]');

				// TODO: add util fn
				if (selected?.getAttribute('data-scenario-input') === 'true') {
					elm.innerHTML = '';
					const div = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('div.scenario-input ' + selected?.getAttribute('data-name'));

					if (selected?.getAttribute('data-scenario-input-no-value') === 'true') {
						div.classList.add('no-value');
					}

					elm.append(div);
				}
			});

			picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.OPTIONS_NORMALIZED, (options) => {
				const scenarioIo =
					Array.isArray(imlOptions?.variables) &&
					imlOptions.variables.find((x) => x.category === 'scenario_inputs')?.items;
				// account:github,github2 => [github, github2]
				const accountTypes = this.inputType?.split(':')[1]?.split(',') || [];
				const accountInputs =
					scenarioIo &&
					Object.values(scenarioIo).filter(
						(x) => x.type && x.type.startsWith('account') && accountTypes.includes(x.type.split(':')[1]),
					);

				if (Array.isArray(options?.store) && accountInputs) {
					accountInputs.forEach((x) => {
						let name = x?.name;

						if (name?.match) {
							const pattern = /{{var\.input\.(\w+)}}/;
							const match = name.match(pattern);

							if (match) {
								name = match[1];
							}
						}

						options.store.push({
							id: x.name,
							name,
							scenarioInput: true,
						});
					});
				}

				const groupsConfig = [
					{
						label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.teamConnections'),
						filter: (x) => 'teamId' in x && !x.scenarioInput,
						defaultGroup: true,
					},
				];

				if (
					(!isModuleConfigPanel && window['Inspector']?.instance?.scenario?.scheduling?.type === 'on-demand') ||
					isScenarioInputPanel
				) {
					groupsConfig.push({
						label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.personalConnections'),
						filter: (x) => !('teamId' in x) && !x.scenarioInput,
					});
				}
				if (isModuleConfigPanel && !isScenarioInputPanel) {
					groupsConfig.push({ label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.dynamicConnections'), filter: (x) => x.scenarioInput });
				}
				this._originalStore = options?.store?.slice ? options.store.slice() : [];
				options.store = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.getGroupedStoreItems)(options.store, groupsConfig);
				picker.setAttribute('grouped', '');

				return options;
			});

			this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.SCENARIO_INPUT_CREATED, () => {
				this.querySelector('.create-connection')?.remove();
				this._firstCreationMode = false;
			});

			this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.SCENARIO_INPUT_EDITED, async (event) => {
				const { account, inputName, originalInputName } = event.detail;

				if (inputName !== originalInputName) {
					delete this.form.meta.imlOptions.buildTimeVariables[originalInputName];
				}

				this.form.meta.imlOptions.buildTimeVariables[inputName] = !isNaN(+account) ? 'TAC_' + account : account;

				const editedOption = picker.querySelector(`imt-option[data-name="${originalInputName}"]`);
				const acc = this._getAccountById(account);
				const value = `{{var.input.${inputName}}}`;

				picker.querySelector('.display .scenario-input').innerText = inputName;
				editedOption.setAttribute('data-name', inputName);
				editedOption.querySelector('.scenario-input').innerText = inputName;
				editedOption.value = value;

				editedOption.childNodes[1].textContent = acc?.name;

				this.querySelector('imt-nested').remove();
				this._control.value = value;

				const displayInput = picker.querySelector('.display > .scenario-input.no-value');

				if (displayInput) {
					displayInput.classList?.remove('no-value');
					editedOption?.querySelector('.scenario-input.no-value')?.classList?.remove('no-value');
				}
			});
		}

		// Extend of the connection
		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PICKER.CHANGE, this._extendHandler(instructions));

		// Do not select default option if the connection doesn't have sufficient scope
		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PICKER.BEFORE_SELECT_OPTION, (event) => {
			const option = event.detail.option;

			if (option && option.getAttribute('data-scoped') === 'false') {
				event.preventDefault();
			}
		});

		// Build the component
		metadata.build = Object.assign(metadata.build || {}, { picker });

		if (enableAccountScenarioInput && this.form.meta.module.id) {
			this.registerCustomValidator(() => {
				// check if current item is no-value
				const invalid = Array.from(this.querySelectorAll(`imt-option[data-scenario-input-no-value=true]`) || []).some(
					(x) => x?.value === this.value,
				);

				if (invalid) {
					this.untouched = false;

					return {
						message: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.builtTimeValueMissing'),
						valid: false,
					};
				}

				return {
					valid: true,
				};
			});
		}

		await super._build(instructions, value, metadata);

		const buttons = this.showAddBtn
			? [
					{
						label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.add'),
						action: this._createHandler(instructions),
					},
			  ]
			: [];

		if (enableAccountScenarioInput && this.form.meta.module.id && !instructions.accountInputPanel) {
			buttons.push({
				label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('personalConnections.useAsScenarioInput'),
				collapsible: true,
				action: this._useScenarioInput(instructions, picker),
			});
		}

		const findPackage = (accType) => {
			if (this.form.meta?.appRepositoryPackages && accType && accType.indexOf(':') > -1) {
				let app;

				Object.values(this.form.meta.appRepositoryPackages).forEach((a) => {
					Object.values(a).forEach((appVersion) => {
						if (
							appVersion &&
							appVersion?.dependencies?.accounts?.includes &&
							appVersion.dependencies.accounts.includes(accType.split(':')[1])
						) {
							app = appVersion;
						}
					});
				});

				return app;
			}

			return null;
		};

		const appData = {
			name: this.form.meta.module?.package?.name,
			theme: instructions.theme,
		};

		if (!appData.name) {
			const pkg = findPackage(instructions.type);

			if (pkg) {
				appData.name = pkg.name;
				appData.theme = pkg.theme?.toHex();
			}
		}

		// Build composed input
		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.composedInputBuilder)({
				picker,
				config,
				name: appData.name || instructions.name,
				theme: appData.theme,
				buttons,
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		this._firstCreationMode = !this.hasStoreItems && this._control._loaded;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation

			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.createAddFirstAccountBtn)(
					appData.theme,
					_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.createConnection'),
					this._createHandler(instructions),
					_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.account.creating'),
				),
			);
		}

		this._checkScenarioInputValidity();
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.instructions?.redirect) {
				window.location.href = config.api.instructions.redirect;
				return;
			}

			this.panel = (
				await _controls_connectionManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].getCreateConnectionPanel(
					instructions,
					event.target,
					!!this.form?.meta?.personalConnections,
				)
			).handler;

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				try {
					const connection = event.detail.data;
					const connectionId = connection[0];
					let optionGrupLabel = undefined;
					let defaultGroup = false;

					if (
						(this.form?.options?.personalConnections || instructions.accountInputPanel) &&
						this.querySelector('imt-picker')?.hasAttribute('grouped')
					) {
						if (connectionId && connectionId.startsWith && connectionId.startsWith('PAC_')) {
							optionGrupLabel = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.personalConnections');
						} else {
							optionGrupLabel = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.teamConnections');
							defaultGroup = true;
						}
					}

					const connectionData = {
						id: connectionId,
						name: connection[1],
						connection: connection[2],
						accountName: connection[2],
						metadata: connection[3],
						scoped: true,
					};

					_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.ACCOUNT_CREATED, {
						detail: connectionData,
						cancelable: true,
						bubbles: true,
					});

					await this.addOption(connectionData, optionGrupLabel, defaultGroup);

					if (this._firstCreationMode) {
						this.querySelector('.create-connection')?.remove();
						this._firstCreationMode = false;

						const wrapper = this.querySelector('.input-group');

						if (wrapper) {
							wrapper.style.justifyContent = 'auto';
						}
					}
				} catch (ex) {
					throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.failedAdd'));
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
						connectionCreationBtn.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.createConnection');
					}
				}
			});

			this.panel.open();
		};
	}

	_useScenarioInput(instructions, attachToSibling, editData) {
		return async (event) => {
			this.panel = (
				await this._getScenarioInputPanel(
					instructions,
					attachToSibling?.nextSibling?.querySelector('button') || attachToSibling,
					editData,
				)
			).handler;

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				try {
					const result = event.detail.value;
					const variable = `{{var.input.${result.inputName}}}`;
					const isEdit = !!editData;

					result.inputType = result.connection ? `account:${result.connection}` : instructions.type;
					result.connectionTypes = result.connection
						? instructions.connectionTypes?.filter((x) => x.type === result.connection)
						: instructions.connectionTypes;

					if (!this.form.meta.imlOptions.buildTimeVariables) {
						this.form.meta.imlOptions.buildTimeVariables = {};
					}

					if (!isEdit) {
						this.form.meta.imlOptions.buildTimeVariables[result.inputName] = result.account;

						await this.addOption(
							{
								id: variable,
								name: result.inputName,
								connection: result.label,
								scenarioInput: true,
								scoped: result.scoped,
							},
							_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.dynamicConnections'),
						);

						this.value = variable;

						_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.SCENARIO_INPUT_CREATED, {
							bubbles: true,
							detail: result,
						});
					} else {
						result.originalInputName = editData.name;

						_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.SCENARIO_INPUT_EDITED, {
							bubbles: true,
							detail: result,
						});
					}
				} catch (ex) {
					throw new Error(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.failedAdd'));
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
						connectionCreationBtn.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.createConnection');
					}
				}
			});

			this.panel.open();
		};
	}

	async _getScenarioInputPanel(instructions, target, editData) {
		const panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_7__["default"](target);

		const pascalCaseName = (name) => {
			if (!name) {
				return name;
			}
			let result = '';

			name.split(' ').forEach((x) => {
				result += x.charAt(0).toUpperCase() + x.slice(1);
			});

			return result;
		};

		const isOnDemand = window['Inspector']?.instance?.scenario?.scheduling?.type === 'on-demand';

		await panel.build(
			{
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l(!editData ? 'accounts.createInput' : 'accounts.updateInput'),
				help: (target && target.closest('imt-panel')?.help) || this.form?.help || config.kb.path,
				config: [
					{
						label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.scenarioInput'),
						name: 'inputName',
						required: true,
						default: editData
							? editData.name
							: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('{{!accounts.scenarioInputDefault}}', {
									service: pascalCaseName(this.form?.module?.package?.label),
							  }),
						validate: {
							pattern: {
								regexp: '^_*[a-zA-Z][0-9a-zA-Z_]*$',
								label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.scenarioInputPatternHelp'),
							},
						},
					},
					{
						name: 'account',
						type: instructions.type,
						required: true,
						label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.bulidTimeValue'),
						help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.buildTimeValueHelp'),
						theme: instructions.theme.toHex ? instructions.theme.toHex() : instructions.theme,
						accountInputPanel: true,
						personalConnections: this.form?.options?.personalConnections,
						default: editData ? editData.value : undefined,
						nested: [
							{
								name: 'asDefault',
								type: 'boolean',
								label: 'Use as default value',
								help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.buildTimeAsDefaultHint'),
								default: true,
								reversedNested: true,
								required: true,
								nested: [
									{
										name: 'defaultAccount',
										type: instructions.type,
										required: !isOnDemand,
										label: 'Default value',
										help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.defaultValueHint'),
										theme: instructions.theme.toHex ? instructions.theme.toHex() : instructions.theme,
										personalConnections: this.form?.options?.personalConnections,
									},
								],
							},
						],
					},
				],
				buttons: [
					{
						label: '{{!common.close}}',
						action: 'close',
					},
					{
						label: '{{!common.save}}',
						action: 'handler',
						handler: (e) => {
							if (!panel.form.validate()) return;

							const accOption = panel.form.querySelector(
								`imt-input-account imt-picker imt-option[value='${JSON.stringify(panel.form.value.account)}']`,
							);
							const value = {
								...panel.form.value,
								...{
									connection: accOption?.getAttribute('data-connection'),
									scoped: accOption?.getAttribute('data-scoped'),
									label: accOption?.textContent,
								},
							};

							if (
								_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(panel, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].FORM.SUBMITTED, {
									detail: {
										value,
										panel,
										form: panel.form,
									},
									cancelable: true,
								})
							) {
								panel.panel.close();
							}
						},
					},
				],
			},
			{ personalConnections: this.form?.options?.personalConnections },
		);

		const forceDefaultValue = () => {
			const f = panel.panel.querySelector('imt-forman');
			const asDefault = f.querySelector('[name="asDefault"]');
			const { account } = f.value;

			if (asDefault) {
				if (account?.startsWith && account.startsWith('PAC_')) {
					asDefault.value = false;
					asDefault.disabled = true;

					setTimeout(() => {
						f.querySelector('[name="defaultAccount"]').disabled = false;
					}, 0);
				} else {
					asDefault.disabled = false;
				}
			}
		};

		panel.panel.addEventListener('input', () => {
			forceDefaultValue();
		});
		forceDefaultValue();

		if (!editData) {
			const inputName = panel.form.querySelector('imt-input-text[name=inputName]');

			inputName.registerCustomValidator((value) => {
				const btvs = panel?.form?.meta?.imlOptions?.buildTimeVariables;

				if (btvs && btvs[value]) {
					return {
						valid: false,
						message: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('accounts.scenarioInputNameInUse'),
					};
				}

				return {
					valid: true,
				};
			});
		}

		return {
			handler: panel,
			dom: panel.panel,
		};
	}

	// TODO move logic to the connection manager
	_extendHandler(instructions) {
		return (event) => {
			if (this.panel) return;

			if (!event.detail?.element) return;

			const option = event.detail.element;

			if (option.getAttribute('data-scoped') === 'true') return;

			let connectionId = parseInt(option.value);
			let isPersonalConnection = false;
			let scenarioVariable = null;

			// Skip placeholders
			if (Number.isNaN(connectionId) && !option.value.startsWith('PAC_')) {
				const pattern = /{{var\.input\.(\w+)}}/;
				const match = option?.value?.match(pattern);

				if (match && match[1]) {
					scenarioVariable = match[1];
					connectionId = this.form.meta.imlOptions?.buildTimeVariables?.[scenarioVariable];

					if (connectionId?.startsWith) {
						if (connectionId.startsWith('PAC_')) {
							isPersonalConnection = true;
						} else if (connectionId.startsWith('TAC_')) {
							connectionId = +connectionId.replace('TAC_', '');
						}
					}
				} else {
					return;
				}
			}

			if (option?.value?.startsWith && option.value.startsWith('PAC_')) {
				// Personal connection - PAC_...
				connectionId = option.value;
				isPersonalConnection = true;
			}

			this.panel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('imt-panel');
			this.panel.width = 350;
			this.panel.position = ['right', 'left'];
			this.panel.relative = event.target;

			const title = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('h1');

			title.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.account.extend');
			this.panel.header.append(title);
			this.panel.header.addCloseButton();
			this.panel.theme = instructions?.theme;

			const content = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('p');

			content.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.account.extendhelp');
			this.panel.body.append(content);

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.EXTEND_PANEL_CREATED, { bubbles: true, detail: this.panel });

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				event.preventDefault();
			});

			const scope =
				instructions.connectionTypes.filter(
					(connection) => connection.type === option.getAttribute('data-connection'),
				)[0]?.scope || [];

			const continueButton = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.create)('button.btn.btn-sm.btn-primary.ml-auto');

			this.panel._extendScopeData = {
				scope,
				connectionId,
				isPersonalConnection,
				option,
				scenarioVariable,
			};

			continueButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.continue');

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].addNamedNativeListener(continueButton, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.EXTEND_CLICK, 'click', async (event) => {
				this.panel.setLoading(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.accounts.extending'));

				try {
					await _controls_oauth_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].extend.call(this.panel, connectionId, scope, isPersonalConnection);

					this.panel.close();
					this.panel = null;

					option.setAttribute('data-scoped', 'true');
					this.value = connectionId;

					if (scenarioVariable) {
						_eventManager_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].ACCOUNT.SCENARIO_INPUT_EXTENDED, {
							detail: {
								name: scenarioVariable,
								scope,
							},
							cancelable: true,
						});
					}
				} catch (ex) {
					this.panel.warn(ex);
				}
			});

			this.panel.footer.append(continueButton);
			this.panel.open();

			event.preventDefault();
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.registerCustomElement)('imt-input-account', AccountInput);


/***/ }),

/***/ "./lib/inputs/agent.mjs":
/*!******************************!*\
  !*** ./lib/inputs/agent.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AgentInput: () => (/* binding */ AgentInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");




class AgentInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	get stateDataProps() {
		return [];
	}

	extendInstructions(instructions, value, metadata) {
		instructions.agentType = this.getAttribute('type');

		const storeQuery = new URLSearchParams();

		storeQuery.append('teamId', this.getTeamId(instructions));
		storeQuery.append('service', instructions.agentType);
		storeQuery.append('pg[limit]', _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.agent.list.limit);

		instructions.options = {
			store: `${_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.agent.list.path}?${storeQuery}`,
			value: 'id',
			label: 'name',
			wrapper: 'agents',
			team: this.getTeamId(instructions),
		};
		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	async _build(instructions, value, metadata) {
		if (typeof value === 'undefined') {
			value = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveDefaultInputValue)(this, instructions.type);
		}

		await super._build(instructions, value, metadata);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-agent', AgentInput);


/***/ }),

/***/ "./lib/inputs/any.mjs":
/*!****************************!*\
  !*** ./lib/inputs/any.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnyInput: () => (/* binding */ AnyInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class AnyInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-any', AnyInput);


/***/ }),

/***/ "./lib/inputs/array.mjs":
/*!******************************!*\
  !*** ./lib/inputs/array.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrayInput: () => (/* binding */ ArrayInput),
/* harmony export */   ArrayInputItem: () => (/* binding */ ArrayInputItem)
/* harmony export */ });
/* unused harmony export ArrayInputButton */
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");








const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.array;
const DRAG_SCROLL_TRESHOLD = 20;

class ArrayInputButton extends HTMLElement {
	/**
	 * Build an array item.
	 *
	 * @param {Array} instructions Array of instructions.
	 * @param {*} value Item value.
	 * @param {Object} metadata Item metadata.
	 * @param {Boolean} primitive Whether the array item is of primitive type or not.
	 * @param {Number} index Ordinal number of the item. Starts with 0.
	 */

	async build(instructions) {
		const add = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)(`button[type="button"] ${(instructions.labels || {}).add || 'Add item'}`);

		add.addEventListener('click', async () => {
			const parent = this.closest('[type="array"]');

			if (!parent || parent.hasAttribute('readonly') || parent.hasAttribute('disabled')) return;

			await parent.closest('[type="array"]').addItem(undefined, {}, true, false, true);
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, 'input', { bubbles: true });
		});
		this.appendChild(add);
	}
}

class ArrayInputItem extends HTMLElement {
	get disabled() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.isAttribute)(this, 'disabled');
	}

	set disabled(value) {
		if (value === this.disabled) return;

		if (value) {
			this.setAttribute('disabled', '');
		} else {
			this.removeAttribute('disabled');
		}

		this.querySelectorAll('[field]').forEach((field) => {
			field.disabled = value;
		});
	}

	/**
	 * Build an array item.
	 *
	 * @param {Array} instructions Array of instructions.
	 * @param {*} value Item value.
	 * @param {Object} metadata Item metadata.
	 * @param {Boolean} primitive Whether the array item is of primitive type or not.
	 * @param {Number} index Ordinal number of the item. Starts with 0.
	 * @param {String} label Array item label.
	 */

	async build(instructions, value, metadata, primitive, index, label) {
		const array = this.closest('[type="array"]');
		let timeout = null;

		this.setAttribute('type', 'array-item');
		if (primitive) {
			// Build primitive input
			const itemInstructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.clone)(instructions);
			const restore = itemInstructions.type === 'collection' ? metadata.restore : metadata.restore?.value;
			const itemMetadata = restore ? Object.assign({}, metadata, { restore }) : metadata;

			metadata.restore = metadata.restore?.value;
			this._primitive = primitive;

			this._input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.createInput)(itemInstructions.type || 'text');
			itemInstructions.label = `${label} ${index + 1}`;
			this.appendChild(this._input);
			await this._input.build(itemInstructions, value, itemMetadata);
		} else {
			// Build collection for complex input

			const restore = metadata.restore && { nested: metadata.restore };
			const itemMetadata = restore ? Object.assign({}, metadata, { restore }) : metadata;

			this._input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.createInput)('collection');
			this.appendChild(this._input);
			await this._input.build(
				{
					type: 'collection',
					label: `${label} ${index + 1}`,
					spec: instructions,
					mappable: false, // TODO It would be great to allow mapping of a single array items but it requires a different restore structure that is not compatible with the current one.
				},
				value,
				itemMetadata,
			);
		}

		this._registerArrayItemControls(array);

		this.addEventListener('input', (event) => {
			if (timeout) {
				clearTimeout(timeout);
			}

			timeout = setTimeout(() => (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.showNestedFieldsets)(array, null, null, false, array._nested), config.nestedTimeout);
		});
	}

	get index() {
		let index = 0;
		let node = this.previousSibling;

		while (node) {
			if (node instanceof ArrayInputItem) index++;
			node = node.previousSibling;
		}
		return index;
	}

	get path() {
		const parent = this.parentNode && this.parentNode.closest('[type="array"]');

		if (!parent) return `[${this.index}]`;
		return `${parent.path}[${this.index}]`;
	}

	get value() {
		return this._input.value;
	}

	getState() {
		// Return state only for array not for UDT
		if (this.nodeName !== 'IMT-INPUT-ARRAY-ITEM') return;

		const input = this.closest('[type="array"]');
		const collection = this._primitive && input._instructions.spec.type === 'collection';

		// Get state of single items if primitive array or get collection state but use only collection's nested
		return this._primitive && !collection ? (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.getStateObject)(this.childNodes) : this._input.getState()?.nested;
	}

	/**
	 * @deprecated
	 * @return {{}|*}
	 * @private
	 */
	_getDomainDefaultValues() {
		const parent = this.parentNode?.closest('[type="array"]');

		if (!parent) return {};

		try {
			return parent.form.domains.getDefaults(parent.fieldset.domain)?.values[parent.name][this.index];
		} catch (ex) {
			return {};
		}
	}

	_registerArrayItemControls(array) {
		const remover = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)('button.form-remover[type="button"]');
		const dragDropBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)('div.form-drag-drop');

		dragDropBtn.setAttribute('draggable', true);
		this._input._actions.appendChild(remover);
		remover.addEventListener('click', async () => {
			this._input.form.values.delete(this._input.fieldset.domain, this.path);
			await this.closest('[type="array"]').removeItem(this);
		});

		this._input._actions.appendChild(dragDropBtn);
	}
}

class ArrayInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input {
	constructor() {
		super();
		this._itemSelector = 'imt-input-array-item';
		this._itemLabel = 'Item';
		this._buttonSelector = 'imt-input-array-button';
		this._removeItemsOnRemove = true;
	}

	get hasModeSwitch() {
		return this.mappable;
	}

	get value() {
		if (this.mode === 'map') {
			return _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.replace(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(this._coder.value), 'keyword', 'erase', 'erasearray'));
		}

		const values = [];

		for (const child of this._list.childNodes) {
			if (child.getAttribute('type', 'array-item')) {
				values.push(child.value);
			}
		}
		return values;
	}

	set value(value) {
		if (this.mode === 'map') {
			if ('string' === typeof value) {
				this._coder.value = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.stringify(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.replace(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_5__.IML.parse(value), 'keyword', 'erasearray', 'erase'));
			} else {
				this._coder.value = value;
			}
			return;
		}

		if (!Array.isArray(value)) return;

		let valueChanged = false;
		const currentValue = this.value;

		if (Array.isArray(currentValue)) {
			valueChanged = this.value.length !== value.length || !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.deepEqual)(value, this.value);
		}

		// Erase current items and recreate them only when the value has changed
		if (valueChanged) {
			this._list.innerHTML = '';

			for (const val of value) {
				this.addItem(val);
			}
		}
	}

	async addItem(value, metadata = {}, validate = true, skipAnimation = false, ensureEmpty = false) {
		const element = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)(this._itemSelector);
		const index = this._list.childNodes.length;

		// Ugly hack that prevents bidirectional binding default value to be set
		if (ensureEmpty && typeof value === 'undefined') {
			this.form.values.delete(this.fieldset.domain, `${this.path}[${index}].value`);
		}

		this._list.appendChild(element);
		await element.build(this._instructions.spec, value, metadata, this._primitive, index, this._itemLabel);

		if (validate) this._runValidators();

		if (!skipAnimation) {
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.animateElementHeight)(element, { timing: 200, timingFunction: 'ease-in', emitEvent: true }).then(() => {
				element.style.transition = '';
			});
		}

		await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.showNestedFieldsets)(this, null, null, false, this._nested);
		return element;
	}

	/**
	 * Delete cache of each input of all items below removed item.
	 *
	 * @param {ArrayInputItem} item Item that is going to be removed.
	 */

	removeCache(item) {
		let node = item.nextSibling;

		while (node) {
			const inputCollection = node.querySelector('imt-input-collection');

			if (node) {
				for (const input of node.childNodes) {
					if (input instanceof _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input) {
						input._cache.delete('path');
					}
				}
			}
			// if it's UDT or Complex Array, iterate over the fieldsets and remove cache of each input
			if (inputCollection) {
				inputCollection._cache.delete('path');
				const fieldsets = node.querySelectorAll('imt-fieldset');

				for (const fieldset of fieldsets) {
					fieldset._cache.delete('path');
					for (const input of fieldset.childNodes) {
						input._cache.delete('path');
					}
				}
			}

			node = node.nextSibling;
		}
	}

	async removeItem(item) {
		this.removeCache(item);

		if (!item || item.parentNode !== this._list) return;
		await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.animateElementHeight)(item, { hide: true, timing: 200, timingFunction: 'ease-out', emitEvent: true });
		this._list.removeChild(item);

		if (this._removeItemsOnRemove) {
			this._list.childNodes.forEach((x, i) => {
				x.querySelector('label > span').innerHTML = `${this._itemLabel} ${i + 1}`;
			});
		}

		await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.showNestedFieldsets)(this, null, null, false, this._nested);
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this, 'input', { bubbles: true });
		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.dispatchResizeDebounced)(this);
	}

	/**
	 * Moves array item to a new position
	 * @param {ArrayInputItem} item Item that should be moved
	 * @param {number} newPosition Index this item should be moved to
	 */

	moveItem(item, newPosition) {
		const itemPosition = Array.from(this._list.childNodes).indexOf(item);

		this._list.insertBefore(item, this._list.childNodes[itemPosition > newPosition ? newPosition : newPosition + 1]);
	}

	getItem(index) {
		return this._list.childNodes[index];
	}

	hideItems() {
		if (this._itemsHidden) return;
		this._itemsHidden = true;

		for (const item of this._list.querySelectorAll(':scope > [type="array-item"] > .form-group')) {
			item._wasCollapsed = item.collapsed;
			item.collapsed = true;
		}
	}

	showItems(restore = false) {
		if (!this._itemsHidden) return;
		this._itemsHidden = false;

		for (const item of this._list.querySelectorAll(':scope > [type="array-item"] > .form-group')) {
			item.collapsed = restore ? item._wasCollapsed : false;
		}
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this.setAttribute('type', 'array');

		if (typeof instructions.spec === 'string') {
			// Spec is RPC, resolve
			const form = this.closest('imt-forman');
			const context = form ? form.meta.imlContext : {};

			instructions.spec = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(instructions.spec, { context });
		}

		if (!instructions.spec || (Array.isArray(instructions.spec) && instructions.spec.length === 0)) {
			// Default spec for array = text primitive
			this._emptySpec = instructions.spec?.length === 0;
			instructions.spec = { type: 'text' };
		}

		if (!Array.isArray(instructions.spec)) {
			// If spec is an object, this is a primitive array
			this._primitive = true;
			instructions.spec.name = 'value';
			if (typeof instructions.spec.label !== 'undefined') this._itemLabel = instructions.spec.label;
		}

		this._list = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)('div.list');
		this.appendChild(this._list);

		const addButton = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)(this._buttonSelector);

		this.appendChild(addButton);
		await addButton.build(instructions);

		if (instructions.rpc) {
			const rpcButton = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)(`button.array-rpc-button[type="button"] ${instructions.rpc.label}`);

			rpcButton.addEventListener('click', this._rpcSearchHandler(rpcButton, instructions.rpc, true));
			addButton.append(rpcButton);
		}

		if (instructions.nested) {
			this._nested = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.create)('imt-nested');
			this.appendChild(this._nested);
		}

		if (Array.isArray(value)) {
			const itemsRestore = metadata?.restore?.items;

			for (const [i, val] of value.entries()) {
				await this.addItem(
					val,
					{
						context: metadata.context,
						restore: Array.isArray(itemsRestore) && itemsRestore[i],
					},
					false,
					true,
				);
			}
		} else if ('undefined' !== typeof value) {
			// Backward compatibility with Formula, it automatically expects if the value is not an array it's a mapped value
			if (!metadata.restore) metadata.restore = {};
			metadata.restore.mode = 'map';
		}

		this.id = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.uuid)();
		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.showNestedFieldsets)(this, metadata?.fieldset?.value, metadata?.fieldset?.metadata);
	}

	isInternalChangeEvent(event) {
		if (this.mode === 'map') {
			return false;
		}

		if (!event.target) {
			return true;
		}

		if (event.target === this || ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.is)(event.target, 'imt-input-array-button') && event.target.parentElement === this)) {
			return false;
		}

		return true;
	}

	validate() {
		this.untouched = false;
		if (this._list?.childNodes) {
			this._list.childNodes.forEach((item) => {
				item._input.untouched = false;
				if (item._input.validate) {
					item._input.validate();
				}
			});
		}

		this._runValidators();

		return this.valid;
	}

	/**
	 * Callback that will be called when user drops an item on this array. The callback might be called more than once, so anything you do here should be fast and idempotent.
	 * @param {HTMLElement} draggedItem Item that user dropped to this array
	 */
	onDrop(draggedItem) {
		// Can be inherited and modified
	}

	/**
	 * Performs value validation for type defined by this input field.
	 *
	 * @param {*} value Value to validate, same as getting `this.value`.
	 * @param {Array} problems Array of strings containing all generated validation problems.
	 * @returns {boolean} Method can return false to indicate this field is no valid without providing a reason. Otherwise, return value is ignored.
	 */

	_validate(value, problems) {
		if (this._instructions.required && !value.length) {
			problems.push('Field must not be empty.');
		}

		super._validate(value, problems);

		// Ignore rest of validation in map mode
		if (this.mode === 'map') return;

		this.empty = !this._list.querySelector(':scope > [type="array-item"] > *:not(.empty)');

		if (this._list.querySelector(':scope > [type="array-item"] > *[invalid]')) {
			return false; // False means display validation problem, but with no additional message
		}
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		// Not possible to resolve instructions from DOM because array can be empty

		function normalizeInstructions(instructions) {
			function normalize(instructions) {
				if (!instructions) return;

				// Remove all RPC strings
				if (typeof instructions === 'string') return;

				if (Array.isArray(instructions)) {
					return instructions.map(normalizeInstructions);
				}

				instructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.clone)(instructions, true);

				// Clean up auxiliary properties
				[
					'help',
					'coder',
					'buttons',
					'on',
					'advanced',
					'editable',
					'default',
					'prefix',
					'erasable',
					'showErasePill',
					'mappable',
					'multiline',
				].forEach((prop) => {
					if (typeof instructions[prop] !== 'undefined') delete instructions[prop];
				});

				if (instructions.required === false) delete instructions.required;

				if (typeof instructions.nested === 'string') delete instructions.nested;

				// Select options should be always present
				if (typeof instructions.options === 'string') {
					instructions.options = [];
					instructions.dynamic = true;
				}
				if (typeof instructions.options?.store === 'string') {
					instructions.options.store = [];
					instructions.dynamic = true;
				}

				if (instructions.options?.nested) delete instructions.options.nested; // Formula doesn't store nested global nested at all

				if (instructions.spec) {
					instructions.spec = normalizeInstructions(instructions.spec);
				}

				return instructions;
			}

			const out = normalize(instructions);

			return Array.isArray(out) ? out.filter((input) => input) : out;
		}

		if (this._instructions.spec) {
			if (this._emptySpec) {
				instructions.spec = [];
			} else {
				// let spec = this._list.childNodes[0]?.childNodes[0]?.getValidateInstructions()?.spec;
				const spec = normalizeInstructions(this._instructions.spec);

				if (spec) instructions.spec = spec;
			}
		}

		return instructions;
	}

	getState() {
		const state = super.getState();

		if (this.value.length) {
			const items = Array.from(this._list.childNodes).map((item) => item.getState());

			if (items.length) state.items = items;
		}

		return state;
	}

	getPreview() {
		if (this.mode !== 'map') {
			const fields = Array.from(this._list.childNodes);

			return fields
				.slice(0, 50) // take only a small slice to avoid computing unnecessarily long strings
				.filter((f) => f._input instanceof _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input)
				.map((f) => {
					if (f._input._instructions.type === 'text' && !(f._input._coder || f._input._control)?.containsIML) {
						return `"${f._input.getPreview()}"`;
					} else if (f._input._instructions.type === 'collection') {
						return `{ ${f._input.getPreview()} }`;
					}

					return f._input.getPreview();
				})
				.join(', ');
		}
		return super.getPreview();
	}

	_setDisabled(disabled) {
		this._list.querySelectorAll(':scope > [type="array-item"]').forEach((item) => {
			item.disabled = disabled;
		});
	}

	_toCoderValue(value) {
		if (this._primitive && Array.isArray(value)) {
			return value.join(',');
		}

		super._toCoderValue(value);
	}

	_fromCoderValue(value) {
		if (this._primitive && typeof value === 'string') {
			if (value.trim() === '') {
				return [];
			}

			return value.split(',').filter((val) => val.trim() !== '');
		}

		super._fromCoderValue(value);
	}
}

function registerDragAndDrop() {
	// internal order of array elements for keeping track of current order of elements
	// contains objects with references to HTMLElement and Y axis bounds of that element (for resolving over which element is cursor currently hovering - this cannot be done by DOM API because of animations that would interfere)
	let draggingOrder = [];
	// offset on Y axis of item user is currently draging
	let previewElement = null;
	let array = null;
	let draggedElement = null;
	let draggedElementRect = null;
	let indexBeforeDragging = null;
	let scrollContainer = null;
	let originalScrollPosition = 0;

	const handleMouseMovementScroll = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.debounce)((e, arrayHoverItem) => {
		if (!array) return;

		const containerRect = scrollContainer.getBoundingClientRect();
		const listContainer = array._list.getBoundingClientRect();
		let scrollDirection = null;

		// mouse should be in the array container, with some treshold
		if (listContainer.top - DRAG_SCROLL_TRESHOLD <= e.y && listContainer.bottom + DRAG_SCROLL_TRESHOLD >= e.y) {
			if (containerRect.top + DRAG_SCROLL_TRESHOLD >= e.y) {
				scrollDirection = 'top';
			} else if (containerRect.bottom - DRAG_SCROLL_TRESHOLD <= e.y) {
				scrollDirection = 'bottom';
			}
		}

		// there's nothing to scroll - mouse is not on the edge of the scroll container
		if (!scrollDirection) {
			return;
		}

		// only scroll when the mouse moves in a correct direction using the e.movementY delta
		if (scrollDirection === 'top' && e.movementY < 0) {
			scrollContainer.scrollTop -= arrayHoverItem.clientHeight / 4;
		} else if (scrollDirection === 'bottom' && e.movementY > 0) {
			scrollContainer.scrollTop += arrayHoverItem.clientHeight / 4;
		}

		if (
			(scrollDirection === 'top' && scrollContainer.scrollTop > listContainer.top) ||
			(scrollDirection === 'bottom' && scrollContainer.scrollTop < listContainer.bottom)
		) {
			requestAnimationFrame(() => handleMouseMovementScroll(e, arrayHoverItem));
		}
	});

	document.addEventListener('mousedown', (e) => {
		const dndButton = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.is)(e.target, 'div.form-drag-drop') ? e.target : e.target.closest('div.form-drag-drop');

		if (e.button === 0 && dndButton) {
			e.stopPropagation();
			draggedElement = dndButton.closest('[type="array-item"]');
			array = draggedElement.closest('[type="array"]');
			array.classList.add('forman-dragging-array');
			indexBeforeDragging = draggedElement.index;
			scrollContainer = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.getScrollParent)(array, 'y');
			const itemRect = draggedElement.getBoundingClientRect();
			const arrayRect = array.getBoundingClientRect();

			// generate preview element, remove all controls from it and attach it to array
			// controls are removed to avoid unnecessary forman field initializations (they are not displayed anyway)
			array.hideItems();
			draggedElement?._input?._control?.panelController?.close();

			if (arrayRect.top < 0) {
				array.scrollIntoView();
			}
			originalScrollPosition = scrollContainer.scrollTop;
			dispatchEvent(new CustomEvent(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.RESIZE, { bubbles: true }));

			previewElement = draggedElement.cloneNode(true);
			previewElement.querySelectorAll('.form-control, imt-fieldset').forEach((el) => el.remove());
			previewElement.classList.add('forman-array-dragging-preview');
			// top/left offsets the preview element relative to mouse cursor (so that the cursor is placed the same as on the original element)
			previewElement.style.top = `${itemRect.top - e.clientY}px`;
			previewElement.style.left = `${itemRect.left - e.clientX + 18}px`;
			previewElement.style.width = `${itemRect.width}px`;
			// position is changed via transform as the top/left is used for offsetting the preview element
			previewElement.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0)`;
			array.appendChild(previewElement);

			draggedElement.classList.add('drop-zone');
			draggedElementRect = draggedElement.getBoundingClientRect();
			document.documentElement.classList.add('forman-dragging');

			// prevent click event on the item input so that the form-control doesn't expand when user drops an item on drop zone
			// this listener has to be removed when invoked
			draggedElement.querySelector(':scope > .form-group')?.addEventListener(
				'click',
				(e) => {
					e.preventDefault();
					e.stopPropagation();
				},
				{ once: true, capture: true },
			);

			draggingOrder = Array.from(array._list.childNodes).map((n) => {
				const rect = n.getBoundingClientRect();

				n.style.zIndex = '10';

				return {
					element: n,
					top: rect.top,
					bottom: rect.bottom,
					rect: rect,
				};
			});
			e.preventDefault();
		}
	});

	document.addEventListener('mouseup', (e) => {
		if (e.button === 0 && array && draggedElement) {
			array.moveItem(
				draggedElement,
				draggingOrder.findIndex((el) => el.element === draggedElement),
			);
			dragDropCleanup();
			e.preventDefault();
		}
	});

	document.addEventListener('mousemove', (e) => {
		if (array && draggedElement && e.button === 0) {
			const arrayHoverItem = findArrayHoverItem(e);

			previewElement.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0)`;
			if (arrayHoverItem && arrayHoverItem !== draggedElement) {
				const draggedIndex = draggingOrder.findIndex((item) => item.element === draggedElement);
				const itemIndex = draggingOrder.findIndex((item) => item.element === arrayHoverItem);
				const minIndex = Math.min(itemIndex, indexBeforeDragging);
				const maxIndex = Math.max(itemIndex, indexBeforeDragging);
				let draggedOffset = 0;

				// change order of the elements by moving the dragged item to the position of the item user is hovering over
				draggingOrder.splice(itemIndex, 0, draggingOrder.splice(draggedIndex, 1)[0]);

				for (let i = 0; i < draggingOrder.length; i++) {
					const item = draggingOrder[i];

					if (item.element !== draggedElement) {
						// reset transform to get rect without Y coords offset
						let offset = 0;

						if (i >= minIndex && i <= maxIndex) {
							if (maxIndex > indexBeforeDragging) {
								offset = -draggedElementRect.height;
								draggedOffset += item.rect.height;
							} else {
								offset = draggedElementRect.height;
								draggedOffset -= item.rect.height;
							}
						}

						item.element.style.transform = `translateY(${offset}px)`;
						item.top = item.rect.top + offset;
						item.bottom = item.rect.bottom + offset;
					}
				}

				draggedElement.style.transform = `translateY(${draggedOffset}px)`;
				draggingOrder[itemIndex].top = draggedElementRect.top + draggedOffset;
				draggingOrder[itemIndex].bottom = draggedElementRect.bottom + draggedOffset;
			}

			if (arrayHoverItem) {
				handleMouseMovementScroll(e, arrayHoverItem);
			}
		}
	});

	document.addEventListener('keydown', (e) => {
		if (e.key === 'Escape' && array && draggedElement) {
			dragDropCleanup();
			e.preventDefault();
			e.stopImmediatePropagation();
			e.stopPropagation();
		}
	});

	function findArrayHoverItem(e) {
		if (!array) return {};

		const arrayRect = array.getBoundingClientRect();
		let arrayHoverItem = null;
		const scrollDelta = originalScrollPosition - scrollContainer.scrollTop;

		if (arrayRect.top <= e.clientY && arrayRect.bottom >= e.clientY) {
			arrayHoverItem = draggingOrder.find(
				(item) => item.top + scrollDelta <= e.clientY && item.bottom + scrollDelta >= e.clientY,
			)?.element;
		} else if (arrayRect.top < e.clientY) {
			arrayHoverItem = draggingOrder[draggingOrder.length - 1].element;
		} else if (arrayRect.bottom > e.clientY) {
			arrayHoverItem = draggingOrder[0].element;
		}

		return arrayHoverItem;
	}

	function dragDropCleanup() {
		draggingOrder.forEach((item) => {
			item.element.style.transform = '';
			item.element.style.zIndex = '';
			item.element.style.transition = 'none';
		});
		previewElement.remove();
		draggedElement.classList.remove('drop-zone');
		document.documentElement.classList.remove('forman-dragging');
		array.showItems(true);
		array.classList.remove('forman-dragging-array');
		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.dispatchResizeDebounced)(array);
		array.onDrop(draggedElement);

		previewElement = null;
		array = null;
		draggedElement = null;
		indexBeforeDragging = null;
		draggedElementRect = null;
		scrollContainer = null;
		originalScrollPosition = 0;

		requestAnimationFrame(() => {
			draggingOrder.forEach((item) => {
				item.element.style.transition = '';
			});
			draggingOrder = [];
		});
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.registerCustomElement)('imt-input-array-button', ArrayInputButton);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.registerCustomElement)('imt-input-array-item', ArrayInputItem);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.registerCustomElement)('imt-input-array', ArrayInput);
registerDragAndDrop();


/***/ }),

/***/ "./lib/inputs/boolean.mjs":
/*!********************************!*\
  !*** ./lib/inputs/boolean.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BooleanInput: () => (/* binding */ BooleanInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");





const STATE_LABEL = ['Yes', 'No', 'Empty'];
const STATE_VALUE = [true, false, undefined];

class BooleanInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get reversedNested() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(this, 'reversedNested');
	}

	set reversedNested(value) {
		if (value === this.hasAttribute('reversedNested')) return;

		if (value) {
			this.setAttribute('reversedNested', '');
		} else {
			this.removeAttribute('reversedNested');
		}
	}

	get value() {
		if (this.mode === 'map') return this._coder.value;

		for (let i = 0; i < (this._controls || []).length; i++) {
			if (this._controls[i].checked) return STATE_VALUE[i];
		}

		return undefined;
	}

	set value(value) {
		if (this.mode === 'map') {
			this._coder.value = value;
			return;
		}

		if (value === undefined) {
			value = null;
		}

		if (this.value === value) return;

		if (value === true || value === 'true') {
			this._controls[0].checked = true;
		} else if (value === false || value === 'false' || this._instructions.required) {
			this._controls[1].checked = true;
		} else {
			this._controls[2].checked = true;
		}

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this._wrapper, 'input', { bubbles: true });
	}

	get hasModeSwitch() {
		return this.mappable;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this._wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.wrapper');
		this._controls = [];
		this.reversedNested = instructions.reversedNested;

		for (let i = 0; i < (instructions.required ? 2 : 3); i++) {
			const element = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.custom-control.custom-radio.custom-control-inline');
			const control = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input.custom-control-input[type="radio"]');

			control.name = `${instructions.name}_${this._id}`;
			control.id = `${this._id}_${i + 1}`;
			control.disabled = instructions.disabled || instructions.readonly;

			const innerLabel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('label.custom-control-label');

			innerLabel.setAttribute('for', `${this._id}_${i + 1}`);
			innerLabel.textContent = STATE_LABEL[i];

			element.appendChild(control);
			element.appendChild(innerLabel);
			this._wrapper.appendChild(element);

			this._controls.push(control);
		}

		this.appendChild(this._wrapper);
		this.value = value;

		const showNestedFieldsetsDebounced = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.debounce)(() => (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this));

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this, metadata?.fieldset?.value, metadata?.fieldset?.metadata).then(() => {
			this._wrapper.addEventListener('input', (e) => showNestedFieldsetsDebounced());
			this.addEventListener(
				_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].INPUT.MODE_CHANGED,
				(event) => event.target === this && showNestedFieldsetsDebounced(),
			);
		});
	}

	_toCoderValue(value) {
		if (value === true) return '{{true}}';
		else if (value === false) return '{{false}}';
		else return value;
	}

	_fromCoderValue(value) {
		if (value === '{{true}}') return true;
		else if (value === '{{false}}') return false;
		else return value;
	}

	_setDisabled(disabled) {
		this._controls.forEach((c) => (c.disabled = disabled));
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-boolean', BooleanInput);


/***/ }),

/***/ "./lib/inputs/buffer.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/buffer.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferInput: () => (/* binding */ BufferInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class BufferInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-buffer', BufferInput);


/***/ }),

/***/ "./lib/inputs/cert.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/cert.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CertInput: () => (/* binding */ CertInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");







class CertInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	extendInstructions(instructions, value, metadata) {
		const button = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`button.btn.btn-outline-secondary Extract`);

		button.addEventListener('click', async (event) => {
			if (this.panel) return;

			this.disabled = true;

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](button);

			await this.panel.build({
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('buttons.extract'),
				src: `${_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.cert.api.instructions.path}?type=cert`,
				theme: instructions.theme,
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.SUBMITTED, (event) => {
				this.disabled = false;

				if (Array.isArray(event.detail.data) && event.detail.data[0]) {
					this.value = event.detail.data[0];
					this.onChange();
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;
			});

			this.panel.open();
		});

		instructions.multiline = true;
		instructions.buttons = [button];
		return instructions;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-cert', CertInput);


/***/ }),

/***/ "./lib/inputs/checkbox.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/checkbox.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CheckboxInput: () => (/* binding */ CheckboxInput)
/* harmony export */ });
/* harmony import */ var _boolean_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boolean.mjs */ "./lib/inputs/boolean.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



const STATE_LABEL = ['Yes'];

class CheckboxInput extends _boolean_mjs__WEBPACK_IMPORTED_MODULE_0__.BooleanInput {
	get value() {
		if (this.mode === 'map') return this._coder.value;

		return !!this._control.checked;
	}

	set value(value) {
		if (this.mode === 'map') {
			this._coder.value = value;
			return;
		}

		this._control.checked = value === true || value === 'true';
	}

	get hasModeSwitch() {
		return this.mappable;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		const wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div');

		wrapper.className = 'wrapper';

		const element = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.custom-control.custom-checkbox.custom-control-inline');

		this._control = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input.custom-control-input[type="checkbox"]');
		this._control.name = `${instructions.name}_${this._id}`;
		this._control.id = this._id;
		this._control.disabled = instructions.disabled || instructions.readonly;

		const innerLabel = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('label.custom-control-label');

		innerLabel.setAttribute('for', this._id);
		innerLabel.textContent = STATE_LABEL[0];

		element.appendChild(this._control);
		element.appendChild(innerLabel);
		wrapper.appendChild(element);

		this.appendChild(wrapper);
		this.value = value;
	}

	_setDisabled(disabled) {
		this._control.disabled = disabled;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-checkbox', CheckboxInput);


/***/ }),

/***/ "./lib/inputs/collection.mjs":
/*!***********************************!*\
  !*** ./lib/inputs/collection.mjs ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CollectionInput: () => (/* binding */ CollectionInput)
/* harmony export */ });
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");





class CollectionInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input {
	get hasModeSwitch() {
		return false;
	}

	get value() {
		if (this.mode === 'map') return this._coder.value;
		if (!this._fieldset) return null;

		return this._fieldset.nestedFieldsets.reduce((value, fs) => {
			return Object.assign(value, fs.value);
		}, this._fieldset.value);
	}

	set value(value) {
		if (this.mode === 'map') {
			this._coder.value = value;
		}

		// TODO: Value setter in pick mode???
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this.setAttribute('type', 'collection');

		if (typeof instructions.spec === 'string') {
			// Spec are RPC, resolve
			const form = this.form;
			const context = form ? form.meta.imlContext : {};

			instructions.spec = await _loader_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].load(instructions.spec, { context });
		}

		this._fieldset = this.querySelector('imt-fieldset[nested]') || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-fieldset[nested]');
		this.appendChild(this._fieldset);

		const restore = metadata?.restore?.nested;
		const fsMetadata = restore ? Object.assign({}, metadata, { restore }) : metadata;

		await this._fieldset.build(instructions.spec, value, fsMetadata);
	}

	isInternalChangeEvent(event) {
		if (this.mode === 'map') {
			return false;
		}

		return event.target !== this;
	}

	validate() {
		this.untouched = false;

		this.querySelectorAll(':scope > imt-fieldset > [field]').forEach((field) => {
			if (field.validate) {
				field.untouched = false;
				field.validate();
			}
		});

		this._runValidators();

		return this.valid;
	}

	/**
	 * Performs value validation for type defined by this input field.
	 *
	 * @param {*} value Value to validate, same as getting `this.value`.
	 * @param {Array} problems Array of strings containing all generated validation problems.
	 * @returns {boolean} Method can return false to indicate this field is no valid without providing a reason. Otherwise, return value is ignored.
	 */

	_validate(value, problems) {
		super._validate(value, problems);

		// Ignore rest of validation in map mode
		if (this.mode === 'map') return;

		this.empty = !this.querySelector(':scope > imt-fieldset > *:not(.empty)');

		if (this.querySelector(':scope > imt-fieldset > *[invalid]')) {
			return false; // False means display validation problem, but with no additional message
		}
	}

	getState() {
		const state = super.getState();

		let nested = {};

		// Add inner inputs and its nested fieldsets
		// it doesn't include collections and arrays content

		const iterateInput = (items) => {
			nested = Object.assign(nested, (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.getStateObject)(items));

			items.forEach((item) => {
				const nestedFs = item.nestedFieldset;

				if (nestedFs) iterateInput(nestedFs.fields);
			});
		};

		iterateInput(this._fieldset.fields);

		if (Object.keys(nested).length) state.nested = nested;

		return state;
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		const spec = [];

		// Add inner inputs and its nested fieldsets
		// it doesn't include collections and arrays content

		const iterateInput = (item) => {
			spec.push(item.getValidateInstructions());

			const nested = item.nestedFieldset;

			if (nested) nested.fields.forEach(iterateInput);
		};

		this._fieldset.fields.forEach(iterateInput);

		// Spec have to be present everytime to be backward compatible with Formula
		instructions.spec = spec;

		if (this._instructions.sequence) {
			instructions.sequence = this._instructions.sequence;
		}

		return instructions;
	}

	_setDisabled(disabled) {
		this._fieldset.disabled = disabled;
	}

	getPreview() {
		if (this.parentElement.nodeName === 'IMT-INPUT-UDTSPEC-ITEM') {
			const value = this.value;

			if (typeof value.type !== 'undefined') {
				return `${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('udtspec.specification.label')}: ${value.type}`;
			}
		}

		if (Array.isArray(this._instructions?.spec) && this._instructions.spec.length === 2) {
			const value = this.value;
			const valueSpec = this._instructions.spec.find((spec) => spec.name === 'value');
			const labelSpec = this._instructions.spec.find((spec) => spec.name === 'label' || spec.name === 'name');

			if (valueSpec && labelSpec) {
				return `${value[labelSpec.name]}: ${value[valueSpec.name]}`;
			}
		}

		const fields = Array.from(this.querySelectorAll(':scope > imt-fieldset > .form-group'));

		return fields
			.slice(0, 15) // take only a small slice to avoid computing unnecessarily long strings
			.filter((f) => f instanceof _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input)
			.map((f) => `${f._instructions.label || f._instructions.name}: ${f.getPreview()}`)
			.join(', ');
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-collection', CollectionInput);


/***/ }),

/***/ "./lib/inputs/color.mjs":
/*!******************************!*\
  !*** ./lib/inputs/color.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorInput: () => (/* binding */ ColorInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class ColorInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-color', ColorInput);


/***/ }),

/***/ "./lib/inputs/connected-system.mjs":
/*!*****************************************!*\
  !*** ./lib/inputs/connected-system.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConnectedSystemInput: () => (/* binding */ ConnectedSystemInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");






const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.connectedSystems;

class ConnectedSystemInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();
		this.panel = null;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return [];
	}

	extendInstructions(instructions) {
		instructions.options = instructions.options || {};

		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder =
			instructions.options.placeholder || _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('connectedSystems.chooseConnectedSystems');
		// add proper theme logic for connected-system input
		instructions.theme = _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_THEME;

		const storeQuery = new URLSearchParams();

		storeQuery.append('organizationId', this.form.meta.organizationId);
		instructions.options.store = `${config.api.list.path}?${storeQuery}`;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	async _build(instructions, value, metadata) {
		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-picker');
		const connectedSystemName = instructions.type.split(':')[1];

		metadata.data = { connectedSystemName };
		metadata.build = Object.assign(metadata.build || {}, { picker });

		await super._build(instructions, value, metadata);

		// add proper icon logic for connected-system input
		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.composedInputBuilder)({
				picker,
				config,
				name: 'http',
				theme: instructions.theme,
				buttons: [
					// {
					// 	label: I18n.l('common.edit'),
					// 	action: () => null,
					// 	collapsible: true,
					// },
				],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-connectedsystem', ConnectedSystemInput);


/***/ }),

/***/ "./lib/inputs/datastore.mjs":
/*!**********************************!*\
  !*** ./lib/inputs/datastore.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DatastoreInput: () => (/* binding */ DatastoreInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");









const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.datastore;

class DatastoreInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();

		this.panel = null;
		this._firstCreationMode = false;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return [];
	}

	extendInstructions(instructions, value, metadata) {
		instructions.options = instructions.options || {};

		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('datastore.chooseDatastore');
		instructions.options.team = this.getTeamId(instructions);

		instructions.theme = instructions.theme || this.form.meta.module.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_THEME;

		const storeQuery = new URLSearchParams();

		storeQuery.append('teamId', instructions.options.team);
		storeQuery.append('pg[limit]', config.api.list.limit);

		instructions.options.store = `${config.api.list.path}?${storeQuery}`;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker

		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');

		// Build the component

		metadata.build = Object.assign(metadata.build || {}, { picker });
		await super._build(instructions, value, metadata);

		// Build composed input

		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.composedInputBuilder)({
				picker,
				config,
				name: this.form.meta.module?.package?.name,
				theme: instructions.theme,
				buttons: [
					...(this.showEditBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('buttons.browse'),
									enabled: (option) => option?.value,
									action: () => {
										_eventManager_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].dispatch(this.form, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].DATASTORE.BROWSE, {
											detail: {
												dataStoreId: this.value,
											},
										});
									},
								},
						  ]
						: []),
					...(this.showAddBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.add'),
									action: this._createHandler(instructions),
								},
						  ]
						: []),
				],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		this._firstCreationMode = !this.hasStoreItems;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation
			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createAddFirstAccountBtn)(
					instructions.theme,
					_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.datastores.create'),
					this._createHandler(instructions),
				),
			);
		}
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.instructions?.create?.redirect) {
				window.location.href = config.api.instructions.create.redirect;
				return;
			}

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				await this.addOption(event.detail.data.dataStore);

				if (this._firstCreationMode) {
					this.querySelector('.create-connection')?.remove();
					this._firstCreationMode = false;
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
					}
				}
			});

			const instructionsQuery = new URLSearchParams();
			const metadata = {};

			instructionsQuery.append('teamId', instructions.options.team);

			if (instructions.options?.team != null) {
				metadata.teamId = instructions.options.team;
			}

			await this.panel.build(
				{
					name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.datastores.create'),
					src: `${config.api.instructions.create.path}?${instructionsQuery}`,
					theme: instructions.theme,
				},
				metadata,
			);

			this.panel.open();
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-datastore', DatastoreInput);


/***/ }),

/***/ "./lib/inputs/date.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/date.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DateInput: () => (/* binding */ DateInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* global moment */





class DateInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get hasModeSwitch() {
		return false;
	}

	get value() {
		const value = this._control.nodeName === 'IMT-CODER' ? this._control.value : this._control.value || null;

		if (this.fieldset.mappable && this._instructions.mappable !== false) {
			return value;
		}

		if (this.time === false) {
			const m = moment.tz(value, 'L', this.timezone || 'UTC');

			if (!m.isValid()) return value;
			return m.toDate();
		} else {
			const m = moment.tz(value, 'L LT', this.timezone || 'UTC');

			if (!m.isValid()) return value;
			return m.toDate();
		}
	}

	set value(value) {
		if (this._control.value === value) return;

		if (this.time === false) {
			const m = moment.tz(value, 'UTC');

			if (m.isValid()) value = m.tz(this.timezone || 'UTC').format('L');
		} else {
			const m = moment.tz(value, 'UTC');

			if (m.isValid()) value = m.tz(this.timezone || 'UTC').format('L LT');
		}

		this._control.value = value == null ? '' : value;
	}

	get timezone() {
		return this.form?.timezone || 'UTC';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		const type = this.fieldset.mappable && instructions.mappable !== false ? 'imt-coder' : 'input';

		this._control = document.createElement(type);
		if (type !== 'imt-coder') this._control.className = 'form-control';
		this._control.readonly = instructions.readonly;
		this._control.disabled = instructions.disabled;
		this._control.name = instructions.name || instructions.name;
		this._control.id = this._id;
		this._metaTimezone = this.form?.meta?.timezone;

		if (type !== 'imt-coder') {
			const format = instructions.time === false ? 'L' : 'L LT';
			const m = moment.tz(value, 'UTC');

			if (m.isValid() && value) value = m.tz(this.timezone || 'UTC').format(format);

			let picker;

			this._control.type = 'text';
			this._control.addEventListener('focusin', () => {
				picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createDateTimePickerPanel)(this, this, instructions);
				picker.panel.open();
			});

			this._control.addEventListener('focusout', () => {
				if (picker?.panel) {
					picker?.abortController.abort();
					picker?.panel.close();
					picker = null;
				}
			});
		}

		this._control.value = value || null;
		this.appendChild(this._control);
	}

	/**
	 * Builds the list of hints to be shown with the field.
	 *
	 * @param {function} hint Function that adds the hint. First argument is icon, second is text.
	 */

	_hints(hint) {
		const time = this._instructions.time !== false;

		if (this.fieldset.mappable && this._instructions.mappable !== false) {
			hint('globe', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('hints.timezone', { value: this._metaTimezone || this.timezone || 'UTC' }, true));
		} else {
			hint('globe', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('hints.timezone', { value: this.timezone || 'UTC' }, true));
		}

		if (this.fieldset.mappable && this._instructions.mappable !== false) {
			hint('clock', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('hints.formats'));
		} else {
			hint(
				'clock',
				_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l(
					'hints.format',
					{
						value: `${moment.localeData().longDateFormat('L')} ${time ? moment.localeData().longDateFormat('LT') : ''}`,
					},
					true,
				),
			);
		}
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		// Default value is true so the false values has to be stored in instructions
		if (typeof this._instructions.time !== 'undefined') {
			instructions.time = this._instructions.time;
		}

		return instructions;
	}

	/**
	 * Performs value validation for type defined by this input field.
	 *
	 * @param {*} value Value to validate, same as getting `this.value`.
	 * @param {Array} problems Array of strings containing all generated validation problems.
	 * @returns {boolean} Method can return false to indicate this field is no valid without providing a reason. Otherwise, return value is ignored.
	 */

	_validate(value, problems) {
		if (this._control.nodeName === 'IMT-CODER' && this._control.containsIML) {
			// When field contains IML, use Coder validations instead
			problems.push(...this._control.errors);
		} else {
			// Any _validation method can return false to indicate this field is no valid without providing a reason
			return super._validate(value, problems);
		}
	}

	_setDisabled(disabled) {
		this._control.disabled = disabled;
	}

	getPreview() {
		const value = this.value;
		const date = moment(value);

		if (!date.isValid() && (value == null || value?.length === 0)) {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('common.empty').toLowerCase()}>`;
		} else {
			return this._control.value;
		}
	}

	attributesToInstructions() {
		const instructions = {
			time: this.hasAttribute('time'),
		};

		const parentInstructions = super.attributesToInstructions();

		return {
			...parentInstructions,
			...instructions
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-date', DateInput);


/***/ }),

/***/ "./lib/inputs/device.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/device.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DeviceInput: () => (/* binding */ DeviceInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");









const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.device;

class DeviceInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();

		this.panel = null;
		this._firstCreationMode = null;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return ['editable'];
	}

	extendInstructions(instructions) {
		instructions.options = instructions.options || {};
		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || 'Choose a device';

		const scenarioId = this.form.meta.Inspector?.instance?.scenario?.id;
		const deviceScope = this.getAttribute('type')?.split(',');

		const storeQuery = new URLSearchParams();

		if (!instructions.options.team) {
			instructions.options.team = this.getTeamId(instructions);
			if (scenarioId) {
				storeQuery.append('viewForScenarioId', scenarioId);
			}
		}

		if (deviceScope) {
			deviceScope.forEach((scope) => storeQuery.append('scope', scope));
		}

		storeQuery.append('teamId', instructions.options.team);
		storeQuery.append('assigned', 'false');
		storeQuery.append('pg[limit]', config.api.list.limit);

		instructions.options.store = `${config.api.list.path}?${storeQuery}`;
		instructions.theme = instructions.theme || this.form.meta.module.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_THEME;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker

		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-picker');

		if (typeof value === 'undefined') {
			value = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveDefaultInputValue)(this, instructions.type);
		}

		picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_3__.Picker.COMPONENTS.OPTION_RENDERER, (option, item) => {
			option.setAttribute('data-editable', item.editable);
		});

		// Build the component

		metadata.build = Object.assign(metadata.build || {}, { picker });
		await super._build(instructions, value, metadata);

		// Build composed input

		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.composedInputBuilder)({
				picker,
				config,
				name: this.form.meta.module?.package?.name,
				theme: instructions.theme,
				buttons: this.showAddBtn
					? [
							{
								label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.add'),
								action: this._createHandler(instructions),
							},
					  ]
					: [],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		this._firstCreationMode = !this.hasStoreItems;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation
			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.createAddFirstAccountBtn)(instructions.theme, _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('panels.device.create'), this._createHandler(instructions)),
			);
		}
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.instructions?.create?.redirect) {
				window.location.href = config.api.instructions.create.redirect;
				return;
			}

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				await this.addOption(event.detail.data.device);

				if (this._firstCreationMode) {
					this.querySelector('.create-connection')?.remove();
					this._firstCreationMode = false;
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
					}
				}
			});

			const instructionsQuery = new URLSearchParams();

			instructionsQuery.append('teamId', instructions.options.team);

			await this.panel.build({
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('panels.device.add'),
				help: config.kb.path,
				src: `${config.api.instructions.request.path}?${instructionsQuery}`,
				theme: instructions.theme,
			});

			this.panel.open();
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-device', DeviceInput);


/***/ }),

/***/ "./lib/inputs/editor.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/editor.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextEditorInput: () => (/* binding */ TextEditorInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* global autosize, FroalaEditor, CodeMirror */






const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.editor;

class TextEditorInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	get value() {
		return this._control.value;
	}

	set value(value) {
		if (this._control.value === value) return;
		this._control.value = value == null ? '' : value;
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		return Object.assign(super.attributesToInstructions(), {
			editor: this.getAttribute('editor'),
			options: (() => {
				try {
					return JSON.parse(this.getAttribute('options'));
				} catch (ex) {
					throw new Error(`Invalid text editor config. ${ex.message}`);
				}
			})(),
		});
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		const type = 'editor';

		this._control = document.createElement('textarea');
		if (instructions.readonly) this._control.setAttribute('readonly', '');
		this._control.disabled = instructions.disabled;
		this._control.name = instructions.name || instructions.name;
		this._control.id = this._id;
		this._control.value = value != null ? value : '';

		this.appendChild(this._control);

		const imlContext = this.form.meta.imlContext || {};
		const options = instructions.options;

		if (options && imlContext) {
			Object.keys(options).forEach((k) => {
				if ('string' === typeof options[k]) {
					options[k] = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__.IML.parse(options[k]), imlContext);
				}
			});
		}

		const overrides = this.form.overrides.editors;

		instructions.editor = instructions.editor || 'codemirror';

		switch (true) {
			case !!overrides[instructions.editor]:
				this._editor = new overrides[instructions.editor](this._control, instructions);
				break;

			case instructions.editor === 'froala':
				this._editor = new FroalaEditor(
					this._control,
					Object.assign(
						{
							key: config.editors.froala.key,
							editorClass: 'imt-input-text-froala',
							fileUpload: false,
							imageUpload: false,
							attribution: false,
							htmlExecuteScripts: false,
							events: {
								'html.get': (html) => {
									this.value = html;
								},
							},
							toolbarButtons: {
								moreText: {
									buttons: [
										'bold',
										'italic',
										'underline',
										'strikeThrough',
										'subscript',
										'superscript',
										'fontSize',
										'textColor',
										'backgroundColor',
										'inlineClass',
										'inlineStyle',
										'clearFormatting',
									],
								},
								moreParagraph: {
									buttons: [
										'alignLeft',
										'alignCenter',
										'formatOLSimple',
										'alignRight',
										'alignJustify',
										'formatOL',
										'formatUL',
										'paragraphFormat',
										'paragraphStyle',
										'lineHeight',
										'outdent',
										'indent',
										'quote',
									],
								},
								moreRich: {
									buttons: [
										'insertLink',
										'insertImage',
										'insertVideo',
										'insertTable',
										'emoticons',
										'fontAwesome',
										'specialCharacters',
										'embedly',
										'insertFile',
										'insertHR',
									],
								},
								moreMisc: {
									buttons: [
										'undo',
										'redo',
										'fullscreen',
										'print',
										'getPDF',
										'spellChecker',
										'selectAll',
										'html',
										'help',
									],
									align: 'right',
									buttonsVisible: 2,
								},
							},
							toolbarButtonsMD: {
								moreText: {
									buttons: [
										'bold',
										'italic',
										'underline',
										'strikeThrough',
										'subscript',
										'superscript',
										'fontSize',
										'textColor',
										'backgroundColor',
										'inlineClass',
										'inlineStyle',
										'clearFormatting',
									],
									buttonsVisible: 6,
								},
								moreParagraph: {
									buttons: [
										'alignLeft',
										'alignCenter',
										'formatOLSimple',
										'alignRight',
										'alignJustify',
										'formatOL',
										'formatUL',
										'paragraphFormat',
										'paragraphStyle',
										'lineHeight',
										'outdent',
										'indent',
										'quote',
									],
								},
								moreRich: {
									buttons: [
										'insertLink',
										'insertImage',
										'insertVideo',
										'insertTable',
										'emoticons',
										'fontAwesome',
										'specialCharacters',
										'embedly',
										'insertFile',
										'insertHR',
									],
								},
								moreMisc: {
									buttons: [
										'undo',
										'redo',
										'fullscreen',
										'print',
										'getPDF',
										'spellChecker',
										'selectAll',
										'html',
										'help',
									],
									align: 'right',
									buttonsVisible: 2,
								},
							},
							toolbarButtonsSM: {
								moreText: {
									buttons: [
										'bold',
										'italic',
										'underline',
										'strikeThrough',
										'subscript',
										'superscript',
										'fontSize',
										'textColor',
										'backgroundColor',
										'inlineClass',
										'inlineStyle',
										'clearFormatting',
									],
									buttonsVisible: 2,
								},
								moreParagraph: {
									buttons: [
										'alignLeft',
										'alignCenter',
										'formatOLSimple',
										'alignRight',
										'alignJustify',
										'formatOL',
										'formatUL',
										'paragraphFormat',
										'paragraphStyle',
										'lineHeight',
										'outdent',
										'indent',
										'quote',
									],
									buttonsVisible: 2,
								},
								moreRich: {
									buttons: [
										'insertLink',
										'insertImage',
										'insertVideo',
										'insertTable',
										'emoticons',
										'fontAwesome',
										'specialCharacters',
										'embedly',
										'insertFile',
										'insertHR',
									],
									buttonsVisible: 2,
								},
								moreMisc: {
									buttons: [
										'undo',
										'redo',
										'fullscreen',
										'print',
										'getPDF',
										'spellChecker',
										'selectAll',
										'html',
										'help',
									],
									align: 'right',
									buttonsVisible: 2,
								},
							},
							toolbarButtonsXS: {
								moreText: {
									buttons: [
										'bold',
										'italic',
										'underline',
										'strikeThrough',
										'subscript',
										'superscript',
										'fontSize',
										'textColor',
										'backgroundColor',
										'inlineClass',
										'inlineStyle',
										'clearFormatting',
									],
									buttonsVisible: 0,
								},
								moreParagraph: {
									buttons: [
										'alignLeft',
										'alignCenter',
										'formatOLSimple',
										'alignRight',
										'alignJustify',
										'formatOL',
										'formatUL',
										'paragraphFormat',
										'paragraphStyle',
										'lineHeight',
										'outdent',
										'indent',
										'quote',
									],
									buttonsVisible: 0,
								},
								moreRich: {
									buttons: [
										'insertLink',
										'insertImage',
										'insertVideo',
										'insertTable',
										'emoticons',
										'fontAwesome',
										'specialCharacters',
										'embedly',
										'insertFile',
										'insertHR',
									],
									buttonsVisible: 0,
								},
								moreMisc: {
									buttons: [
										'undo',
										'redo',
										'fullscreen',
										'print',
										'getPDF',
										'spellChecker',
										'selectAll',
										'html',
										'help',
									],
									align: 'right',
									buttonsVisible: 2,
								},
							},
						},
						options,
					),
				);
				break;

			case instructions.editor === 'codemirror':
				this._editor = CodeMirror.fromTextArea(this._control, {
					lineNumbers: true,
					lineWrapping: true,
					matchBrackets: true,
					mode: instructions.editorMode, // backw
					lint: true,
					gutters: ['CodeMirror-lint-markers'],
					viewportMargin: Infinity,
				});
				this.querySelector('.CodeMirror').style.height = 'auto';
				this._editor.on('change', (e) => {
					// Propagate changes to underlying textarea immediately
					this._editor.save();
				});
		}

		if (!this._editor && type === 'textarea' && window.autosize) {
			autosize(this._control);
		}
	}

	_setDisabled(disabled) {
		if (this._instructions.editor === 'codemirror') {
			this._editor.setOption('readOnly', disabled);
		}

		if (this._control) {
			this._control.disabled = disabled;
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-editor', TextEditorInput);


/***/ }),

/***/ "./lib/inputs/email.mjs":
/*!******************************!*\
  !*** ./lib/inputs/email.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmailInput: () => (/* binding */ EmailInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class EmailInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-email', EmailInput);


/***/ }),

/***/ "./lib/inputs/file.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/file.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FileInput: () => (/* binding */ FileInput)
/* harmony export */ });
/* harmony import */ var _folder_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./folder.mjs */ "./lib/inputs/folder.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class FileInput extends _folder_mjs__WEBPACK_IMPORTED_MODULE_0__.FolderInput {
	get isFileSelect() {
		return true;
	}

	constructor() {
		super();
	}

	hasSelectedFile() {
		const selects = this.querySelectorAll('.wrapper > imt-picker');
		const lastSelect = selects && selects[selects.length - 1];
		const selectedElement = lastSelect.getSelectedElements();

		if (
			lastSelect &&
			selectedElement &&
			selectedElement.length === 1 &&
			selectedElement[0].getAttribute('data-type') === 'file'
		) {
			return true;
		}

		return false;
	}

	_filterOptions(options) {
		return options;
	}

	// TODO: refactor this (copy paste from input)
	_runValidators(init = false) {
		if (!this._built) return;

		if (this.skipValidation) {
			return true;
		}

		if (this.form) {
			this.form.debug('validation', `validating value '${this.name}' in domain '${this.fieldset?.domain}'`);
		}

		const value = this.value;
		const problems = [];
		let valid = true;

		this.empty = value == null || value === '';

		if (this.containsIML()) {
			// When value contains IML, use Coder validations instead
			problems.push(...this._coder.errors);
		} else {
			// Any _validation method can return false to indicate this field is no valid without providing a reason
			valid = this._validate(value, problems, init);
		}

		if (problems.length || valid === false) {
			if (problems.length) {
				const msgs = problems.map((err) => {
					if (typeof err === 'string') return err;
					return err.message;
				});

				this.errors = msgs;
				this._validationMessages.textContent = msgs.join('\n');
			}

			if (this.valid) {
				this.valid = false;
			}

			return false;
		} else if (this.mode !== 'map' && this.value && !this.hasSelectedFile()) {
			this.errors = ['Invalid file'];
			this._validationMessages.textContent = this.errors.join('\n');
			this.valid = false;

			return false;
		} else {
			this.errors = [];
			if (!this.valid) {
				this.valid = true;
			}
			return true;
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-file', FileInput);


/***/ }),

/***/ "./lib/inputs/filename.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/filename.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FilenameInput: () => (/* binding */ FilenameInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class FilenameInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		if (this._instructions.extension) {
			instructions.extension = this._instructions.extension;
		}

		return instructions;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-filename', FilenameInput);


/***/ }),

/***/ "./lib/inputs/filter.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/filter.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FilterInput: () => (/* binding */ FilterInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");








function processFilter(wrapper, parser) {
	if (!wrapper?.childNodes) return [];

	return Array.from(wrapper.childNodes)
		.map((group) =>
			Array.from(group.querySelectorAll('div.item'))
				.map(parser)
				.filter((item) => !!item),
		)
		.filter((group) => group.length > 0);
}

class FilterInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	constructor() {
		super();

		this._defaultOperators = null;
		this._wrapper = null;
		this._optionsCache = null;
		this._metadata = {};
	}

	get value() {
		if (!this._wrapper) return [];

		return processFilter(this._wrapper, (item) => {
			const out = {
				a: item.querySelector('.operand-a')?.value,
				o: item.querySelector('imt-picker.operator')?.value,
				b: item.querySelector('.operand-b:not(.d-none)')?.value,
			};

			return out.a || out.b ? out : null;
		});
	}

	set value(value) {
		if (!Array.isArray(value)) return;

		this._wrapper.innerHTML = '';

		const restore = this._metadata.restore?.label;

		value.forEach((group, i) => {
			const groupElement = this._buildGroup(null);

			this._wrapper.append(groupElement);

			group.forEach((item, ii) => {
				const restoreLabel = restore && restore[i] && restore[i][ii];
				const itemElement = this._buildItem(item, restoreLabel ? { restore: { label: restoreLabel } } : null);

				groupElement.querySelector('div.group-items').append(itemElement);
			});
		});
	}

	get hasModeSwitch() {
		return false;
	}

	get operators() {
		if (this._instructions.options?.operators) {
			return this._instructions.options.operators;
		}

		if (this._defaultOperators) {
			return this._defaultOperators;
		}

		this._defaultOperators = [];

		const groups = { general: [] };

		Object.entries(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.filter.operators).forEach(([name, op]) => {
			let group;

			if (!name.includes(':')) {
				group = groups.general;
			} else {
				const type = name.split(':')[0];

				if (groups[type] == null) {
					groups[type] = [];
				}
				group = groups[type];
			}

			group.push({
				value: name,
				short: op.symbol,
				label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l(`filter.operators.${name}.label`, { keySeparator: '.', nsSeparator: '|' }),
			});
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.basic'),
			options: groups.general,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.text'),
			options: groups.text,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.number'),
			options: groups.number,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.date'),
			options: groups.date,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.time'),
			options: groups.time,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.boolean'),
			options: groups.boolean,
		});

		this._defaultOperators.push({
			label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('filter.groups.array'),
			options: groups.array,
		});

		return this._defaultOperators;
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		const options = [];

		for (const node of this.querySelectorAll('imt-option')) {
			if (!node.hasAttribute('value')) throw new Error('Option without value attribute.');
			this.removeChild(node);

			options.push({
				label: node.textContent,
				value: node.value,
			});
		}

		return Object.assign(super.attributesToInstructions(), {
			options: options.length ? options : this.getAttribute('options'),
		});
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		if (metadata) this._metadata = metadata;

		this._wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.wrapper');
		this.appendChild(this._wrapper);

		if (instructions.options?.logic) this.setAttribute('logic', instructions.options.logic);

		// Do not use Picker.normalizeOptions. It is necessary to preserve options.store undefined if it's not defined otherwise coder input is not displayed.
		this._options =
			Array.isArray(instructions.options) || typeof instructions.options === 'string'
				? { store: instructions.options }
				: instructions.options || {};

		// Options have to be loaded directly here because if the loading fails,
		// coder should be displayed instead of the select input.
		// TODO Ensure the caching feature works for this solution
		if (typeof this._options?.store === 'string') {
			const form = this.form;
			const context = form ? form.meta.imlContext : {};

			try {
				this._options.store = await _loader_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].load(this._options.store, {
					data: this.fieldset.rpcData || {},
					context,
				});
			} catch (ex) {
				console.error('Failed to load filter data.', ex);
			}
		}

		if (Array.isArray(value) && value.length) {
			this.value = value;

			// Ensure to use restore data only while building
			this._metadata.restore = null;
		} else {
			// Fresh start
			this._wrapper.append(this._buildGroup(true));
		}
	}

	/**
	 * Build filter group
	 * @param addEmptyItem {boolean}
	 * @private
	 */

	_buildGroup(addEmptyItem) {
		const group = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.group');
		const groupItems = group.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.group-items'));

		if (addEmptyItem) {
			groupItems.append(this._buildItem());
		}

		const logic = this.getAttribute('logic');

		if (logic !== 'or') {
			const button = group.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.btn.btn-sm.btn-success.add-item[button]'));

			if (logic === 'reverse') {
				button.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('buttons.addor');
			} else {
				button.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('buttons.addand');
			}

			button.addEventListener('click', async (event) => {
				const item = this._buildItem();

				groupItems.append(item);
				await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.animateElementHeight)(item, { timing: 200, timingFunction: 'ease-in', emitEvent: true });
			});
		}

		if (logic !== 'and') {
			const button = group.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.btn.btn-sm.btn-success.add-group.ml-2[button]'));

			if (logic === 'reverse') {
				button.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('buttons.addand');
			} else {
				button.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('buttons.addor');
			}

			button.addEventListener('click', async (event) => {
				const item = this._buildGroup(true);

				group.parentElement.insertBefore(item, group.nextElementSibling);
				await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.animateElementHeight)(item, { timing: 200, timingFunction: 'ease-in', emitEvent: true });
			});
		}

		return group;
	}

	/**
	 * Builds filter item asynchronously and doesn't wait till it's done
	 * @param filter {Object} Item config
	 * @param metadata {Object}
	 * @private
	 */

	_buildItem(filter = { a: null, o: null, b: null }, metadata) {
		const item = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.item');

		// Operand A

		if (Array.isArray(this._options.store)) {
			const operandA = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker.operand-a'));

			operandA.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.RPC_DATA_GETTER, () => this.fieldset.rpcData);

			// Cache loaded data for other items
			operandA.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.LOAD_DONE, (event) => {
				this._optionsCache = event.detail;
			});

			if ('string' === typeof this._options.store) {
				operandA.setAttribute('provider', this._options.store);

				if (!metadata?.restore && !this._optionsCache) {
					// Initial start load RPC immediately
					operandA.reload(filter.a);
				} else {
					// Load cached or restore
					operandA.addOptions((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.clone)(this._optionsCache || this._options), filter.a, metadata);

					// Prevent reloading if loaded from cache
					if (this._optionsCache) {
						operandA._loaded = true;
					}
				}
			} else {
				operandA.addOptions((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.clone)(this._options), filter.a, metadata);
			}
		} else {
			const operandA = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-coder.operand-a'));

			operandA.value = filter?.a;
		}

		// Operator

		const operator = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker.operator[grouped]'));

		operator.addOptions(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.normalizeOptions(this.operators), filter?.o || _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.filter.defaultOperator);

		// Operand B

		const operandB = item.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-coder.operand-b'));

		operandB.value = filter.b;

		function resolveVisibility(operator, element) {
			if (!operator.value || ['exist', 'notexist'].includes(operator.value)) {
				element.classList.add('d-none');
			} else {
				element.classList.remove('d-none');
			}
		}

		resolveVisibility(operator, operandB);
		operator.addEventListener('input', () => resolveVisibility(operator, operandB));

		const close = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.close[type="button"][data-dismiss="alert"]');

		close.innerHTML = '&times;';
		close.addEventListener('click', async () => {
			await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.animateElementHeight)(item, { hide: true, timing: 200, timingFunction: 'ease-in', emitEvent: true });

			if (item.parentElement.querySelectorAll('div.item').length === 1) {
				if (this._wrapper.children.length === 1) {
					item.remove();
				} else {
					item.closest('div.group').remove();
				}
			} else {
				item.remove();
			}
		});
		item.appendChild(close);

		return item;
	}

	_setDisabled(disabled) {
		for (const node of this._wrapper.querySelectorAll('imt-picker,imt-coder')) {
			node.disabled = disabled;
		}
	}

	getState() {
		const state = super.getState();

		if ('string' === typeof this._options.store) {
			state.label = processFilter(this._wrapper, (item) => {
				const operandAnd = item.querySelector('.operand-a');
				const value = operandAnd?.getSelectedElements ? operandAnd.getSelectedElements() : null;

				return value && value.length && value[0].textContent;
			});
		}

		return state;
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		if (this._instructions.options) {
			instructions.options = this._instructions.options;
		}

		return instructions;
	}

	getPreview() {
		const res = processFilter(this._wrapper, (item) => {
			const out = {
				a: item.querySelector('.operand-a'),
				o: item.querySelector('imt-picker.operator'),
				b: item.querySelector('.operand-b:not(.d-none)'),
			};
			const empty = `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.empty').toLowerCase()}>`;
			const a = out.a?.valueLabel || out.a?.value || empty;
			const b = out.b?.valueLabel || out.b?.value || empty;

			return (out.a || out.b) && out.o.value ? `${a} ${out.o.valueLabel}${out.b ? ' ' + b : ''}` : empty;
		});

		return res.map((arr) => arr.join(' OR ')).join(' AND ');
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-filter', FilterInput);


/***/ }),

/***/ "./lib/inputs/folder.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/folder.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FolderInput: () => (/* binding */ FolderInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");







class FolderInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	constructor() {
		super();

		this._control = null;
	}

	get value() {
		if (this.mode === 'map') return this._coder.value;

		return this._getValue();
	}

	set value(value) {
		if (this.mode === 'map') {
			this._value = value;
			return;
		}

		if (this._getValue() === value) return;

		this._control.innerHTML = '';
		this._setValue(value);
	}

	get hasModeSwitch() {
		return this.mappable;
	}

	get isFileSelect() {
		return false;
	}

	get mode() {
		return this.getAttribute('mode') || 'pick';
	}

	set mode(value) {
		value = this._parseMode(value);
		if (this.mode === value || this.loading) return;

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].INPUT.MODE_CHANGE, { detail: value, bubbles: true });

		if (value === 'map') {
			// Transfer current value to Coder
			this._coder.value = this._toCoderValue(this.value);

			this.insertBefore(this._coder, this._label.nextElementSibling);
		} else {
			this.removeChild(this._coder);
		}

		this.setAttribute('mode', value);

		if (value !== 'map') {
			this.value = '';
		}

		if (this._building) {
			return;
		}

		this.setHelp();
		this.hints();
		this.validate();

		this.querySelector('imt-switch[type="mode-switch"]').active = this.mode === 'map';

		this.setIcon();

		// Notify other that we have changed display mode
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].INPUT.MODE_CHANGED, { detail: value, bubbles: true });
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		return Object.assign(super.attributesToInstructions(), {
			options: this.getAttribute('options'),
			ids: this.hasAttribute('ids'),
			showRoot: this.hasAttribute('show-root'),
			singleLevel: this.getAttribute('single-level'),
		});
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		instructions.options = _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.normalizeOptions(instructions.options);

		if ('undefined' === typeof instructions.options.showRoot) {
			instructions.options.showRoot = true;
		}

		this._control = this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.form-control.wrapper'));

		if (metadata?.restore?.mode === 'edit') {
			this.mode = 'map';
			this._coder.value = value;
			this._value = value;
		} else {
			this._setValue(value, metadata);
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this, metadata?.fieldset?.value, metadata?.fieldset?.metadata);
	}

	addFolder(initialValue, label, addButton, isFile) {
		const options = this._instructions.options;

		for (const folder of this._control.childNodes) {
			folder.classList.remove('imt-input-folder-add');
		}

		const folder = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');

		folder.defaultClassList = [];
		folder.inputField = this;

		if (addButton) folder.classList.add('imt-input-folder-add');

		folder.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.RPC_DATA_GETTER, () => {
			return Object.assign(this.fieldset.rpcData, {
				[this.name]: this._getValue(folder) ? this._getValue(folder) : this._isRoot(folder) ? '/' : null,
			});
		});

		folder.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.OPTION_RENDERER, (option, item) => {
			if (item.file) {
				option.setAttribute('data-type', 'file');
			} else {
				option.setAttribute('data-type', 'folder');
			}
		});

		if (!Array.isArray(options.store)) folder.setAttribute('provider', options.store);

		folder.setAttribute('label-field', options.label || 'label');
		folder.setAttribute('value-field', options.value || 'value');

		if (initialValue) {
			folder.addOptions((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.clone)(options), initialValue, label ? { restore: { label: label } } : undefined, true);
			if (this._isRoot() && initialValue === '/') folder.classList.add('imt-input-folder-root');
		}

		if (isFile) {
			folder.firstChild.setAttribute('data-type', 'file');
		}

		if (!this._control.childNodes.length) {
			folder.setAttribute(
				'placeholder',
				options.placeholder || `Click here to choose ${this._instructions.type === 'folder' ? 'folder' : 'file'}`,
			);

			if (this._isRoot()) {
				folder.staticOptions = [{ label: '/', value: '/' }];
			}
		}

		folder.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PICKER.CHANGED, () => {
			if (this._isRoot(folder) && folder.value === '/') {
				folder.classList.add('imt-input-folder-root');
			} else {
				folder.classList.remove('imt-input-folder-root');
			}

			if (folder.value) {
				folder.classList.remove('imt-input-folder-add');
			}

			// On change remove all subsequent folders
			while (folder.nextElementSibling) {
				folder.nextElementSibling.remove();
			}

			const prevFolder = folder.previousElementSibling;

			// If updating second folder after a root folder set to /
			if (this._instructions.options.showRoot && prevFolder && this._isRoot(prevFolder) && prevFolder.value === '/') {
				// if prevFolder does't have loaded options
				if (
					!prevFolder?.options?.store ||
					!Array.isArray(prevFolder.options.store) ||
					!prevFolder.options.store.some((x) => x.value === folder.value)
				) {
					// copy folder options to prevFolder
					prevFolder.loadCustomOptions(folder.options, folder.value);
				} else {
					prevFolder.value = folder.value;
				}

				prevFolder.classList.remove('imt-input-folder-root');
				folder.value = undefined;
			} else {
				if (
					'undefined' !== typeof folder.value &&
					!this._instructions.options.singleLevel &&
					folder.valueType !== 'file'
				) {
					this.addFolder(null, null, true);
				}
			}

			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].dispatch(this, 'input', { bubbles: true });

			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this);
		});

		this._control.appendChild(folder);
	}

	getState() {
		const state = super.getState();

		if (this._instructions.options.ids) {
			state.path = this._getPathElements()
				.map((elm) => {
					const folder = elm.getSelectedElements();

					if (folder && folder[0]) {
						return folder[0].textContent;
					}
				})
				.filter((elm) => elm);
		}

		return state;
	}

	_setValue(value, metadata) {
		if (value) {
			if (value === '/') {
				this.addFolder('/');
			} else {
				const restore = metadata?.restore?.path;
				const folders = (this._instructions.options.showRoot ? value.replace(/^\//, '') : value).split('/');

				folders.forEach((folder, i) => {
					this.addFolder(
						folder,
						restore ? restore[i] : undefined,
						false,
						this.isFileSelect && i === folders.length - 1,
					);
				});
			}
			if (!this._instructions.options.singleLevel && !(this.isFileSelect && value && value !== '/')) {
				this.addFolder(null, null, true);
			}
		} else {
			this.addFolder(null, null, true);
		}
	}

	_getPathElements(element) {
		const elements = [];

		for (const child of this._control.childNodes) {
			if (element === child) break; // Get path till the reference folder/file
			if (child.nodeName === 'IMT-PICKER') {
				elements.push(child);
			}
		}

		return elements;
	}

	_getValue(element, onlyLabel = false) {
		const elements = this._getPathElements(element);

		if (!elements.length) return null;

		const value = elements
			.filter((f) => !f.classList.contains('imt-input-folder-add'))
			.map((elm) => (onlyLabel ? elm.valueLabel : elm.value))
			.filter((f) => f);

		if (value.length === 1 && value[0] === '/') return '/';

		if (value.length) {
			return (this._instructions.options.showRoot ? '/' : '') + value.join('/').replace(/^\/\//, '/');
		}

		return null;
	}

	_isRoot(element) {
		const path = this._getPathElements();

		return this._instructions.options.showRoot && (path.length === 1 || path[0] === element);
	}

	_setDisabled(disabled) {
		this._getPathElements().forEach((el) => {
			el.disabled = disabled;
		});
	}

	getPreview() {
		const value = this._getValue(null, true);

		if (!value) {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('common.empty').toLowerCase()}>`;
		}

		return value;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-folder', FolderInput);


/***/ }),

/***/ "./lib/inputs/grecaptcha.mjs":
/*!***********************************!*\
  !*** ./lib/inputs/grecaptcha.mjs ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GRecaptcha: () => (/* binding */ GRecaptcha)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");





class GRecaptcha extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	constructor() {
		super();
		this._grecaptchav2widget = null;
		this._grecaptchaDefaultVersion = 3;
		this._grecaptchaAllowedVersions = [2, 3];
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		const siteKey = instructions?.options?.siteKey;

		if (!siteKey) {
			return;
		}
		let version = instructions?.options?.version;

		if (!this._grecaptchaAllowedVersions.includes(version)) {
			version = this._grecaptchaDefaultVersion;
		}

		this.setAttribute('name', instructions.name || `grecaptchav${version}`);
		this.dataset.version = version;
		this.className = 'form-group';

		if (instructions?.options?.hidden) {
			this.style.display = 'none';
		}

		this.loadScript(siteKey);

		this.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.G_RECAPTCHA_LOADED, async () => {
			switch (version) {
				case 2:
					this.injectV2Widget(siteKey);
					break;
				case 3:
					this._value = await this.getRecaptchaToken(siteKey);
					break;
			}
		});

		this.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.ERROR, async (event) => {
			const error = event.detail;

			switch (version) {
				case 2:
					if (error.code === 'IM020' && typeof window.grecaptcha !== 'undefined' && this._grecaptchav2widget !== null) {
						window.grecaptcha.reset(this._grecaptchav2widget);
					}
					break;
				case 3:
					const v2fallback = this.form.querySelector('imt-input-grecaptcha[data-version="2"]');

					if (error.code === 'IM021' && v2fallback) {
						v2fallback.style.display = 'block';
					}
					break;
			}
		});
	}

	loadScript(siteKey) {
		if (this.form._grecaptchaScriptLoaded) {
			return;
		}
		this.form._grecaptchaScriptLoaded = true;

		const script = document.createElement('script');

		script.async = true;
		this.appendChild(script);

		script.onload = async () => {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this.form, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.G_RECAPTCHA_LOADED, { bubbles: true, detail: {} });
		};
	}

	injectV2Widget(siteKey) {
		if (typeof window.grecaptcha === 'undefined' || !siteKey) {
			return;
		}

		const container = document.createElement('div');

		container.id = 'g-recaptcha-v2-container';
		this.appendChild(container);

		const _setValue = (response) => {
			if (response) {
				this._value = response;
			}
		};

		window.grecaptcha.ready(() => {
			this._grecaptchav2widget = window.grecaptcha.render(container, {
				sitekey: siteKey,
				callback: _setValue,
			});
		});
	}

	getRecaptchaToken(siteKey) {
		return new Promise((resolve, reject) => {
			if (typeof window.grecaptcha === 'undefined' || !siteKey) {
				return resolve(null);
			}

			try {
				window.grecaptcha.ready(() => {
					window.grecaptcha.execute(siteKey, { action: 'submit' }).then((token) => {
						resolve(token);
					});
				});
			} catch (e) {
				resolve(null);
			}
		});
	}

	get hasModeSwitch() {
		return false;
	}

	get value() {
		return this._value;
	}

	set value(value) {
		if (this._value === value) return;
		this._value = value;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-grecaptcha', GRecaptcha);


/***/ }),

/***/ "./lib/inputs/hidden.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/hidden.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HiddenInput: () => (/* binding */ HiddenInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class HiddenInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get hasModeSwitch() {
		return false;
	}

	get value() {
		return this._value;
	}

	set value(value) {
		if (this._value === value) return;
		this._value = value;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this._value = value || instructions.default;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-hidden', HiddenInput);


/***/ }),

/***/ "./lib/inputs/hook.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/hook.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HookInput: () => (/* binding */ HookInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");










const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.hook;

class HookInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();

		this.panel = null;
		this._firstCreationMode = false;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return ['editable'];
	}

	extendInstructions(instructions) {
		instructions.options = instructions.options || {};
		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || 'Choose a hook';
		instructions.hookType = this.getAttribute('type');

		if (this.form?.meta.module?.package && !instructions.help) {
			instructions.help = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hints.webhook', {
				service: this.form.meta.module.package.label,
				name: this.form.meta.module.package.name.replace(/^app#/, ''),
			});
		}

		// scenarioId is only present in DLQScenario
		const scenarioId =
			this.form.meta.Inspector?.instance?.scenario?.scenarioId || this.form.meta.Inspector?.instance?.scenario?.id;

		const storeQuery = new URLSearchParams();

		if (!instructions.options.team) {
			instructions.options.team = this.getTeamId(instructions);
			if (scenarioId) {
				storeQuery.append('viewForScenarioId', scenarioId);
			}
		}

		storeQuery.append('teamId', instructions.options.team);
		storeQuery.append('assigned', 'false');
		storeQuery.append('typeName', instructions.hookType);
		storeQuery.append('pg[limit]', config.api.list.limit);

		instructions.options.store = `${config.api.list.path}?${storeQuery}`;
		instructions.theme = instructions.theme || this.form.meta.module.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_THEME;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker

		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-picker');

		picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_3__.Picker.COMPONENTS.OPTION_RENDERER, (option, item) => {
			option.setAttribute('data-editable', item.editable);
		});

		// Build the component

		metadata.build = Object.assign(metadata.build || {}, { picker });
		await super._build(instructions, value, metadata);

		// Build composed input

		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.composedInputBuilder)({
				picker,
				config,
				name: this.form.meta.module?.package?.name,
				theme: instructions.theme,
				buttons: [
					...(this.showEditBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.edit'),
									action: this._updateHandler(picker, instructions),
									enabled: (option) => (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.isAttribute)(option, 'data-editable'),
								},
						  ]
						: []),
					...(this.showAddBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.add'),
									action: this._createHandler(instructions),
								},
						  ]
						: []),
				],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		// If in readonly mode, disable all hook features
		if (this.readonly) return;

		// Info
		this._hookInfo = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.hook-info.text-right.collapse');

		this._hookUrl = this._hookInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.hook-url-wrapper.mb-2'));

		this._learnInfo = this._hookInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.collapse.small.text-left'));
		this._learnInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('p')).textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.listening', {
			title: this.form?.brand?.title,
		});

		if (instructions.options.learning) {
			this._learnButton = this._hookInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('button.btn.btn-sm.btn-xs.btn-info.mr-2'));
			this._learnButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.redetermine');
		}

		const copyButton = this._hookInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('button.btn.btn-sm.btn-xs.btn-secondary'));

		copyButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.copy');
		copyButton.addEventListener('click', async (event) => {
			try {
				await navigator.clipboard.writeText(this._hookUrl.textContent);
				// TODO new Flash imt.l 'inspector', 'panels.hooks.copied'
			} catch (ex) {
				// TODO new Prompt(hookUrl.textContent);
			}
		});

		// Attach info

		this._attachedInfo = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.hook-attach.collapse');
		this._attachedInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('p.small.text-muted')).textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.attached');

		const showButton = this._attachedInfo.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('button.btn.btn-sm.btn-info'));

		showButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.show');
		showButton.addEventListener('click', (event) => {
			event.target.remove();
			this._hookInfo.classList.toggle('collapse');
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
		});

		this._goneInfo = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.collapse');
		this._goneInfo
			.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('p.small.text-muted.mt-3'))
			.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('i.fa.far.fa-fw.fa-ban.mr-2.text-danger'), _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.gone'));

		const tools = this.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('div.input-tools'));

		tools.append(this._goneInfo);
		tools.append(this._attachedInfo);
		tools.append(this._hookInfo);

		this._learning = false;
		this._timer = null;
		let _fails = 0;

		const stop = async (err, success) => {
			if (!this._learning) return;
			this._learning = false;

			this._learnInfo.classList.add('collapse');
			this._learnButton.classList.remove('btn-danger');
			this._learnButton.classList.add('btn-info');
			this._learnButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.redetermine');

			if (!success) {
				clearTimeout(this._timer);

				try {
					await _loader_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].load(config.api.learnStop.path, {
						method: config.api.learnStop.method,
						context: {
							hookId: this.value,
						},
					});
				} catch (ex) {
					console.error(ex);
				}
			} else {
				const notification = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('small.text-success.mr-3');

				notification.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('i.far.fa-check-circle.mr-2'), _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.determined'));

				this._learnButton.parentNode.replaceChild(notification, this._learnButton);
			}

			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
		};

		const ping = (value) => {
			return async () => {
				const query = new URLSearchParams();
				let res;

				query.append('hook', value);
				try {
					res = await _loader_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].load(config.api.ping.path + `?${query.toString()}`, {
						method: config.api.ping.method,
						context: {
							hookId: value,
						},
					});
				} catch (ex) {
					if (++_fails > 3) {
						return stop(ex);
					}

					this._timer = setTimeout(ping(value), 2000);
					return;
				}

				if (res.learning) {
					this._timer = setTimeout(ping(value), 2000);
					return;
				}

				stop(null, true);
			};
		};

		const start = async () => {
			if (this._learning) return;
			this._learning = true;

			this._learnInfo.classList.remove('collapse');
			this._learnButton.classList.remove('btn-info');
			this._learnButton.classList.add('btn-danger');
			this._learnButton.innerHTML = '';
			this._learnButton.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('i.far.fa-spin.fa-circle-notch.mr-2'), 'Stop');

			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);

			try {
				await _loader_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].load(config.api.learnStart.path, {
					method: config.api.learnStart.method,
					context: {
						hookId: this.value,
					},
				});

				this._timer = setTimeout(ping(this.value), 5000);
			} catch (ex) {
				return stop();
			}
		};

		this._learnButton?.addEventListener('click', () => {
			if (this._learning) {
				stop();
			} else {
				start();
			}
		});

		const reloadHookInfo = async () => {
			const autoLearn = this._autoLearn;

			this._autoLearn = false;

			if (!this.value) {
				this._hookInfo.classList.add('collapse');
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
				return;
			}

			let res;

			try {
				res = await _loader_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].load(config.api.ping.path, {
					context: {
						hookId: this.value,
					},
					method: config.api.ping.method,
				});
			} catch (ex) {
				return console.error(ex);
			}

			if (res.gone) {
				this._attachedInfo.classList.add('collapse');
				this._goneInfo.classList.remove('collapse');
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);

				return;
			}

			this._attachedInfo.classList[res.attached ? 'remove' : 'add']('collapse');
			this._hookUrl.textContent = res.address;
			this._hookInfo.classList[!res.attached ? 'remove' : 'add']('collapse');

			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);

			if (autoLearn) {
				start();
			}
		};

		reloadHookInfo();

		this.addEventListener('input', () => reloadHookInfo());

		this._firstCreationMode = !this.hasStoreItems;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation
			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.createAddFirstAccountBtn)(instructions.theme, _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('panels.hook.create'), this._createHandler(instructions)),
			);
		}
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.instructions?.create?.redirect) {
				window.location.href = config.api.instructions.create.redirect;
				return;
			}

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				if (instructions.options.learning) this._autoLearn = true;

				await this.addOption(event.detail.data.hook);

				if (this._firstCreationMode) {
					this.querySelector('.create-connection')?.remove();
					this._firstCreationMode = false;
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
					}
				}
			});

			const instructionsQuery = new URLSearchParams();
			const metadata = {};

			instructionsQuery.append('teamId', instructions.options.team);
			instructionsQuery.append('typeName', instructions.hookType);

			if (instructions.options?.team != null) {
				metadata.teamId = instructions.options.team;
			}

			await this.panel.build(
				{
					name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('panels.hook.create'),
					help: 'kb://tools/webhooks',
					src: `${config.api.instructions.create.path}?${instructionsQuery}`,
					theme: instructions.theme,
				},
				metadata,
			);

			this.panel.open();
		};
	}

	_updateHandler(picker, instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);
			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;
			});

			const selected = picker.querySelector('imt-option[selected]');
			const metadata = { context: { hookId: selected.value } };

			if (instructions.options?.team != null) {
				metadata.teamId = instructions.options.team;
			}

			await this.panel.build(
				{
					name: selected.textContent,
					src: config.api.instructions.update.path,
					help: config.kb.path,
					theme: instructions.theme,
				},
				metadata,
			);

			this.panel.open();
		};
	}

	async stop(err, success) {
		if (!this._learning) return;
		this._learning = false;

		this._learnInfo.classList.add('collapse');
		this._learnButton.classList.remove('btn-danger');
		this._learnButton.classList.add('btn-info');
		this._learnButton.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.redetermine');

		if (!success) {
			clearTimeout(this._timer);

			try {
				await _loader_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].load(config.api.learnStop.path, {
					method: config.api.learnStop.method,
					context: {
						hookId: this.value,
					},
				});
			} catch (ex) {
				console.error(ex);
			}
		} else {
			const notification = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('small.text-success.mr-3');

			notification.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('i.far.fa-check-circle.mr-2'), _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('hooks.determined'));

			this._learnButton.parentNode.replaceChild(notification, this._learnButton);
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.dispatchResizeDebounced)(this);
	}

	disconnectedCallback() {
		this.stop();
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-hook', HookInput);


/***/ }),

/***/ "./lib/inputs/html.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/html.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HTML: () => (/* binding */ HTML)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");


class HTML extends HTMLElement {
	/**
	 * Builds the separator dom.
	 *
	 * @param instructions {object} Collection of directives.
	 */

	async build(instructions) {
		this.setAttribute('name', instructions.name || '');
		this.className = 'form-group';
		this.innerHTML = instructions.label;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-html', HTML);


/***/ }),

/***/ "./lib/inputs/input.mjs":
/*!******************************!*\
  !*** ./lib/inputs/input.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Input: () => (/* binding */ Input)
/* harmony export */ });
/* unused harmony export Nested */
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _markdown_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../markdown.mjs */ "./lib/markdown.mjs");
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types.mjs */ "./lib/types.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../helpers/iml.mjs */ "./lib/helpers/iml.mjs");
/* harmony import */ var _controls_coder_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../controls/coder.mjs */ "./lib/controls/coder.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");














const TYPES_WITH_ICON = ['text', 'number', 'date', 'password', 'integer', 'uinteger', 'email', 'time'];

/**
 * @emits modechange Emitted when mode has changed. Does not bubble.
 */

class Input extends HTMLElement {
	constructor() {
		super();

		this._id = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.uuid)();
		this._built = false;
		this._building = false;
		this._reportValueChange = true;

		this._pristine = true;
		this._untouched = true;
		this._valid = true;
		this._cache = new Map();
		this._nestedFieldsets = [];
		this._validators = [_types_mjs__WEBPACK_IMPORTED_MODULE_2__.validate];
		this._customValidators = [];

		this.addEventListener('input', (event) => {
			// Input events from map mode switches are also handled by this handler so
			// make sure we only process events generated by the input, not by the switch.
			if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(event.target, 'imt-switch')) return;

			// Do not handle value change if the field is not built. It prevents handling 'input' events
			// of nested inputs that bubbles up the tree on parent input (e.g. collection) before it's fully built.
			if (!this._built || (this._built && this._building)) return;

			// The event 'input' should be listened on this input only not on nested inputs where the event bubbles up the tree
			if (this.querySelector('imt-nested')?.contains(event.target)) return;

			this.onChange();

			if (this.isInternalChangeEvent(event)) return;
			if (this.form) {
				this.form.debug('events', 'input event handled on', this._instructions.name);
			} else {
				console.log('input event handled on not attached field', this._instructions.name);
			}

			if (this._reportValueChange && this.form) {
				this.form.values.set(this.fieldset.domain, this.path, this.value, this);
			}
		});

		this.addEventListener('focusin', (event) => {
			if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is)(event.target, 'imt-switch') && event.target.getAttribute('type') === 'mode-switch') {
				return;
			}

			this.untouched = false;
			this.field.classList.add('focused');
			event.preventDefault();
			event.stopPropagation();
		});

		this.addEventListener('focusout', (event) => {
			const activeElm = document.activeElement;
			const contains = this.field.contains && this.field.contains(activeElm);

			if (contains || this.hasConnectedCoderPanel) {
				return;
			}
			this.field.classList.remove('focused');
		});

		this.addEventListener('click', (event) => {
			event.stopPropagation();
			this.collapsed = false;
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
		});

		// TODO: this.addEventListener('focusout', this.validate.bind(this));
	}

	connectedCallback() {
		if (this.collapsed) {
			this._setPreview();
		}

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.CONNECTED, { bubbles: true });
	}

	castValue(value) {
		return value;
	}

	isInternalChangeEvent(event) {
		return false;
	}

	get castedValue() {
		return this.castValue(this.value);
	}

	get valid() {
		return this._valid;
	}

	set valid(value) {
		if (value) {
			this.removeAttribute('invalid');

			this.classList.add('valid');
			this.classList.remove('invalid');
		} else {
			this.setAttribute('invalid', '');

			this.classList.add('invalid');
			this.classList.remove('valid');
		}
		this._valid = value;
	}

	get pristine() {
		return this._pristine;
	}

	set pristine(value) {
		if (value) {
			this.classList.add('pristine');
			this.classList.remove('dirty');
		} else {
			this.classList.add('dirty');
			this.classList.remove('pristine');
		}
		this._pristine = value;
	}

	get untouched() {
		return !this._untouched;
	}

	set untouched(value) {
		if (value) {
			this.classList.add('untouched');
			this.classList.remove('touched');
		} else {
			this.classList.add('touched');
			this.classList.remove('untouched');
		}
		this._untouched = value;
	}

	get hasModeSwitch() {
		return false;
	}

	get disabled() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'disabled');
	}

	set disabled(value) {
		if (value === this.hasAttribute('disabled')) return;

		if (value) {
			if (this.panel?.panel) {
				this.panel.panel.close();
			}

			this.setAttribute('disabled', '');
		} else {
			this.removeAttribute('disabled');
		}

		// disable all nested fieldsets
		for (const fieldset of this.querySelectorAll('imt-nested > imt-fieldset')) {
			if (value) {
				fieldset.disable();
			} else {
				fieldset.enable();
			}
		}

		if (this._coder) {
			this._coder.disabled = value;
		}

		// disable all buttons associated with this input
		for (const btn of this.querySelectorAll('button')) {
			if (value) {
				btn.setAttribute('disabled', '');
			} else {
				btn.removeAttribute('disabled');
			}
		}

		this._setDisabled(value);
	}

	get readonly() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'readonly');
	}

	get omit() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'omit');
	}

	get advanced() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'advanced');
	}

	get required() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'required');
	}

	get mappable() {
		if (this.fieldset?.mappable) {
			if (this.hasAttribute('mappable')) {
				if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'mappable')) return true;
			} else {
				if (this.fieldset.defaultMappable) return true;
			}
		}

		// Backward compatibility with Formula
		// In formula every input of the array item is mappable by default
		if (this.closest('imt-input-array-item')) return true;

		return false;
	}

	get erasable() {
		if (this.hasAttribute('erasable')) return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this, 'erasable');

		return this.fieldset?.erasable;
	}

	get mode() {
		return this.getAttribute('mode') || 'pick';
	}

	set mode(value) {
		value = this._parseMode(value);
		if (this.mode === value || this.loading) return;

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.MODE_CHANGE, { detail: value, bubbles: true, cancelable: true });

		if (value === 'map') {
			// Transfer current value to Coder
			this._coder.value = this._toCoderValue(this.value);

			this.insertBefore(this._coder, this._label.nextElementSibling);
		} else {
			this.removeChild(this._coder);
		}

		this.setAttribute('mode', value);

		if (value !== 'map') {
			// Transfer value from coder to picker
			this.value = this._fromCoderValue(this._coder.value);
		}

		this.setHelp();
		this.hints();
		this.validate();

		this.querySelector('imt-switch[type="mode-switch"]').active = this.mode === 'map';

		this.setIcon();

		// Notify other that we have changed display mode
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.MODE_CHANGED, { detail: value, bubbles: true });
	}

	get name() {
		return this._instructions.name;
	}

	get path() {
		if (this._cache.has('path')) {
			return this._cache.get('path');
		}

		const parent = this.parentNode && this.parentNode.closest('imt-input-collection, [type="array-item"]');

		const name = this._instructions.name;

		if (!parent) return name;

		const path = `${parent.path}${
			typeof name !== 'undefined' ? '.' + (typeof name === 'number' ? name : IML._escape(this._instructions.name)) : ''
		}`;

		this._cache.set('path', path);

		return path;
	}

	get form() {
		if (!this._form) {
			this._form = this.closest('imt-forman');
		}

		return this._form;
	}

	get empty() {
		if (this._empty === undefined) {
			this._empty = this.classList.contains('empty');
		}

		return this._empty;
	}

	set empty(value) {
		if (this.empty === value) return;

		this._empty = value;

		if (value) {
			this.classList.add('empty');
		} else {
			this.classList.remove('empty');
		}
	}

	get fieldset() {
		return this.closest('imt-fieldset:not([nested])');
	}

	get parentField() {
		return this.closest('[field]:not(:scope)');
	}

	get field() {
		return this.closest('[field]');
	}

	get loading() {
		return this.classList.contains('loading');
	}

	set loading(value) {
		if (this.loading === value) return;

		if (value) {
			this.classList.add('loading');
		} else {
			this.classList.remove('loading');
		}

		// this.disabled = value;
	}

	get collapsed() {
		return this.classList.contains('collapsed');
	}

	set collapsed(value) {
		if (this.collapsed === value) return;

		if (value) {
			this.classList.add('collapsed');
			this._setPreview();
		} else {
			this.classList.remove('collapsed');
		}
	}

	get hasConnectedCoderPanel() {
		return (
			!!this._control?.panelController?.panel?.isConnected &&
			this._control.panelController.panel.relative === this._control
		);
	}

	get nestedFieldset() {
		return this._nestedFieldsets.find((f) => f.isConnected && !f.hidden);
	}

	get skipValidation() {
		return this._instructions && 'validate' in this._instructions && this._instructions.validate === false;
	}

	/**
	 * Used in `showNestedFieldsets`. If the getter returns true, values are read from
	 */
	get checkForNestedValues() {
		return false;
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		const instructions = {
			name: this.getAttribute('name'),
			label: this.getAttribute('label'),
			help: this.getAttribute('help'),
			required: this.hasAttribute('required'),
			disabled: this.hasAttribute('disabled'),
			readonly: this.hasAttribute('readonly'),
			autocomplete: this.getAttribute('autocomplete'),
			advanced: this.hasAttribute('advanced'),
			omit: this.hasAttribute('omit'),
			default: this.getAttribute('default'),
			type: this.nodeName.toLowerCase().match(/^imt-input-(.*)$/)[1],
			shadow: this.hasAttribute('shadow'),
			validate: this._readValidationAttributes(['min', 'max', 'pattern']),
		};

		const extendedType = this.getAttribute('type');

		if (extendedType) {
			const extendedInstructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.getExtendInstructions)(
				instructions,
				extendedType,
				_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].config.extendedFields,
			);

			if (extendedInstructions) {
				return extendedInstructions;
			}
		}

		return instructions;
	}

	/**
	 * look up validation attributes and transform values to instructions object
	 *
	 *  @return {object}  	e.q. { validate: {min: 10, max: 30 }}
	 */
	_readValidationAttributes(validators) {
		const validate = {};

		let validatorFound = false;
		for (const name of validators) {
			const value = this.getAttribute(`validate-${name}`);
			if (value) {
				validatorFound = true;
				validate[name] = value;
			}
		}

		if (validatorFound) {
			return validate;
		}
		return undefined;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Initial value.
	 * @param {object} metadata Metadata.
	 */

	async build(instructions, value, metadata = false) {
		if (this._built) return;
		this._building = true;
		this._built = true;

		// TODO [field] and .form-group seems to be used as the same selector, reduce it to use only .form-group
		this.setAttribute('field', '');

		this.className = 'form-group empty';

		if (!this.form) throw Error('Element must be attached to Forman DOM before it can be built.');

		// If input was built from html element, build instructions from the node
		if (!instructions) instructions = this.attributesToInstructions();

		// WARNING All instructions operations have to be done after this line.
		// The instructions parameter is undefined if the input is created from the DOM
		// and is set by this.attributesToInstructions();
		instructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.clone)(instructions, true);
		value = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.clone)(value, true);

		if (typeof instructions.type === 'undefined') {
			console.warn(
				`${instructions.label} type is undefined, fallbacking to 'text'. You should change config to include the type as this fallback might be removed in the future!`,
			);
			instructions.type = 'text';
		}

		if (instructions.advanced) {
			this.form._addAdvancedInput(this);

			if (!this.form.advancedParametersVisible) this.classList.add('d-none');
		}

		// Store instructions for further usage
		this._instructions = instructions;

		// Handle value changes on other fields with the same path
		this.form.values.on('change', (domain, path, value, sender) => {
			if (!this.fieldset || !this.isConnected) return; // Input not attached to the DOM TODO Find a better solution

			if (domain !== this.fieldset.domain || path !== this.path || sender === this) return;

			this._reportValueChange = false;
			this.value = value;
			this._reportValueChange = true;

			// Validate new value
			setTimeout(this.validate.bind(this), 1);
		});

		// Resolve initial value
		if (value === undefined || value === '') {
			// Value is empty, let's check whether there's a value in values store from another field with same name
			value = this.form.values.get(this.fieldset.domain, this.path);
		}

		// Because of OAuth flow
		if (instructions.visible === false) this.classList.add('d-none');

		if (instructions.name) this.setAttribute('name', instructions.name);
		if (instructions.required) this.setAttribute('required', '');

		// TODO: Formula maxResults default default value hack, should be defined in the instructions directly
		if (
			instructions.name === 'maxResults' &&
			/{{l:panels\.module\.maxresults@inspector}}/.test(instructions.help) &&
			typeof instructions.default === 'undefined'
		) {
			instructions.default = 1;
		}

		if ((value === undefined || value === '') && instructions.default !== undefined && !metadata?.restore?.empty) {
			value = instructions.default;
		}

		// Store initial value to form's values
		this.form.values.set(this.fieldset.domain, this.path, value, this, true);

		if (instructions.readonly) this.setAttribute('readonly', '');
		if (instructions.advanced) this.setAttribute('advanced', '');
		if (instructions.shadow) this.setAttribute('shadow', '');

		let mappable = undefined;

		if ('editable' in instructions) mappable = instructions.editable;
		if ('mappable' in instructions) mappable = instructions.mappable;
		if (typeof mappable !== 'undefined') {
			if (Object(mappable) === mappable) {
				this.setAttribute('mappable', 'enabled' in mappable ? mappable.enabled : true);
			} else {
				this.setAttribute('mappable', mappable);
			}
		}
		if (instructions.erasable === false) this.setAttribute('erasable', 'false');
		if (instructions.omit) this.setAttribute('omit', '');

		this.inputType = instructions.type;
		this.specType = this.inputType === 'select' ? instructions?.spec?.type : null;

		const expander = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-expander');

		expander.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span')); // To make animations possible without rotating whole square
		this.appendChild(expander);
		expander.addEventListener('click', (event) => {
			this.validate();
			this.collapsed = !this.collapsed;
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
			event.stopImmediatePropagation();
		});

		this._label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('label');
		this._label.setAttribute('for', this._id);
		this.appendChild(this._label);

		// Add textContent after the icon
		// markdown escapes HTML, therefore innerHTML is safe to use
		const labelContent = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.label-text-content');

		if (instructions.label) {
			labelContent.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_1__.markdown)(instructions.label);
		} else {
			labelContent.innerText = instructions.name;
		}

		this._label.appendChild(labelContent);
		this._labelContent = labelContent;
		this.setIcon();

		// Input actions wrapper
		this._actions = this._label.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.input-actions'));
		this._labelPreview = this._label.insertBefore((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.label-preview'), this._actions);

		let modeSwitch;

		if (!instructions.readonly && this.hasModeSwitch) {
			// Attach extra text input for map mode
			this._coder = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`imt-coder#${this._id}_coder`);
			this._coder.value = value != null ? value : '';
			if (instructions.readonly) this._coder.readonly = true;
			if (instructions.disabled) this._coder.disabled = true;

			const modeSwitchWrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.mode-switch');
			const label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.mode-switch-label.ml-1.text-muted');

			label.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('buttons.map');

			// Attach mode switch
			modeSwitch = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('imt-switch.xs[type="mode-switch"]');

			modeSwitch.addEventListener('input', () => {
				this.mode = modeSwitch.active ? 'map' : 'pick';
				this.form.saveFieldsetState(this.fieldset);
			});

			modeSwitchWrapper.append(modeSwitch, label);
			this._actions.append(modeSwitchWrapper);

			this.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.MODE_CHANGED, (event) => {
				if (event.target === this || event.target.path !== this.path || this.parentField === event.target.parentField)
					return;
				this.mode = event.target.mode;
				modeSwitch.active = this.mode === 'map';
			});
		}

		this.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.BUILT, () => {
			if (instructions?.autofocus != null) {
				this._control?.focus();
			}
		});

		this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.HAS_DYNAMIC_NESTED, (event) => {
			if (!instructions.readonly && !this._actions.querySelector('div.nested-refresh')) {
				const nestedRefreshWrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.nested-refresh.text-muted');
				const refresh = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('i.fa.fa-fw.fa-redo.nested-refresh-button');
				const label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.nested-refresh-label.ml-1');

				label.textContent = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('buttons.refresh');

				nestedRefreshWrapper.addEventListener('click', () => {
					this.querySelector('imt-nested').remove();

					if (this.nodeName === 'IMT-INPUT-SELECT') {
						this.loading = true;
						this._control.reload().then(() => {
							(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
							this.loading = false;
						});
					} else {
						(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
					}
				});

				nestedRefreshWrapper.append(refresh, label);
				this._actions.appendChild(nestedRefreshWrapper);
			}
		});

		instructions = this.extendInstructions(instructions, value, metadata);

		this._validationMessages = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-validations');
		this._errorMessages = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-errors');

		await this._build(instructions, value, metadata);

		this.append(this._errorMessages, this._validationMessages);

		this.setHelp();

		const hints = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('ul.form-hints');

		this.appendChild(hints);
		this.hints();

		const loader = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.loader');

		loader.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.loader-circle'),
		);
		this.appendChild(loader);

		// Re-append the nested fieldsets to keep them as the last element of the input
		// in order to preserve hints and validation errors immediately below the input
		const nested = this.querySelector(':scope > imt-nested');

		if (nested) this.appendChild(nested);

		if (!instructions.readonly && this.hasModeSwitch) {
			// This must occurs after the input field is built
			const currentMode = this.mode;

			this.mode = metadata?.restore?.mode || this._instructions.mode || 'pick';

			// if we are restoring from an old blueprint, field is in pick mode and the value is an IML string, set the mode to map
			// solves: https://integromat.atlassian.net/browse/CDM-6868
			if (this.mode === 'pick' && this.form.meta.restoreVersion === 1 && typeof value === 'string') {
				const iml = IML.parse(value);

				this.mode = Array.isArray(iml) && iml.some((node) => node.type !== 'text') ? 'map' : 'pick';
			}

			modeSwitch.active = this.mode === 'map';
			if (currentMode !== this.mode && this.value !== value) {
				this.value = value;
			}
		}

		this.disabled = !!instructions.disabled;

		// Validate initial value
		this._init();

		if (metadata?.restore?.collapsed) this.collapsed = true;
		this._building = false;

		setTimeout(() => {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_11__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.BUILT, { bubbles: true });
		}, 0);
	}

	setHelp() {
		const instructions = this._instructions;
		let help = instructions.help || '';

		if (this.mode === 'map') {
			help = instructions?.mappable?.help || instructions?.editable?.help || help;
		}

		if (!this.helpElement) {
			this.helpElement = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`div.form-text.text-muted`);
			this.appendChild(this.helpElement);
		}

		this.helpElement.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_1__.markdown)(help);
	}

	setTitle(titleType) {
		const title = `Type: ${titleType}`;

		if (window.jQuery) {
			if (this._labelContent.hasAttribute('data-original-title')) {
				jQuery(this._labelContent).attr('data-original-title', title);
			} else {
				jQuery(this._labelContent).tooltip({ title });
			}
		}
	}

	setIcon() {
		const prependIcon = (type) => {
			const icon = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`div.form-icon.form-icon-${type}`);

			if (this.hasAttribute('type')) {
				icon.classList.add(`type-${this.getAttribute('type')}`);
			}

			this._label.prepend(icon);
		};

		const mapType = this.specType || this.inputType;

		if (TYPES_WITH_ICON.includes(this.inputType)) {
			prependIcon(this.inputType);
			this.setTitle(this.inputType);
		} else if (this.mode === 'map' && TYPES_WITH_ICON.includes(mapType)) {
			prependIcon(this.specType || this.inputType);
			this.setTitle(this.specType || this.inputType);
		} else {
			const icon = this._label.querySelector('.form-icon');

			if (icon) {
				this._label.removeChild(icon);
			}

			this.setTitle(this.inputType);
		}
	}

	/**
	 * Updates list of hints with most recent values based on the current mode.
	 */

	hints() {
		if (!this._built) return;

		const wrapper = this.querySelector(':scope > ul.form-hints');

		wrapper.innerHTML = '';

		this._hints((icon, text) => {
			const li = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('li.text-muted');
			const span = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span');

			span.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_1__.markdown)(text);
			li.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`i.far.fa-fw.fa-${icon}`));
			li.appendChild(span);
			wrapper.appendChild(li);
		});
	}

	/**
	 * Builds the list of hints to be shown with the field.
	 */

	_hints(hint) {
		// Nothing to do here, whould be overrided by the specific field implementation.
	}

	/**
	 * Forces validate and mark field as touched (shows errors)
	 * @return {boolean} Method returns false to indicate this field is no valid. Otherwise, returns true.
	 */
	validate() {
		this.untouched = false;
		this._runValidators();

		return this.valid;
	}

	_init() {
		this.pristine = true;
		this.untouched = true;
		this.valid = true;

		this._runValidators(true);

		this._storeContext();
	}

	onChange() {
		this.pristine = false;
		this.untouched = false;

		this._runValidators(false);

		this._storeContext();
	}

	_storeContext() {
		if (this._instructions?.isContext && this.form?.meta?.imlContext) {
			this.form.meta.imlContext[this._instructions.name] = this.value;
		}
	}

	disconnectedCallback() {
		if (this._instructions?.advanced) {
			this.form._removeAdvancedInput(this);
		}
	}

	_runValidators(init = false) {
		if (!this._built) return;

		if (this.skipValidation) {
			return true;
		}

		if (this.form) {
			this.form.debug('validation', `validating value '${this.name}' in domain '${this.fieldset?.domain}'`);
		}

		const value = this.value;
		const problems = [];
		let valid = true;

		this.empty = value == null || value === '';

		if (this.containsIML()) {
			// When value contains IML, use Coder validations instead
			problems.push(...this._coder.errors);
		} else {
			// Any _validation method can return false to indicate this field is no valid without providing a reason
			valid = this._validate(value, problems, init);
		}

		if (problems.length || valid === false) {
			if (problems.length) {
				const msgs = problems.map((err) => {
					if (typeof err === 'string') return err;
					return err.message;
				});

				this.errors = msgs;
				this._validationMessages.textContent = msgs.join('\n');
			}

			if (this.valid) {
				this.valid = false;
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
			}

			return false;
		} else {
			this.errors = [];
			if (!this.valid) {
				this.valid = true;
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.dispatchResizeDebounced)(this);
			}
			return true;
		}
	}

	/**
	 * Performs value validation for type defined by this input field.
	 *
	 * @param {*} value Value to validate, same as getting `this.value`.
	 * @param {Array} problems Array of strings containing all generated validation problems.
	 * @returns {boolean} Method can return false to indicate this field is no valid without providing a reason. Otherwise, return value is ignored.
	 */

	_validate(value, problems) {
		for (const validator of this._validators) {
			try {
				validator(value, this._instructions.type, this._instructions, {
					timezone: this.form.timezone,
					depth: 0, // Prevents validation of nested structures.
				});
			} catch (err) {
				problems.push(err);
			}
		}

		if (this._customValidators?.length) {
			this._customValidators.forEach((validator) => {
				const result = validator(value, this._instructions.type, this._instructions);

				if (!result.valid) {
					problems.push(new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_10__.ValidationError(result.message, result.code || 'custom-validator'));
				}
			});
		}
	}

	/**
	 * Register custom validator
	 *
	 * @param {*} customValidatorFn (value, type, instructions) => { valid: boolean, message: string, code?: string }
	 */

	registerCustomValidator(customValidatorFn) {
		this._customValidators.push(customValidatorFn);
	}

	clearCustomValidators() {
		this._customValidators = [];
	}

	extendInstructions(instructions, value, metadata) {
		return instructions;
	}

	addServerValidationError(message) {
		this.setAttribute('invalid', '');
		this._validationMessages.textContent = message;
	}

	_toCoderValue(value) {
		return value;
	}

	_fromCoderValue(value) {
		return value;
	}

	_parseMode(value) {
		if (value !== 'map' && value !== 'pick') {
			// edit = map, choose = pick - backward compatibility with Integromat 1.x
			if (value === 'edit') {
				value = 'map';
			} else if (value === 'chose' || value === 'choose') {
				// We have to support both 'chose' and 'choose'. 'chose' is used in blueprint and 'choose' is defined in apps doc
				value = 'pick';
			} else {
				throw new Error(`Invalid mode '${value}'.`);
			}
		}

		return value;
	}

	getState() {
		const state = {};

		if (!this._instructions.readonly && this.hasModeSwitch) {
			state.mode = this.mode === 'pick' ? 'chose' : 'edit'; // TODO Set mode to be compatible with Formula in case we have to switch back to Formula
		}

		if (this.collapsed) {
			state.collapsed = true;
		}

		if ((this.value === undefined || this.value === '') && this._instructions.default) {
			state.empty = true;
		}

		const nestedFieldset = this.querySelector(
			':scope > imt-nested > imt-fieldset[dynamic]:not([disabled]):not([hidden])',
		);

		if (nestedFieldset) {
			state.nested = nestedFieldset.fields.map((field) => field._instructions);
		}

		return state;
	}

	getValidateInstructions() {
		const instructions = {
			name: this._instructions.name,
			type: this._instructions.type,
		};

		if (this._instructions.label !== this._instructions.name) {
			instructions.label = this._instructions.label;
		}

		if (this._instructions.validate) {
			instructions.validate = this._instructions.validate;
		}

		if (this._instructions.metadata) {
			instructions.metadata = this._instructions.metadata;
		}

		if (this._instructions.mode) {
			instructions.mode = this._instructions.mode;
		}

		if (this.required) {
			instructions.required = true;
		}

		return instructions;
	}

	containsIML() {
		return this.mode === 'map' && this._coder && this._coder.containsIML;
	}

	getPreview(value) {
		value = this.value;

		if (value === null || value === undefined || value === '') {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.empty').toLowerCase()}>`;
		} else if (typeof value === 'string') {
			const trimmed = value.trim();

			return trimmed === '' && trimmed.length < value.length
				? `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.whitespace').toLowerCase()}>`
				: this.value;
		} else if (typeof value === 'string' || typeof value === 'number') {
			return this.value;
		} else if (typeof value === 'boolean') {
			return value ? 'True' : 'False';
		} else {
			return JSON.stringify(value);
		}
	}

	_rpcSearchHandler(rpcButton, rpc, isArrayInput) {
		return async (event) => {
			if (this.panel) return;
			if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.isAttribute)(this.closest('[field]'), 'disabled')) return;

			rpcButton.setAttribute('disabled', '');
			this.disabled = true;

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_3__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PANEL.CLOSE, (event) => {
				rpcButton.removeAttribute('disabled');
				this.disabled = false;
				this.panel = null;
			});

			await this.panel.build(
				{
					name: rpc.label,
					config: rpc.parameters,
					buttons: [
						{
							action: 'close',
							label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('common.close'),
						},
						{
							label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('panels.rpc.ok'),
							action: 'handler',
							handler: async (e) => {
								if (!this.panel.form.validate()) return;

								let response;
								const panel = this.panel.panel;

								panel.body.innerHTML = '';
								panel.setLoading(true);
								try {
									response = await _loader_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].load(rpc.url, {
										data: {
											...this.panel.form.value,
											...this.fieldset.rpcData,
										},
									});
								} catch (e) {
									panel.warn(e.message);
									return;
								}

								panel.setLoading(false);

								if (!Array.isArray(response)) {
									panel.warn(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('errors.invalidResponse'));
								} else if (response.length === 0) {
									panel.warn(_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_6__.I18n.l('errors.noMatches'));
								}

								if (response.length === 1) {
									panel.close();

									if (isArrayInput) {
										this.addItem(response[0].value);
										(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
									} else {
										this.value = response[0].value;
										(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
									}
									if (this._runValidators) {
										this._runValidators();
									}
								} else {
									const wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.list-group');

									for (const item of response) {
										const el = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`button.list-group-item[type="button"] ${item.label || item.value}`);

										el.addEventListener('click', (e) => {
											panel.close();

											if (isArrayInput) {
												this.addItem(item.value);
											} else {
												this.value = item.value;
												(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
											}
											if (this._runValidators) {
												this._runValidators();
											}
										});

										wrapper.append(el);
									}

									panel.body.append(wrapper);
								}
							},
						},
					],
				},
				{ body: { ...this.fieldset.rpcData } },
			);

			this.panel.open();
		};
	}

	_setDisabled(disabled) {}

	_setPreview() {
		if (!this._labelPreview) {
			return;
		}

		const preview = this.getPreview();
		const ast = IML.parse(preview, undefined, undefined, { keepUnwantedOperators: true });
		const controller = this.form?.coderPanelController;

		if (ast?.length > 0 && controller) {
			this._labelPreview.innerHTML = '';
			for (const el of (0,_helpers_iml_mjs__WEBPACK_IMPORTED_MODULE_8__.astToDOM)(
				ast,
				controller.variables,
				undefined,
				false,
				this.form ? _controls_coder_mjs__WEBPACK_IMPORTED_MODULE_9__.Coder.cache.get(this.form.meta?.pills) : {},
				this.form ? this.form.meta.zone?.customVariables?.variables : [],
			)) {
				el.style = '';
				this._labelPreview.appendChild(el);
			}
		} else {
			this._labelPreview.textContent = preview;
		}
	}
}

class Nested extends HTMLElement {
	constructor() {
		super();
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input', Input);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-nested', Nested);


/***/ }),

/***/ "./lib/inputs/integer.mjs":
/*!********************************!*\
  !*** ./lib/inputs/integer.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IntegerInput: () => (/* binding */ IntegerInput)
/* harmony export */ });
/* harmony import */ var _number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.mjs */ "./lib/inputs/number.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _types_integer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types/integer.mjs */ "./lib/types/integer.mjs");




class IntegerInput extends _number_mjs__WEBPACK_IMPORTED_MODULE_0__.NumberInput {
	castValue(value) {
		return (0,_types_integer_mjs__WEBPACK_IMPORTED_MODULE_2__.cast)(value);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-integer', IntegerInput);


/***/ }),

/***/ "./lib/inputs/json.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/json.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JSONInput: () => (/* binding */ JSONInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class JSONInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	// Temporarily disabled codermirror as it makes problems in platforms
	// get value() {
	// 	const value = this._control.value;
	//
	// 	if (typeof CodeMirror === 'undefined' && this.valid) {
	// 		// remove formating from the json string
	// 		return value.replace(/("[^"]*")|\s/g, '$1');
	// 	}
	//
	// 	return value;
	// }
	//
	// /**
	//  * Converts attributes of the dom element to instructions object.
	//  *
	//  * @return {object}
	//  */
	//
	// attributesToInstructions() {
	// 	return Object.assign(super.attributesToInstructions(), {
	// 		schema: this.getAttribute('schema'),
	// 	});
	// }
	//
	// /**
	//  * Builds the input dom.
	//  *
	//  * @param instructions {object} Collection of directives.
	//  * @param value {any} Initial value.
	//  * @param metadata {object} Metadata.
	//  */
	//
	// async _build(instructions, value, metadata) {
	// 	this._control = document.createElement('textarea');
	// 	if (instructions.readonly) this._control.setAttribute('readonly', '');
	// 	this._control.disabled = instructions.disabled;
	// 	this._control.name = instructions.name || instructions.name;
	// 	this._control.id = this._id;
	// 	this._control.value = value != null ? value : '';
	//
	// 	this.appendChild(this._control);
	//
	// 	if (typeof CodeMirror !== 'undefined') {
	// 		this._editor = CodeMirror.fromTextArea(this._control, {
	// 			lineNumbers: true,
	// 			lineWrapping: true,
	// 			matchBrackets: true,
	// 			indentWithTabs: true,
	// 			indentUnit: 4,
	// 			tabSize: 4,
	// 			mode: 'application/json',
	// 			viewportMargin: Infinity,
	// 		});
	// 		this._editor.setOption('lint', this._editor.getValue().trim());
	//
	// 		this.querySelector('.CodeMirror').style.height = 'auto';
	// 		this._editor.on('change', (e) => {
	// 			// this._control.value = this._editor.getValue();
	// 			this._editor.save();
	// 		});
	// 	} else {
	// 		if (value && typeof value === 'string') {
	// 			this._control.value = JSON.stringify(JSON.parse(value), ' ', 4);
	// 		}
	//
	// 		this._control.classList.add('form-control');
	// 	}
	// }
	//
	// _setDisabled(disabled) {
	// 	this._editor.setOption('readOnly', disabled);
	// }
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-json', JSONInput);


/***/ }),

/***/ "./lib/inputs/keychain.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/keychain.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KeychainInput: () => (/* binding */ KeychainInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");









const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].config.fields.keychain;

class KeychainInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();

		this.panel = null;
		this._firstCreationMode = false;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return [];
	}

	extendInstructions(instructions) {
		instructions.options = instructions.options || {};
		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || 'Choose a key';
		instructions.options.team = this.getTeamId(instructions);
		instructions.keyType = this.getAttribute('type');

		const storeQuery = new URLSearchParams();

		storeQuery.append('teamId', instructions.options.team);
		storeQuery.append('pg[limit]', config.api.list.limit);

		instructions.options.store = `${config.api.list.path}?${storeQuery}`;
		instructions.theme = instructions.theme || this.form.meta.module.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_THEME;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker

		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');

		if (typeof value === 'undefined') {
			value = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.resolveDefaultInputValue)(this, instructions.type);
		}

		// Build the component

		metadata.build = Object.assign(metadata.build || {}, { picker });
		await super._build(instructions, value, metadata);

		// Build composed input

		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.composedInputBuilder)({
				picker,
				config,
				name: this.form.meta.module?.package?.name,
				theme: instructions.theme,
				buttons: this.showAddBtn
					? [
							{
								label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.add'),
								action: this._createHandler(instructions),
							},
					  ]
					: [],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		this._firstCreationMode = !this.hasStoreItems;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation
			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createAddFirstAccountBtn)(
					instructions.theme,
					_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.keychain.create'),
					this._createHandler(instructions),
				),
			);
		}
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.create?.redirect) {
				window.location.href = config.api.create.redirect;
				return;
			}

			const storeQuery = new URLSearchParams();

			storeQuery.append('pg[limit]', config.api.listTypes.limit);

			const types = await _loader_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].load(`${config.api.listTypes.path}?${storeQuery}`);
			const type = types[config.api.listTypes.wrapper]?.find((key) => key.name === instructions.keyType);

			if (!type) {
				this.disabled = false;
				throw new Error('Type not found in the keychain.');
			}

			type.parameters.unshift(
				{
					type: 'hidden',
					name: 'imtKeyTeamId',
					default: instructions.options.team,
				},
				{
					type: 'hidden',
					name: 'imtKeyTypeName',
					default: type.name,
					required: true,
				},
				{
					type: 'text',
					name: 'imtKeyName',
					label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.name'),
					required: true,
					default: `My ${type.label || type.name} key`,
				},
			);

			const panelConfig = {
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.keychain.add'),
				help: config.kb.path,
				config: type.parameters,
				buttons: [
					{
						action: 'submit',
						label: 'Create',
					},
				],
				theme: instructions.theme,
			};

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_3__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.SUBMITTED, async (event) => {
				event.preventDefault(); // Prevent closing panel before the create API call is performed
				this.disabled = false;

				// TODO Call directly in remoteFormPanel
				const response = await event.detail.form.save({
					method: 'POST',
					action: config.api.create.path,
				});

				this.addOption(response[config.api.create.wrapper]);

				event.detail.panel.close();

				if (this._firstCreationMode) {
					this.querySelector('.create-connection')?.remove();
					this._firstCreationMode = false;
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
					}
				}
			});

			await this.panel.build(panelConfig);

			this.panel.form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.ERROR, (event) => {
				event.preventDefault();

				this.panel.panel.warn(event.detail);
			});

			this.panel.open();
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-keychain', KeychainInput);


/***/ }),

/***/ "./lib/inputs/list.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/list.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListInput: () => (/* binding */ ListInput)
/* harmony export */ });
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* global moment */





class ListInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_2__.SelectInput {
	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		instructions.mappable = false;

		if (!metadata.build) {
			metadata.build = {};
		}

		metadata.build.picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');
		metadata.build.picker.list = true;
		metadata.build.pickerPath = () => this.form.meta.commonRpcParameters;
		metadata.build.picker.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_0__.Picker.COMPONENTS.OPTION_RENDERER, (option, item, options) => {
			options.classList.add('list-group');
			option.classList.add('list-group-item', 'flex-column', 'align-items-start');
			option.textContent = '';

			const labelField = metadata.build.picker.getAttribute('label-field') || 'label';
			const valueField = metadata.build.picker.getAttribute('value-field') || 'value';
			const desc = item.description || moment(item.date).format('L LT');
			const title = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.list-group-title');
			const subtitle = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('small.text-muted');

			title.textContent = item[labelField] || item[valueField];
			if (subtitle) {
				subtitle.textContent = desc;
			}

			option.append(title);
			if (subtitle) {
				option.append(subtitle);
			}
		});

		await super._build(instructions, value, metadata);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-list', ListInput);


/***/ }),

/***/ "./lib/inputs/markdown.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/markdown.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Markdown: () => (/* binding */ Markdown)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _markdown_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../markdown.mjs */ "./lib/markdown.mjs");



class Markdown extends HTMLElement {
	/**
	 * Builds the separator dom.
	 *
	 * @param instructions {object} Collection of directives.
	 */

	async build(instructions) {
		this.setAttribute('name', instructions.name || '');
		this.className = 'form-group';
		this.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_1__.markdown)(instructions.label);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-markdown', Markdown);


/***/ }),

/***/ "./lib/inputs/number.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/number.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NumberInput: () => (/* binding */ NumberInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _types_number_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types/number.mjs */ "./lib/types/number.mjs");




class NumberInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	castValue(value) {
		return (0,_types_number_mjs__WEBPACK_IMPORTED_MODULE_2__.cast)(value);
	}

	set value(value) {
		super.value = value;
	}

	get value() {
		const value = super.value;

		return this.isCoder() ? value : this.castValue(value);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-number', NumberInput);


/***/ }),

/***/ "./lib/inputs/password.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/password.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PasswordInput: () => (/* binding */ PasswordInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class PasswordInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		await super._build(instructions, value, metadata);
		this._control.type = 'password';

		if (!this.mappable) {
			this.classList.add('has-password');
			const btnContainer = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.password-button-container');
			const showPasswordBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('button.show-password[type="button"]');
			const icon = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('i.fas.fa-eye-slash');

			this.append(btnContainer);
			btnContainer.append(this._control);
			btnContainer.append(showPasswordBtn);
			showPasswordBtn.append(icon);
			showPasswordBtn.addEventListener('click', (e) => {
				if (this._control.type === 'password') {
					this._control.type = 'text';
					icon.classList.remove('fa-eye-slash');
					icon.classList.add('fa-eye');
				} else {
					this._control.type = 'password';
					icon.classList.remove('fa-eye');
					icon.classList.add('fa-eye-slash');
				}
			});
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-password', PasswordInput);


/***/ }),

/***/ "./lib/inputs/path.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/path.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathInput: () => (/* binding */ PathInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class PathInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-path', PathInput);


/***/ }),

/***/ "./lib/inputs/pkey.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/pkey.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PkeyInput: () => (/* binding */ PkeyInput)
/* harmony export */ });
/* harmony import */ var _cert_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cert.mjs */ "./lib/inputs/cert.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");







class PkeyInput extends _cert_mjs__WEBPACK_IMPORTED_MODULE_0__.CertInput {
	extendInstructions(instructions, value, metadata) {
		const button = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`button.btn.btn-outline-secondary Extract`);

		button.addEventListener('click', async (event) => {
			if (this.panel) return;

			this.disabled = true;

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](button);

			await this.panel.build({
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_4__.I18n.l('buttons.extract'),
				src: `${_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].config.fields.pkey.api.instructions.path}?type=pkey`,
				theme: instructions.theme,
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].FORM.SUBMITTED, (event) => {
				this.disabled = false;

				if (Array.isArray(event.detail.data) && event.detail.data[0]) {
					this.value = event.detail.data[0];
					this.onChange();
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;
			});

			this.panel.open();
		});

		instructions.multiline = true;
		instructions.buttons = [button];
		return instructions;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-pkey', PkeyInput);


/***/ }),

/***/ "./lib/inputs/port.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/port.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PortInput: () => (/* binding */ PortInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class PortInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-port', PortInput);


/***/ }),

/***/ "./lib/inputs/radio.mjs":
/*!******************************!*\
  !*** ./lib/inputs/radio.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RadioInput: () => (/* binding */ RadioInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _markdown_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../markdown.mjs */ "./lib/markdown.mjs");







class RadioInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get value() {
		const radio = this._control.querySelector('input[type="radio"]:checked');

		if (!radio) return;

		if (this.getAttribute('content-type') === 'number') {
			return Number(radio.getAttribute('value'));
		} else {
			return radio.getAttribute('value');
		}
	}

	set value(value) {
		const radio = this._control.querySelector(
			`input[type="radio"][value="${value}"]${'number' === typeof value ? 'content-type="number"' : ''}`,
		);

		if (radio) {
			radio.checked = true;
		}
	}

	get hasModeSwitch() {
		return this.mappable;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this._control = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.wrapper');

		this.options = _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.normalizeOptions(instructions.options);

		if ('string' === typeof this.options.store) {
			this.options.store = await _loader_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].load(this.options.store);
		}

		this.options.store.forEach((option, index) => {
			const wrapper = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.form-check');

			const value = option[instructions.options.value || 'value'];
			const id = `${this._id}-${++index}`;

			const radio = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input.form-check-input[type="radio"]');

			radio.setAttribute('id', id);
			radio.setAttribute('name', instructions.name);
			radio.setAttribute('value', value);

			if ('number' === typeof value) {
				radio.setAttribute('content-type', 'number');
			}

			if (option.default || instructions.default === value) {
				radio.checked = true;
			}

			const label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('label.form-check-label');

			label.setAttribute('for', id);
			label.textContent = option[this.options.label || 'label'];

			wrapper.append(radio);
			wrapper.append(label);

			if (option.nested) {
				wrapper.append((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-nested'));
			}

			if (option.help) {
				const help = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)(`div.form-text.text-muted`);

				help.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_5__.markdown)(option.help);
				wrapper.appendChild(help);
			}

			this._control.append(wrapper);
		});

		this.appendChild(this._control);

		this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].FORM.CHANGE, (e) => {
			const item = this.querySelector(`input[value="${this.value}"]`);

			if (e.target !== item) return;

			const nested = item.querySelector(`:scope ~ imt-nested`) || item.parentElement.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-nested'));
			const nestedsToHide = Array.from(this.querySelectorAll(':scope > .wrapper > .form-check > imt-nested')).filter(
				(n) => n !== nested,
			);

			// TODO send value and metadata
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this, null, null, false, nested, nestedsToHide);
		});

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this, null, null, false);
	}

	_setDisabled(disabled) {
		for (const node of this._control.querySelectorAll('.form-check-input')) {
			if (disabled) {
				node.setAttribute('disabled', '');
			} else {
				node.removeAttribute('disabled');
			}
		}
	}

	attributesToInstructions() {

		const options = [];

		for (const node of this.querySelectorAll('imt-option')) {
			if (!node.hasAttribute('value')) throw new Error('Option without value attribute.');
			this.removeChild(node);

			options.push({
				label: node.textContent,
				value: node.value,
			});
		}

		const parentInstructions = super.attributesToInstructions();

		return {
			...parentInstructions,
			options: options.length ? options : this.getAttribute('options')
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-radio', RadioInput);


/***/ }),

/***/ "./lib/inputs/range.mjs":
/*!******************************!*\
  !*** ./lib/inputs/range.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RangeInput: () => (/* binding */ RangeInput)
/* harmony export */ });
/* harmony import */ var _number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.mjs */ "./lib/inputs/number.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _range_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./range.scss */ "./lib/inputs/range.scss");




class RangeInput extends _number_mjs__WEBPACK_IMPORTED_MODULE_0__.NumberInput {
	async build(instructions, value, metadata = false) {
		super.build(instructions, value, metadata);

		const numberInput =
			this.querySelector('imt-coder') == null ? this.querySelector('.form-control') : this.querySelector('imt-coder');

		numberInput.style.display = 'none';

		if (value == undefined) {
			this.value =
				instructions.max < instructions.min
					? instructions.min
					: Math.floor(instructions.min + (instructions.max - instructions.min) / 2);
		} else {
			this.value = value;
		}

		const formGroup = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.form-group');
		const input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input.form-control-range');
		const label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('div.range-label');

		const label1 = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('p');
		const label2 = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('p');

		label1.innerHTML = instructions.min;
		label2.innerHTML = instructions.max;

		label.appendChild(label1);
		label.appendChild(label2);

		const output = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('span.range-output');

		output.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('span.value'));

		input.setAttribute('type', 'range');
		input.setAttribute('name', 'rangeBar');
		input.setAttribute('min', instructions.min);
		input.setAttribute('max', instructions.max);
		input.setAttribute('step', instructions.step);
		input.setAttribute('value', this.value);

		this.setPositionOfValue(instructions, output, this.value, numberInput);

		input.addEventListener('input', (event) => {
			this.setPositionOfValue(instructions, output, event.target.value, numberInput);
			this.value = event.target.value;
		});

		if (instructions.disabled == true || instructions.readonly) {
			input.disabled = true;
		}

		formGroup.appendChild(label);
		formGroup.appendChild(input);
		formGroup.appendChild(output);

		this.appendChild(formGroup);
	}

	setPositionOfValue(instructions, value, number, numberInput) {
		numberInput.innerHTML = number;
		const min = instructions.min;
		const max = instructions.max;
		const newValue = Number(((number - min) * 100) / (max - min));
		const valueSpan = value?.querySelector('span.value');
		let newPosition = 10 - newValue * 0.2;

		if (!valueSpan) {
			return;
		}

		valueSpan.innerText = number;
		if (
			(newValue / 100) * this.offsetWidth + value.children[0].offsetWidth / 2 - 10 > this.offsetWidth ||
			Number(number) === max
		) {
			const left = this.offsetWidth - value.children[0].offsetWidth * 0.5 + 'px';

			value.setAttribute('style', `left: ${left}`);
		} else {
			if (Number(number) === min) {
				if (min < 10) {
					newPosition -= 5;
				}

				if (min > 9) {
					value.style.left = value.children[0].offsetWidth / 2 + 'px';
					return;
				}

				value.style.left = `calc(${newValue}% + (${newPosition}px))`;
			} else {
				value.style.left = `calc(${newValue}% + (${newPosition}px))`;
			}
		}
	}

	get hasModeSwitch() {
		return this.mappable || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(this, 'mappable');
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-range', RangeInput);


/***/ }),

/***/ "./lib/inputs/scenario.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/scenario.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScenarioInput: () => (/* binding */ ScenarioInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _scenario_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scenario.scss */ "./lib/inputs/scenario.scss");








const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.fields.scenario;

class ScenarioInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	get mappable() {
		return false;
	}

	extendInstructions(instructions, value, metadata) {
		const storeQuery = new URLSearchParams();

		storeQuery.append('teamId', this.getTeamId(instructions));
		storeQuery.append('pg[limit]', config.list.limit);

		instructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.setInstructionsDefault)('grouped', instructions, config.list);
		instructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.setInstructionsDefault)('showSearcher', instructions, config.list);
		instructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.setInstructionsDefault)('showValue', instructions, config.list);
		instructions.searcherPlaceholder = instructions.searcherPlaceholder || _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('scenario.searchLabel');
		instructions.options.store = instructions.options.store || `${config.list.path}?${storeQuery}`;
		instructions.options.wrapper = instructions.options.wrapper || config.list.wrapper;
		instructions.options.value = instructions.options.value || config.list.value;
		instructions.options.label = instructions.options.label || config.list.label;

		return instructions;
	}

	connectedCallback() {
		setTimeout(() => {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].addListener(this._control, _events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PICKER.CHANGED, (e) => {
				const scenarioData = e?.target?.getOptionData();

				this.renderScenarioInfo(scenarioData);
			});
		});
	}

	renderScenarioInfo(scenarioData) {
		const currentInfo = this.querySelector('.scenario-info');

		if (currentInfo) {
			currentInfo.remove();
		}

		if (!scenarioData?.id) {
			return;
		}

		const html = `
			<div class="scenario-info mb-3">
				<div class="d-flex justify-content-between w-100">
					<div>
						${
							scenarioData.active
								? `<span class="badge badge-success">${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('scenario.active')}</span>`
								: `<span class="badge badge-secondary">${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('scenario.inactive')}</span>`
						}
						<span class="text-muted small ml-2">ID:${scenarioData.id}</span>
					</div>
					<div>
						<a class="scenario-href" href="
							${this.getTeamId(this._instructions)}/scenarios/${scenarioData.id}/edit" target="_blank">${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l(
								'scenario.preview',
							)} <i class="ml-1 fa-solid fa-arrow-up-right-from-square"></i></a>
					</div>
				</div>
				<div class="mt-1">
					<span>${scenarioData.name}</span>
				</div>
			</div>
		`;

		this.querySelector('label')?.insertAdjacentHTML('afterend', html);
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].FORM.RESIZE, { bubbles: true });
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-scenario', ScenarioInput);


/***/ }),

/***/ "./lib/inputs/select.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/select.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SelectInput: () => (/* binding */ SelectInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var imurmurhash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! imurmurhash */ "./node_modules/imurmurhash/imurmurhash.js");








class SelectInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get value() {
		if (this.mode === 'map') {
			const value = this._coder.value;

			if (this._control.multiple) {
				if (/^{{[^}]*}}$/.test(value)) {
					return _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.stringify(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.replace(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.parse(value), 'keyword', 'erase', 'erasearray'));
				}
				return value;
			}

			return value;
		}

		return this._control?.value;
	}

	set value(value) {
		if (this.mode === 'map') {
			if ('string' === typeof value) {
				this._coder.value = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.stringify(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.replace(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.parse(value), 'keyword', 'erasearray', 'erase'));
			} else {
				this._coder.value = value;
			}
			return;
		}

		// try to convert the value to number if the source value is a number
		if (typeof this._control.value === 'number' && typeof value === 'string') {
			value = parseInt(value);
		}

		if (this._control.value === value) return;
		this._control.value = value;
	}

	get hasModeSwitch() {
		// Workaround to show map switch if this.hasModeSwitch or has 'editable' attribute
		// Works the same as Formula
		// The logic is not directly in the this.mappable because we don't want to show coder for text inputs
		// TODO ideally there should be multiple modes: map with coder, map without coder, no-map
		return this.mappable || (this.nodeName === 'IMT-INPUT-SELECT' && (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAttribute)(this, 'mappable'));
	}

	get options() {
		return (this._control && this._control.options) || [];
	}

	get hasStoreItems() {
		return Array.isArray(this.options?.store) && !!this.options.store.filter((x) => !x.default)?.length;
	}

	get showEditBtn() {
		return !this.form?.meta?.hideEditBtn;
	}

	get showAddBtn() {
		return !this.form?.meta?.hideAddBtn;
	}

	afterNestedRendered() {
		// nothing to do
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		const grouped = this.hasAttribute('grouped');
		const options = [];

		if (grouped) {
			for (const node of this.querySelectorAll('imt-optgroup')) {
				if (!node.hasAttribute('label')) throw new Error('Option group without label attribute.');
				this.removeChild(node);

				const group = {
					label: node.getAttribute('label'),
					options: [],
				};

				for (const node2 of node.querySelectorAll('imt-option')) {
					if (!node2.hasAttribute('value')) throw new Error('Option without value attribute.');

					group.options.push({
						label: node2.textContent,
						value: node2.value,
					});
				}

				options.push(group);
			}
		} else {
			for (const node of this.querySelectorAll('imt-option')) {
				if (!node.hasAttribute('value')) throw new Error('Option without value attribute.');
				this.removeChild(node);

				options.push({
					label: node.textContent,
					value: node.value,
				});
			}
		}

		let renderedCommonNestedFieldset;

		// Hide nested fieldset inserted into DOM
		for (const fieldset of this.querySelectorAll('imt-nested imt-fieldset')) {
			if (!fieldset.hasAttribute('for')) {
				renderedCommonNestedFieldset = fieldset;
				fieldset.parentNode.removeChild(fieldset);
			} else {
				fieldset.hide();
			}
		}

		const instructions = super.attributesToInstructions();

		return Object.assign(instructions, {
			options: options.length ? options : this.getAttribute('options') || instructions.options, // TODO: Fixes functionality that already worked in past
			multiple: this.hasAttribute('multiple'),
			dropdown: this.hasAttribute('dropdown'),
			selectType: this.getAttribute('type'),
			grouped,
			renderedCommonNestedFieldset,
		});
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Initial value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		const options = _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.normalizeOptions(instructions.options);

		this._control = metadata?.build?.picker || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');

		if (instructions?.hasOwnProperty('showSearcher')) {
			this._control.showSearcher = instructions.showSearcher;
		}
		if (instructions?.hasOwnProperty('searcherPlaceholder')) {
			this._control.searcherPlaceholder = instructions.searcherPlaceholder;
		}
		if (instructions?.hasOwnProperty('showValue')) {
			this._control.showValue = instructions.showValue;
		}
		if (instructions?.hasOwnProperty('showSelectAll')) {
			this._control.showSelectAll = instructions.showSelectAll;
		}
		this._control.inputField = this;
		if (instructions.readonly) this._control.setAttribute('readonly', '');
		if (instructions.grouped) this._control.setAttribute('grouped', '');
		if (instructions.multiple) this._control.setAttribute('multiple', '');
		if (instructions.dropdown) this._control.setAttribute('dropdown', '');
		if (!Array.isArray(options.store)) this._control.setAttribute('provider', options.store);
		this._control.setAttribute('placeholder', options.placeholder?.label || options.placeholder || '');
		this._control.setAttribute('label-field', options.label || this.getAttribute('label-field') || 'label');
		this._control.setAttribute('value-field', options.value || this.getAttribute('value-field') || 'value');
		if (options.wrapper) this._control.setAttribute('wrapper-field', options.wrapper);
		if (options.type === 'image') {
			this._control.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.OPTION_RENDERER, (option, item, store) => {
				store.classList.add('image-options');
				const img = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('img');

				img.setAttribute('src', item.src || item.value);
				option.append(img);
			});
		}

		if (typeof options.default !== 'undefined') {
			this._control.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.DEFAULT_OPTION_RESOLVER, (option) => !!option[options.default]);
		}

		this._control.id = this._id;

		if (metadata?.build?.pickerPath) {
			this._control.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.RPC_DATA_GETTER, metadata?.build?.pickerPath);
		} else {
			this._control.register(_controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.COMPONENTS.RPC_DATA_GETTER, () => ({
				...Object.assign({}, metadata?.data),
				...this.fieldset.rpcData,
			}));
		}

		this._control.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PICKER.LOAD_ERROR, (event) => {
			this.setAttribute('error', '');
			this._errorMessages.textContent = `${event.detail.message ? event.detail.message.replace(/\.$/, '') + '. ' : ''}${
				event.detail.detail || ''
			}`.trim();
			console.error(event.detail);
		});

		this._control.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].PICKER.LOAD_DONE, (event) => {
			this.removeAttribute('error');
		});

		this.appendChild(this._control);

		const showEmptyValue = !instructions.required && !instructions.multiple;

		if (showEmptyValue) {
			let label = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.empty');

			if (typeof instructions.options?.placeholder === 'string') {
				label = instructions.options.placeholder;
			} else if (typeof instructions.options?.placeholder?.label === 'string') {
				label = instructions.options.placeholder.label;
			}

			this._control.staticOptions = [
				{
					[instructions.options?.label || 'label']: label,
					[instructions.options?.value || 'value']: '',
					empty: (!instructions.required && !instructions.multiple) || !instructions.options.placeholder,
					nested: instructions.options?.placeholder?.nested,
					default: !!instructions.options?.placeholder,
				},
			];
		}

		const defaultValue = (() => {
			if (typeof value !== 'undefined') {
				return value;
			} else if (typeof instructions.default !== 'undefined') {
				return instructions.default;
			} else if (showEmptyValue) {
				return '';
			}
		})();

		const temporaryNested =
			typeof defaultValue !== 'undefined' && typeof (options.nested?.store || options.nested) === 'string';

		try {
			if (
				!Array.isArray(options.store) &&
				(instructions?.forceReload ||
					((this._control.multiple || this._control.list) && !this._control.dropdown) ||
					!(metadata?.restore && this.hasValidStateData(metadata.restore?.data)) ||
					this._shouldLoadOnBuild(options, defaultValue))
			) {
				// Initial start load RPC immediately
				await this._control.reload(defaultValue);
			} else {
				await this._control.addOptions((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.clone)(options), defaultValue, metadata);
			}

			// If this.value is set it means that default value has been resolved from the options
			if (instructions.options.placeholder && typeof value === 'undefined' && typeof this.value === 'undefined') {
				this.value = '';
			}

			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(
				this,
				metadata?.fieldset?.value,
				metadata?.fieldset?.metadata,
				temporaryNested,
				undefined,
				undefined,
			).then(() => {
				this.afterNestedRendered();
				// Input event has to be listened on the imt-picker not on the input itself,
				// input itself emits also nested field input events that bubble up the tree.
				this._control.addEventListener('input', () => {
					(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this).then(() => {
						this.afterNestedRendered();
					});
				});

				this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.MODE_CHANGED, (event) => {
					if (this === event.target) (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this);
				});
			});
		} catch (ex) {
			// Errors are dispatched by event
		}

		this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].INPUT.MODE_CHANGE, (event) => {
			if (this === event.target) this.loading && event.preventDefault();
		});
	}

	async addOption(option, groupLabel = undefined, defaultGroup = false) {
		let parentGroup = undefined;

		if (groupLabel) {
			parentGroup = this._control.querySelector(`imt-optgroup[label="${groupLabel}"]`);

			if (!parentGroup) {
				parentGroup = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-optgroup');
				parentGroup.setAttribute('label', groupLabel);
				if (defaultGroup) {
					parentGroup.setAttribute('default-group', defaultGroup);
				}
				this._control.querySelector('.options').appendChild(parentGroup);
			}
		}

		this.value = this._control.renderOption(option, false, parentGroup).value;
		const valueHash = new imurmurhash__WEBPACK_IMPORTED_MODULE_6__(JSON.stringify(this.value)).result();
		const fieldset = this.querySelector(`imt-fieldset[for="${valueHash}"`);

		// hide the newly created fieldset so that animation will not break
		if (fieldset) {
			fieldset.hide();
		}
		await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.showNestedFieldsets)(this);
	}

	getState() {
		const state = super.getState();

		if (this.mode === 'pick') {
			const selected = this._control.getSelectedElements();

			if (this._instructions.multiple) {
				if (selected.length && this._control.hasAttribute('provider')) {
					state.label = selected.map((option) => option.textContent);
				}
			} else {
				if (selected[0]) {
					state.label = selected[0].textContent;
				}
			}

			const stateData = this.getStateData(selected[0]);

			if (stateData) {
				state.data = stateData;
			}
		}

		return state;
	}

	// Returns array of dataset props for state
	get stateDataProps() {
		return null;
	}

	getStateData(item) {
		if (this.stateDataProps && item && this.stateDataProps.length) {
			const data = {};

			this.stateDataProps.forEach((prop) => {
				data[prop] = item.dataset[prop];
			});

			return data;
		}

		return null;
	}

	hasValidStateData(stateData) {
		if (this.stateDataProps) {
			if (!this.stateDataProps.length) {
				return true;
			}
			return stateData && this.stateDataProps.every((prop) => prop in stateData);
		}
		return true;
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		const options = _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_2__.Picker.normalizeOptions(this._instructions.options);

		if (this._instructions.multiple) {
			instructions.multiple = true;
		}

		if (
			!this._instructions.dynamic &&
			this._instructions.validate !== false &&
			Array.isArray(options.store) &&
			options.store.length
		) {
			instructions.validate = {
				enum: options.store.flatMap((option) =>
					this._instructions.grouped ? option.options.map((o) => o.value) : option.value,
				),
			};
		}

		return instructions;
	}

	getTeamId(instructions) {
		return instructions.options?.team != null ? instructions.options.team : this.form.meta.teamId;
	}

	getPreview() {
		const value = this.value;
		const valueLabel = this._control.valueLabel;

		if (!value && !valueLabel) {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.empty').toLowerCase()}>`;
		}

		return this.mode === 'map' ? this._coder.value : this._control.valueLabel;
	}

	_toCoderValue(value) {
		return Array.isArray(value) ? value.join(',') : value;
	}

	_fromCoderValue(value) {
		return this._control.hasAttribute('multiple') ? value.split(',') : value;
	}

	_setDisabled(disabled) {
		if (this._control) {
			this._control.disabled = disabled;
		}

		if (this._instructions.multiple && !this._instructions.dropdown) {
			for (const option of this._control.querySelectorAll('imt-option')) {
				if (disabled) {
					option.setAttribute('disabled', '');
				} else {
					option.removeAttribute('disabled');
				}
			}
		}
	}

	/**
	 * Defines whether to force load data from the API evn though it is cached.
	 * Intended for native inputs like accounts, hooks, etc. that should not been cached.
	 * @returns {boolean}
	 * @private
	 */

	_shouldLoadOnBuild(options, value) {
		return false;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-select', SelectInput);


/***/ }),

/***/ "./lib/inputs/separator.mjs":
/*!**********************************!*\
  !*** ./lib/inputs/separator.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Separator: () => (/* binding */ Separator)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");


class Separator extends HTMLElement {
	/**
	 * Builds the separator dom.
	 *
	 * @param instructions {object} Collection of directives.
	 */

	async build(instructions) {
		this.setAttribute('title', instructions.label || '');
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-separator', Separator);


/***/ }),

/***/ "./lib/inputs/sort.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/sort.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortInput: () => (/* binding */ SortInput)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./array.mjs */ "./lib/inputs/array.mjs");
/* harmony import */ var _markdown_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../markdown.mjs */ "./lib/markdown.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventManager.mjs */ "./lib/eventManager.mjs");






class SortEnd extends HTMLElement {
	build() {
		const node = document.createTextNode('End');

		this.classList.add('form-sort-end');
		this.appendChild(node);
	}
}

class SortItem extends _array_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayInputItem {
	async build(instructions, value) {
		this.classList.add('sort-item');

		this.setAttribute('type', 'array-item');

		this._label = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(
			this.closest('imt-input-sort')?.parentElement.querySelector('imt-input-sort') === null
				? 'label'
				: 'label.sort-label',
		);
		this._label.setAttribute('for', this._id);
		this.appendChild(this._label);

		// Add textContent after the icon
		// markdown escapes HTML, therefore innerHTML is safe to use
		const labelContent = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.label-text-content-sort-item');
		const subtitle = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.text-muted.label-text-content-sort-item.ml-1');

		if (this.closest('imt-input-sort')?.querySelectorAll('imt-input-sort-item').length < 1) {
			if (instructions.label) {
				labelContent.innerHTML = (0,_markdown_mjs__WEBPACK_IMPORTED_MODULE_2__.markdown)(instructions.label);
			} else {
				labelContent.innerText = instructions.name;
			}
		} else {
			this._value = value;
			labelContent.innerText = this._value.title;
			subtitle.innerText = this._value.subtitle ?? '';
		}

		if (this.querySelector('.sort-label') !== null) {
			this._sort = this._label.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.sort'));
			this._sortText = this._sort.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.sort-text'));

			const sortIMG = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.sort-img');

			sortIMG.style.backgroundColor = this._value.iconBackground;
			this._sortIMG = this._sort.appendChild(sortIMG);

			if (this._value.icon) {
				const icon = document.createElement('img');

				icon.classList.add('sort-icon');
				icon.src = this._value.icon;
				this._sortIcon = this._sortIMG.appendChild(icon);
			}

			this._sortText.appendChild(labelContent);
			labelContent.appendChild(subtitle);
			this.sortLabelID = this._sortText.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.sort-label-id'));
			this._labelContent = labelContent;

			// Input actions wrapper
			if (this._value.fixed) {
				this._actions = this._label.appendChild(
					(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.input-actions.input-actions-sort.input-actions-sort-hidden'),
				);
				this.setAttribute('fixed', true);
			} else {
				this._actions = this._label.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.input-actions.input-actions-sort'));
				this.setAttribute('fixed', false);
			}

			if (this._value.id) {
				const sortInnerText = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.label-preview-sort.label-preview.label-id');

				sortInnerText.innerText = this._value.id;
				this.sortLabelID.appendChild(sortInnerText);
			}

			const labelPreviewSort = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.label-preview-sort.label-preview');

			labelPreviewSort.innerText = this._value.description;
			this._labelPreview = this.sortLabelID.appendChild(labelPreviewSort);
		}

		this._registerArrayItemControls();
	}

	_registerArrayItemControls() {
		const dragDropBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-drag-drop.form-sort-drag-drop');
		const arrowDown = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-arrow-down.form-arrow-hidden');

		dragDropBtn.setAttribute('draggable', true);

		arrowDown.addEventListener('click', (e) => {
			this._swapNodesDownArrow(this, this.parentNode.querySelectorAll('imt-input-sort-item')[this.index + 1]);
			this._manageArrowIcons(this);
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this.parentElement, 'sorted', { bubbles: true });
		});

		if (this.parentElement.querySelectorAll('imt-input-sort-item').length === 1) {
			const arrowUp = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-arrow-up.form-arrow-hidden');

			arrowUp.addEventListener('click', (e) => {
				this._swapNodesUpArrow(this, this.index, this.index - 1);
				this._manageArrowIcons(this);
			});
			this._actions.appendChild(arrowUp);
		} else {
			const arrowUp = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.form-arrow-up');

			arrowUp.addEventListener('click', (e) => {
				this._swapNodesUpArrow(this, this.index, this.index - 1);
				this._manageArrowIcons(this);
			});
			this._actions.appendChild(arrowUp);
		}

		this._actions.appendChild(arrowDown);
		this._actions.appendChild(dragDropBtn);

		// make previous nodes's arrow down icon visible
		if (
			this.parentElement.querySelectorAll('imt-input-sort-item').length > 1 &&
			this.querySelectorAll('.input-actions-sort-hidden').length === 0
		) {
			const previousElement =
				this.parentElement.querySelectorAll('imt-input-sort-item')[
					this.parentElement.querySelectorAll('imt-input-sort-item').length - 2
				];

			previousElement.querySelector('.form-arrow-down').classList.remove('form-arrow-hidden');
		}
	}

	_swapNodesUpArrow(node, from, to) {
		node.parentNode.insertBefore(
			node.parentNode.querySelectorAll('imt-input-sort-item')[from],
			node.parentNode.querySelectorAll('imt-input-sort-item')[to],
		);
	}

	_swapNodesDownArrow(node1, node2) {
		const afterNode2 = node2.nextElementSibling;
		const parent = node2.parentNode;

		node1.replaceWith(node2);
		parent.insertBefore(node1, afterNode2);
	}

	_manageArrowIcons(draggedElement) {
		const items = this.parentElement.querySelectorAll('imt-input-sort-item');
		const itemsLenght = items.length - this.parentElement.querySelectorAll('.input-actions-sort-hidden').length;

		if (items[0].querySelectorAll('.form-arrow-up').length !== 0) {
			items[0].querySelector('.form-arrow-up').classList.add('form-arrow-hidden');
		}
		if (draggedElement.index !== 0 && draggedElement.querySelectorAll('.form-arrow-hidden').length !== 0) {
			draggedElement.querySelector('.form-arrow-hidden').classList.remove('form-arrow-hidden');
		} else if (draggedElement.index === 0) {
			items[1].querySelector('.form-arrow-up').classList.remove('form-arrow-hidden');
		}

		if (items[itemsLenght - 1].querySelectorAll('.form-arrow-down').length !== 0) {
			items[itemsLenght - 1].querySelector('.form-arrow-down').classList.add('form-arrow-hidden');
			items[itemsLenght - 2].querySelector('.form-arrow-down').classList.remove('form-arrow-hidden');
		}
	}

	get value() {
		return this._value;
	}
}

class SortInput extends _array_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayInput {
	constructor() {
		super();
		this._itemSelector = 'imt-input-sort-item';
		this._removeItemsOnRemove = false;
		this._buttonSelector = 'imt-input-sort-end';
	}

	get hasModeSwitch() {
		return false;
	}

	onDrop(draggedElement) {
		const items = draggedElement.parentElement.querySelectorAll('imt-input-sort-item');
		const itemsLenght =
			items.length - draggedElement.parentElement.querySelectorAll('.input-actions-sort-hidden').length;

		if (draggedElement.parentElement.querySelector('imt-input-sort-item').querySelector('.form-arrow-up') !== null) {
			draggedElement.parentElement
				.querySelector('imt-input-sort-item')
				.querySelector('.form-arrow-up')
				.classList.add('form-arrow-hidden');
		}

		if (draggedElement.index !== 0 && draggedElement.querySelectorAll('.form-arrow-hidden').length !== 0) {
			draggedElement.querySelector('.form-arrow-hidden').classList.remove('form-arrow-hidden');
		} else if (draggedElement.index === 0 && items.length > 1) {
			items[1].querySelector('.form-arrow-up').classList.remove('form-arrow-hidden');
			items[0].querySelector('.form-arrow-up').classList.add('form-arrow-hidden');
			items[0].querySelector('.form-arrow-down').classList.remove('form-arrow-hidden');
		}

		if (items[itemsLenght - 1].querySelectorAll('.form-arrow-down').length !== 0) {
			items[itemsLenght - 1].querySelector('.form-arrow-down').classList.add('form-arrow-hidden');
			items[itemsLenght - 2].querySelector('.form-arrow-down').classList.remove('form-arrow-hidden');
		}

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].dispatch(this, 'sorted', { bubbles: true });
	}

	validate() {
		// there's nothing to validate as the field is just sorting data
		return true;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-sort-end', SortEnd);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-sort-item', SortItem);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-sort', SortInput);


/***/ }),

/***/ "./lib/inputs/text.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/text.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextInput: () => (/* binding */ TextInput)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var imurmurhash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! imurmurhash */ "./node_modules/imurmurhash/imurmurhash.js");
/* global autosize */







const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.fields.text;

const FORMAN_TYPE_TO_HTML_TYPE = {
	email: 'email',
	number: 'number',
	integer: 'number',
	uinteger: 'number',
	port: 'number',
	time: 'time',
	url: 'url',
};

class TextInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_1__.Input {
	constructor() {
		super();

		this._nestedTimer = null;
		this.panel = null;
	}

	get mappable() {
		// Text inputs don't have mappable a attribute so when fieldset is mappable the input is also mappable
		return this.fieldset.mappable;
	}

	get hasModeSwitch() {
		return false;
	}

	get value() {
		let value = this._control.value;

		if (this._instructions.type !== 'text') {
			// All other types than text should not contain white spaces on either side
			value = String(value).trim();
		}

		return value;
	}

	get castedValue() {
		const value = this.value;

		if (this.isCoder()) {
			return value;
		}
		return this.castValue(value);
	}

	set value(value) {
		if (this._control.value === value) return;
		this._control.value = value == null ? '' : value;

		if (this._control.nodeName === 'TEXTAREA' && window.autosize) {
			autosize.update(this._control);
		}
	}

	/**
	 * Converts attributes of the dom element to instructions object.
	 *
	 * @return {object}
	 */

	attributesToInstructions() {
		return Object.assign(super.attributesToInstructions(), {
			multiline: this.hasAttribute('multiline'),
			prefix: this.getAttribute('prefix'),
			postfix: this.getAttribute('postfix'),
		});
	}

	isCoder() {
		return this._control.nodeName === 'IMT-CODER';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		const type = this.mappable ? 'imt-coder' : instructions.multiline ? 'textarea' : 'input';

		this._control = document.createElement(type);

		if (type !== 'imt-coder') this._control.className = 'form-control';
		if (instructions.readonly) this._control.setAttribute('readonly', '');
		if (instructions.autocomplete) this._control.setAttribute('autocomplete', instructions.autocomplete);
		this._control.disabled = instructions.disabled;
		this._control.name = instructions.name || instructions.name;
		this._control.id = this._id;
		this._control.value = value != null ? value : '';

		if (type !== 'imt-coder' && FORMAN_TYPE_TO_HTML_TYPE[instructions.type]) {
			this._control.type = FORMAN_TYPE_TO_HTML_TYPE[instructions.type];
		}

		this.addEventListener('input', (event) => {
			if (this._nestedTimer) clearTimeout(this._nestedTimer);

			this._nestedTimer = setTimeout(() => {
				const valueHash = new imurmurhash__WEBPACK_IMPORTED_MODULE_4__(JSON.stringify(this.value)).result();
				const valueFieldset = this.querySelector(`imt-nested > imt-fieldset[for='${valueHash}']`);

				if (!valueFieldset || valueFieldset.hidden) {
					(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this);
				}
			}, config.nestedTimeout);
		});

		if (instructions.prefix || instructions.postfix || instructions.buttons || instructions.rpc) {
			const group = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.input-group');

			if (instructions.prefix) {
				const prefix = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.input-group-prepend');
				const text = prefix.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.input-group-text'));

				text.textContent = instructions.prefix;
				group.append(prefix);
			}

			group.appendChild(this._control);

			if (instructions.postfix) {
				const postfix = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.input-group-append');
				const text = postfix.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.input-group-text'));

				text.textContent = instructions.postfix;
				group.append(postfix);
			}

			if (instructions.buttons && instructions.buttons.length) {
				const append = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('div.input-group-append');

				instructions.buttons.forEach((b) => append.append(b));
				group.append(append);
			}

			if (instructions.rpc) {
				const postfix = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)('span.input-group-append');
				const rpcButton = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`button.btn.btn-outline-secondary[type="button"] ${instructions.rpc.label}`);

				rpcButton.addEventListener('click', this._rpcSearchHandler(rpcButton, instructions.rpc, false));
				postfix.appendChild(rpcButton);
				group.append(postfix);
			}

			this.appendChild(group);
		} else {
			this.appendChild(this._control);
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.showNestedFieldsets)(this, metadata?.fieldset?.value, metadata?.fieldset?.metadata);
	}

	/**
	 * Builds the list of hints to be shown with the field.
	 *
	 * @param {function} hint Function that adds the hint. First argument is icon, second is text.
	 */

	_hints(hint) {
		const inst = this._instructions;

		if (inst.type === 'text') {
			if (inst.validate) {
				if (inst.validate.max > 0 && inst.validate.min > 0) {
					if (inst.validate.max === inst.validate.min) {
						hint('font', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.exactlength', { value: inst.validate.max }));
					} else {
						hint(
							'font',
							_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.lengthbetween', {
								a: inst.validate.min,
								b: inst.validate.max,
							}),
						);
					}
				} else if (inst.validate.max > 0) {
					hint('font', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.lengthmost', { value: inst.validate.max }));
				} else if (inst.validate.min > 0) {
					hint('font', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.lengthleast', { value: inst.validate.min }));
				}

				if (inst.validate.pattern && typeof inst.validate.pattern === 'object') {
					hint('check', inst.validate.pattern.label);
				} else if (inst.validate.pattern) {
					hint('check', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.pattern', { pattern: `${inst.validate.pattern}` }, true));
				}
			}

			switch (inst.tags) {
				case 'strip':
				case 'stripall':
					hint('code', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.striptags'));
					break;
				case 'escape':
					hint('code', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.escapetags'));
					break;
			}
		} else if (inst.type === 'number' || inst.type === 'integer' || inst.type === 'uinteger') {
			if (inst.validate) {
				if (inst.validate.min) {
					if (inst.validate.max) {
						if (inst.validate.min === inst.validate.max) {
							hint(
								'arrows-h',
								_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.numberequal', {
									value: inst.validate.min,
								}),
							);
						} else {
							hint(
								'arrows-h',
								_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.numberbetween', {
									min: inst.validate.min,
									max: inst.validate.max,
								}),
							);
						}
					} else {
						hint('chevron-up', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.numberhigher', { value: inst.validate.min }));
					}
				} else if (inst.validate.max) {
					hint('chevron-down', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.numberlower', { value: inst.validate.max }));
				}
			}
		} else if (inst.type === 'port') {
			hint('chevron-up', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_3__.I18n.l('hints.port'));
		}
	}

	getValidateInstructions() {
		const instructions = super.getValidateInstructions();

		if (this._instructions.tags) {
			instructions.tags = this._instructions.tags;
		}

		return instructions;
	}

	/**
	 * Performs value validation for type defined by this input field.
	 *
	 * @param {*} value Value to validate, same as getting `this.value`.
	 * @param {Array} problems Array of strings containing all generated validation problems.
	 * @returns {boolean} Method can return false to indicate this field is no valid without providing a reason. Otherwise, return value is ignored.
	 */

	_validate(value, problems) {
		if (this.isCoder() && this._control.containsIML) {
			// When field contains IML, use Coder validations instead
			problems.push(...this._control.errors);
		} else {
			// Any _validation method can return false to indicate this field is no valid without providing a reason
			return super._validate(value, problems);
		}
	}

	_setDisabled(disabled) {
		this._control.disabled = disabled;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-text', TextInput);


/***/ }),

/***/ "./lib/inputs/time.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/time.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TimeInput: () => (/* binding */ TimeInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* global moment */





class TimeInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {
	get hasModeSwitch() {
		return false;
	}

	get value() {
		if (this._control.containsIML) {
			return this._control.value;
		}

		const m = moment(this._control.value, 'LT');

		if (!m.isValid()) {
			return this._control.value;
		}

		return m.locale('en').format('HH:mm');
	}

	set value(value) {
		super.value = value;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this._timezone = this.form?.meta?.timezone || this.form?.timezone || 'UTC';

		await super._build(instructions, value, metadata);

		if (!this.mappable) {
			let picker;

			this._control.type = 'text';
			this._control.addEventListener('focusin', () => {
				picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createDateTimePickerPanel)(this, this, instructions);
				picker.panel.open();
			});

			this._control.addEventListener('focusout', () => {
				if (picker?.panel) {
					picker?.abortController.abort();
					picker?.panel.close();
					picker = null;
				}
			});
		}

		this.value = value;
	}

	/**
	 * Builds the list of hints to be shown with the field.
	 *
	 * @param {function} hint Function that adds the hint. First argument is icon, second is text.
	 */

	_hints(hint) {
		hint('globe', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('hints.timezone', { value: this._timezone }, true));

		if (this.fieldset.mappable && this._instructions.mappable !== false) {
			hint('clock', _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('hints.format', { value: 'HH:mm' }));
		} else {
			hint(
				'clock',
				_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l(
					'hints.format',
					{
						value: moment.localeData().longDateFormat('LT'),
					},
					true,
				),
			);
		}
	}

	getPreview() {
		const value = this._control.value;

		if (!value) {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('common.empty').toLowerCase()}>`;
		}

		return value;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-time', TimeInput);


/***/ }),

/***/ "./lib/inputs/timestamp.mjs":
/*!**********************************!*\
  !*** ./lib/inputs/timestamp.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TimestampInput: () => (/* binding */ TimestampInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class TimestampInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-timestamp', TimestampInput);


/***/ }),

/***/ "./lib/inputs/tokens.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/tokens.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TokensInput: () => (/* binding */ TokensInput)
/* harmony export */ });
/* harmony import */ var _array_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array.mjs */ "./lib/inputs/array.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");




class TokensInput extends _array_mjs__WEBPACK_IMPORTED_MODULE_0__.ArrayInput {
	get hasModeSwitch() {
		return false;
	}

	extendInstructions(instructions, value, metadata) {
		if (!instructions.spec) {
			instructions.spec = [
				{ label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('tokens.token'), name: 'token', type: 'text', required: true },
				{ label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('common.note'), name: 'note', type: 'text' },
			];
		}

		if (!instructions.options && /^tokens(?::(.*))?$/.exec(instructions.type)) {
			instructions.type = 'tokens';
			instructions.options = {
				tokenType: RegExp.$1,
			};
		}

		return instructions;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		await super._build(instructions, value, metadata);
		let btn;
		const that = this;

		if (instructions.options.tokenType === 'safari' && window.safari) {
			btn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)(`button.token-btn-safari[type="button"] Add this Safari`);
			btn.addEventListener('click', (e) => {
				e.stopPropagation();

				const perm = window.safari.pushNotification.permission(`web.com.integromat.${imt.env || 'development'}`);

				if (perm.permission === 'granted') {
					that.addItem({ token: perm.deviceToken, note: 'My Chrome' });
					return;
				}

				if (perm.permission === 'denied') {
					const alert = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-alert');

					alert.message = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('tokens.safariDenied');
					that.form._alerts.append(alert);
					return;
				}

				try {
					window.safari.pushNotification.requestPermission(
						`https://${window.location.hostname}/apn/safari/push`,
						`web.com.integromat.${imt.env || 'development'}`,
						{},
						(perm) => {
							if (perm.permission === 'granted') {
								that.addItem({ token: perm.deviceToken, note: 'My Safari' });
							}
						},
					);
				} catch (ex) {
					const alert = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-alert');

					alert.message = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('tokens.safariDisabled');
					that.form._alerts.append(alert);
					return;
				}
			});
		} else if (instructions.options.tokenType === 'chrome' && window.chrome) {
			btn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)(`button.token-btn-chrome[type="button"] Add this Chrome`);
			btn.addEventListener('click', (e) => {
				e.stopPropagation();

				window.chrome.runtime.sendMessage('cfamjaolobgncfhomepbmjjihlbkchgb', 'permissions', (perm) => {
					if (!perm) {
						const alert = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-alert');

						alert.message = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('tokens.chromeExtNotInstalled');
						that.form._alerts.append(alert);
						return;
					}

					if (perm.permissions !== 'granted') {
						const alert = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.create)('imt-alert');

						alert.message = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l('tokens.chromeActivateExtension');
						that.form._alerts.append(alert);
						return;
					}

					that.addItem({ token: perm.deviceToken, note: 'My Chrome' });
				});
			});
		}

		if (btn) {
			const arrayBtn = this.getElementsByTagName('imt-input-array-button')[0];

			arrayBtn.append(btn);
		}
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.registerCustomElement)('imt-input-tokens', TokensInput);


/***/ }),

/***/ "./lib/inputs/udt.mjs":
/*!****************************!*\
  !*** ./lib/inputs/udt.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UdtInput: () => (/* binding */ UdtInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/color.mjs */ "./lib/helpers/color.mjs");








const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.udt;

class UdtInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	constructor() {
		super();
		this.panel = null;
		this._firstCreationMode = false;
	}

	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return [];
	}

	extendInstructions(instructions) {
		instructions.options = instructions.options || {};
		instructions.options.label = instructions.options.label || config.api.list.label;
		instructions.options.value = instructions.options.value || config.api.list.value;
		instructions.options.wrapper = instructions.options.wrapper || config.api.list.wrapper;
		instructions.options.placeholder = instructions.options.placeholder || _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('udt.placeholder');
		instructions.options.team = this.getTeamId(instructions);

		if (!instructions.organization) {
			instructions.organization = this.form.meta.organizationId;
		}

		instructions.theme = instructions.theme || this.form.meta.module.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_THEME;

		const storeQuery = new URLSearchParams();

		storeQuery.append('teamId', instructions.options.team);

		instructions.options.store = `${config.api.list.path}?${storeQuery}`;

		return instructions;
	}

	_shouldLoadOnBuild(options, value) {
		return typeof value !== 'undefined' && value !== '';
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		// Picker

		const picker = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('imt-picker');

		// Build the component

		metadata.build = Object.assign(metadata.build || {}, { picker });
		await super._build(instructions, value, metadata);

		// Build composed input

		this.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.composedInputBuilder)({
				picker,
				config,
				name: this.form.meta.module?.package?.name,
				theme: instructions.theme,
				buttons: [
					...(this.showEditBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.edit'),
									action: this._updateHandler(picker, instructions, metadata),
									enabled: (option) => option?.value,
									collapsible: true,
								},
						  ]
						: []),
					...(this.showAddBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.clone'),
									action: this._cloneHandler(picker, instructions),
									enabled: (option) => option?.value,
									collapsible: true,
								},
						  ]
						: []),
					...(this.showAddBtn
						? [
								{
									label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('common.add'),
									action: this._createHandler(instructions),
								},
						  ]
						: []),
				],
				readonly: this.readonly,
				image: instructions?.image,
			}),
		);

		this._firstCreationMode = !this.hasStoreItems;

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_DONE, () => {
			this._firstCreationMode = !this.hasStoreItems;
		});

		picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.LOAD_ERROR, () => {
			this._firstCreationMode = false;
		});

		// Show connection creation btn if options list is empty
		if (this._firstCreationMode) {
			// Create button for account creation
			picker.before(
				(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.createAddFirstAccountBtn)(instructions.theme, _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.udt.create'), this._createHandler(instructions)),
			);
		}
	}

	_updateHandler(picker, instructions, metadata) {
		return async (event, dropdownBtn) => {
			if (this.panel) return;

			this.disabled = true;

			const selected = picker.querySelector('imt-option[selected]');

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](dropdownBtn);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;
			});

			metadata.context.datastructureId = selected.value;

			await this.panel.build(
				{
					name: selected.textContent,
					src: config.api.instructions.update.path,
					theme: instructions.theme,
				},
				metadata,
			);

			this.panel.open();
		};
	}

	_cloneHandler(picker, instructions) {
		return async (event, dropdownBtn) => {
			if (this.panel) return;

			this.disabled = true;

			const selected = picker.querySelector('imt-option[selected]');

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](dropdownBtn);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				await this.addOption(event.detail.data.dataStructure);
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;
			});

			const storeQuery = new URLSearchParams();

			storeQuery.append('organizationId', instructions.organization);

			await this.panel.build(
				{
					name: selected.textContent,
					src: `${config.api.instructions.clone.path}?${storeQuery}`,
					theme: instructions.theme,
				},
				{ context: { datastructureId: selected.value } },
				storeQuery,
			);

			this.panel.open();
		};
	}

	_createHandler(instructions) {
		return async (event) => {
			if (this.panel) return;

			this.disabled = true;

			if (config?.api?.instructions?.create?.redirect) {
				window.location.href = config.api.instructions.create.redirect;
				return;
			}

			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.SUBMITTED, async (event) => {
				this.disabled = false;
				await this.addOption(event.detail.data.dataStructure);

				if (this._firstCreationMode) {
					this.querySelector('.create-connection')?.remove();
					this._firstCreationMode = false;
				}
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => {
				this.disabled = false;
				this.panel = null;

				if (this._firstCreationMode) {
					const connectionCreationBtn = this.querySelector('.create-connection');

					if (connectionCreationBtn) {
						connectionCreationBtn.classList.remove('in-progress');
					}
				}
			});

			const instructionsQuery = new URLSearchParams();

			instructionsQuery.append('teamId', instructions.options.team);
			await this.panel.build({
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_5__.I18n.l('panels.udt.add'),
				src: `${config.api.instructions.create.path}?${instructionsQuery}`,
				theme: instructions.theme,
			});

			this.panel.open();
		};
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-udt', UdtInput);


/***/ }),

/***/ "./lib/inputs/udtspec.mjs":
/*!********************************!*\
  !*** ./lib/inputs/udtspec.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UdtSpecInput: () => (/* binding */ UdtSpecInput)
/* harmony export */ });
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./array.mjs */ "./lib/inputs/array.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controls/remoteFormPanel.mjs */ "./lib/controls/remoteFormPanel.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events.mjs */ "./lib/events.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");









const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].config.fields.udtspec;

class UdtSpecGenerateBtn extends HTMLElement {
	build() {
		const generateBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`button[type="button"] ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.generate')}`);

		generateBtn.addEventListener('click', this._generateHandler(generateBtn));
		this.appendChild(generateBtn);
	}

	_generateHandler(generateBtn) {
		return async (event) => {
			if (this.panel) return;

			const udtSpec = this.closest('imt-input-udtspec');

			generateBtn.setAttribute('disabled', '');
			this.disabled = true;
			this.panel = new _controls_remoteFormPanel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"](event.target);

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].FORM.SUBMITTED, async (event) => {
				generateBtn.removeAttribute('disabled');
				this.disabled = false;
				udtSpec.value = event.detail.data;
			});

			this.panel.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].PANEL.CLOSE, (event) => {
				generateBtn.removeAttribute('disabled');
				this.disabled = false;
				this.panel = null;
			});

			await this.panel.build({
				name: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.generate'),
				src: `${config.generate.path}`,
			});

			this.panel.open();
		};
	}
}

class UdtSpecInputItem extends _array_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayInputItem {
	/**
	 * Build an udt spec item.
	 *
	 * @param {Array} instructions Array of instructions.
	 * @param {*} value Item value.
	 * @param {Object} metadata Item metadata.
	 */

	async build(instructions, value, metadata) {
		const array = this.closest('[type="array"]');

		this.setAttribute('type', 'array-item');
		this._input = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.createInput)('collection');
		this.appendChild(this._input);
		const newItemResource = _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('buttons.newitem');

		this._input.addEventListener(
			'input',
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.debounce)(() => {
				const value = this._input.value;

				this._input._labelContent.textContent = value.label || value.name || newItemResource;
				if (this._input._labelContent.textContent === newItemResource) {
					this._input._labelContent.classList.add('new-item');
				} else {
					this._input._labelContent.classList.remove('new-item');
				}

				this._input._labelContent.classList[value.required ? 'add' : 'remove']('font-weight-bold');
			}, 10),
		);

		await this._input.build(
			{
				type: 'collection',
				label: value?.name || value?.label || newItemResource,
				spec: instructions,
				mappable: false,
			},
			value,
			metadata,
		);

		const nameInput = this._input.querySelector(':scope > imt-fieldset > imt-input-text[name="name"]');

		nameInput._validators.push((value) => {
			if (array.value.filter((input) => input.name === value).length > 1) {
				throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_6__.ValidationError('The name has already been used.', 'validate-udtspec-duplicated-key');
			}
		});

		this._registerArrayItemControls(array);

		if (this._input._labelContent.textContent === newItemResource) {
			this._input._labelContent.classList.add('new-item');
		} else {
			this._input._labelContent.classList.remove('new-item');
		}
	}

	_getDomainDefaultValues(currentInput) {
		const parent = currentInput?.closest('[field][name="spec"]');

		if (!parent) return {};

		let tempItem = this;
		let tempParent = parent;
		let domain = '';
		let domainsPath = [];

		// find a path to correct domain value through nested datastructures
		while (tempParent) {
			// save the array item index to path only if we move out to another (parent) array item
			if (tempItem && tempItem !== tempParent.closest('[type="array-item"]')) {
				domainsPath.push(tempItem.index);
				tempItem = tempParent.closest('[type="array-item"]');
			}

			domainsPath.push(tempParent.name);
			domain = tempParent.fieldset.domain;
			tempParent = tempParent.parentNode?.closest('[field][name="spec"]');
		}

		domainsPath = domainsPath.reverse();
		let value = parent.form.domains.getDefaults(domain)?.values;

		if (!value) return {};

		for (const path of domainsPath) {
			if (!value[path]) {
				return {};
			}

			value = value[path];
		}

		return value;
	}
}

class UdtSpecInput extends _array_mjs__WEBPACK_IMPORTED_MODULE_1__.ArrayInput {
	constructor() {
		super();
		this._itemSelector = 'imt-input-udtspec-item';
		this._removeItemsOnRemove = false;
	}

	get hasModeSwitch() {
		return false;
	}

	extendInstructions(instructions, value, metadata) {
		// allowedTypes should be inherited from the parent spec in case user is nesting collections
		const allowedTypes =
			instructions.allowedTypes || this.parentNode.closest('imt-input-udtspec')?._instructions?.allowedTypes;

		instructions.spec = [
			{
				name: 'name',
				label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.name.label'),
				help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.name.help'),
				type: 'text',
				required: true,
				validate: instructions?.validate?.name || undefined,
			},
			{
				name: 'label',
				label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.label.label'),
				help: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.label.help'),
				type: 'text',
				advanced: true,
				validate: instructions?.validate?.label || undefined,
			},
			{
				name: 'type',
				label: _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.specification.label'),
				type: 'udttype',
				allowedTypes: allowedTypes,
				allowUnknownType: instructions?.allowUnknownType,
				required: true,
				default: 'text',
			},
		];

		return instructions;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		await super._build(instructions, value, metadata);

		if (instructions.showGenerateBtn !== false) {
			const generateBtn = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.create)(`imt-input-udtspec-generate-button`);

			generateBtn.build();
			this.appendChild(generateBtn);
		}
	}

	_setDisabled(disabled) {
		for (const node of this._wrapper?.querySelectorAll('imt-picker,imt-coder') || []) {
			node.disabled = disabled;
		}
	}

	getPreview() {
		const value = this.value;

		if (value === null || value === undefined || !Array.isArray(value) || value.length === 0) {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('common.empty').toLowerCase()}>`;
		}

		return value
			.map(
				(v) =>
					`{ ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.specification.label')}: ${v.type}, ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('udtspec.label.label')}: ${
						v.label || v.name
					} }`,
			)
			.join(', ');
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-udtspec-generate-button', UdtSpecGenerateBtn);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-udtspec-item', UdtSpecInputItem);
(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomElement)('imt-input-udtspec', UdtSpecInput);


/***/ }),

/***/ "./lib/inputs/udttype.mjs":
/*!********************************!*\
  !*** ./lib/inputs/udttype.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UdtTypeInput: () => (/* binding */ UdtTypeInput)
/* harmony export */ });
/* harmony import */ var _select_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./select.mjs */ "./lib/inputs/select.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class UdtTypeInput extends _select_mjs__WEBPACK_IMPORTED_MODULE_0__.SelectInput {
	get hasModeSwitch() {
		return false;
	}

	get stateDataProps() {
		return [];
	}

	// This forces `showNestedFieldsets` to pass nested value to `udtspec` instead of all default values (and it solves)
	// a bug with existing data structure collections being copied to new data structure collections
	get checkForNestedValues() {
		return true;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param {object} instructions Collection of directives.
	 * @param {any} value Initial value.
	 * @param {object} metadata Metadata.
	 */

	async _build(instructions, value, metadata) {
		await super._build(instructions, value, metadata);
	}

	extendInstructions(instructions, value, metadata) {
		const types = [
			{
				label: 'Array',
				value: 'array',
				nested: [
					{
						name: 'spec',
						type: 'collection',
						label: 'Array Item Specification',
						spec: [
							{
								name: 'type',
								label: 'Type',
								type: 'udttype',
								required: true,
								default: 'text',
							},
						],
						mappable: false,
					},
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Collection',
				value: 'collection',
				nested: [
					{
						name: 'spec',
						label: 'Specification',
						type: 'udtspec',
					},
					{
						name: 'sequence',
						label: 'Preserve the order of object keys',
						type: 'boolean',
						mappable: false,
					},
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Date',
				value: 'date',
				nested: [
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Text',
				value: 'text',
				nested: [
					{
						name: 'default',
						label: 'Default',
						help: 'Default value.',
						type: 'text',
					},
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
					{
						name: 'multiline',
						label: 'Multi-line',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Number',
				value: 'number',
				nested: [
					{
						name: 'default',
						label: 'Default',
						help: 'Default value.',
						type: 'number',
					},
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Boolean',
				value: 'boolean',
				nested: [
					{
						name: 'default',
						label: 'Default',
						help: 'Default value.',
						type: 'boolean',
						mappable: false,
					},
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
				],
			},
			{
				label: 'Binary Data',
				value: 'buffer',
				nested: [
					{
						name: 'required',
						label: 'Required',
						type: 'boolean',
						required: true,
						default: false,
						mappable: false,
					},
					{
						name: 'codepage',
						label: 'Codepage',
						type: 'text',
						help: "Possible values: `binary`, `utf8`. Leave empty if you're not sure.",
					},
				],
			},
			{
				label: 'Connection',
				value: 'account',
				nested: [
					{
						name: 'default',
						label: 'Default',
						help: 'Default value.',
						type: 'account',
						mappable: false,
					},
				],
			},
		];

		const allowed = instructions.allowedTypes || ['array', 'collection', 'date', 'text', 'number', 'boolean', 'buffer'];

		instructions.options = {
			store: types.reduce((acc, type) => {
				if (allowed.includes(type.value)) {
					acc.push(type);
				}

				return acc;
			}, []),
		};

		if (!allowed.includes(value) && instructions?.allowUnknownType) {
			instructions.options.store.push({
				label: value,
				value,
				nested: [
					{
						name: 'default',
						label: 'Default',
						help: 'Default value.',
						type: value,
						mappable: false,
					},
				],
			});
			this.classList.add('has-unknown-type');
		}

		return instructions;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-udttype', UdtTypeInput);


/***/ }),

/***/ "./lib/inputs/uinteger.mjs":
/*!*********************************!*\
  !*** ./lib/inputs/uinteger.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UintegerInput: () => (/* binding */ UintegerInput)
/* harmony export */ });
/* harmony import */ var _number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.mjs */ "./lib/inputs/number.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _types_uinteger_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types/uinteger.mjs */ "./lib/types/uinteger.mjs");




class UintegerInput extends _number_mjs__WEBPACK_IMPORTED_MODULE_0__.NumberInput {
	castValue(value) {
		return (0,_types_uinteger_mjs__WEBPACK_IMPORTED_MODULE_2__.cast)(value);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-uinteger', UintegerInput);


/***/ }),

/***/ "./lib/inputs/upload.mjs":
/*!*******************************!*\
  !*** ./lib/inputs/upload.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UploadInput: () => (/* binding */ UploadInput)
/* harmony export */ });
/* harmony import */ var _input_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");




class UploadInput extends _input_mjs__WEBPACK_IMPORTED_MODULE_0__.Input {
	get hasModeSwitch() {
		return false;
	}

	get value() {
		return this._field.files;
	}

	/**
	 * Builds the input dom.
	 *
	 * @param instructions {object} Collection of directives.
	 * @param value {any} Initial value.
	 * @param metadata {object} Metadata.
	 */

	async _build(instructions, value, metadata) {
		this._field = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.create)('input[type="file"].form-control.h-auto');

		if (instructions.multiple) {
			this._field.setAttribute('multiple', '');
		}

		if (instructions.accept) {
			this._field.setAttribute('accept', instructions.accept);
		}

		this.append(this._field);
	}

	_setDisabled(disabled) {
		if (disabled) {
			this._field.setAttribute('disabled', '');
		} else {
			this._field.removeAttribute('disabled');
		}
	}

	getPreview(value) {
		value = this.value;

		if (value === null || value === undefined || value === '') {
			return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('file.noFile')}>`;
		}

		if (value instanceof FileList) {
			if (value.length > 0) {
				const fileName = value.item(0).name;

				return `${fileName} ${value.length > 1 ? _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('file.more', { n: value.length - 1 }) : ''}`;
			} else {
				return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('file.noFile')}>`;
			}
		}

		return `<${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_2__.I18n.l('common.empty')}>`;
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-upload', UploadInput);


/***/ }),

/***/ "./lib/inputs/url.mjs":
/*!****************************!*\
  !*** ./lib/inputs/url.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   URLInput: () => (/* binding */ URLInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class URLInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-url', URLInput);


/***/ }),

/***/ "./lib/inputs/uuid.mjs":
/*!*****************************!*\
  !*** ./lib/inputs/uuid.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UuidInput: () => (/* binding */ UuidInput)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/inputs/text.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.mjs */ "./lib/utils.mjs");



class UuidInput extends _text_mjs__WEBPACK_IMPORTED_MODULE_0__.TextInput {}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.registerCustomElement)('imt-input-uuid', UuidInput);


/***/ }),

/***/ "./lib/loader.mjs":
/*!************************!*\
  !*** ./lib/loader.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formanConfig.mjs */ "./lib/formanConfig.mjs");
/* global IMTDevTool */



const config = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].config.loader;

const PARSERS = {
	MANIFEST: class MANIFEST {
		constructor(data) {
			this.data = data;
		}

		parse(key, value) {
			if (/^rpc:\/\/(?:([^\/@]*)(?:@(\d+))?\/)?([^\/]+)$/.exec(value)) {
				const pkg = RegExp.$1;
				const ver = RegExp.$2;
				const mdl = RegExp.$3;

				value = `rpc://${pkg || encodeURIComponent(this.data['package-name'])}/${
					ver || this.data['package-version']
				}/${mdl}`;
			}

			return value;
		}
	},
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	/**
	 * Calls API endpoint
	 * @param {string|URL} url relative API url
	 * @param {Object} options fetch request options
	 * @return {Promise<*|string>}
	 */

	async api(url, options = {}) {
		options.headers = options.headers || {};
		options.headers['imt-remote-formula'] = 1;

		if (shouldJsonify(options)) {
			options.headers['content-type'] = 'application/json; charset=utf-8';

			if ('string' !== typeof options.body) {
				options.body = JSON.stringify(options.body);
			}
		}

		return await this.fetch(getURL(url, 'api'), options);
	},

	/**
	 * Calls RPC endpoint
	 * @param {string|URL} url - relative RPC url
	 * @param {Object} options - fetch request options
	 * @return {Promise<*|string>}
	 */

	async rpc(url, options = {}) {
		options.method = 'POST';
		options.headers = options.headers || {};
		options.headers['Content-Type'] = options.headers['Content-Type'] || 'application/json';

		return await this.fetch(getURL(url, 'rpc'), options, PARSERS.MANIFEST);
	},

	/**
	 * Fetch wrapper with additional settings
	 * @param {string|URL} url URL
	 * @param {Object} options fetch request options
	 * @param {Class} Parser parser class that handles parsing of the response while JSON.parse
	 * @return {Promise<*|string>}
	 */

	async fetch(url, options = {}, Parser) {
		if (!url) throw new Error('No URL provided.');

		options.headers = options.headers || {};
		options.headers.accept = 'application/json';

		let res;

		try {
			res = await fetch(url, options);
		} catch (ex) {
			if (ex.name === 'AbortError') {
				throw ex;
			} else {
				throw new Error(`Failed to connect to remote server. ${ex.message}`);
			}
		}

		// Temporary crippling network speed
		// await new Promise(resolve => setTimeout(resolve, 500));

		const body = await res.text();

		const imtHeaders = {};

		if (Parser) {
			for (const [key, value] of res.headers) {
				const name = key.match(/^x-imt-(.*)/);

				if (name) imtHeaders[name[1]] = value;
			}
		}

		return this.handleResponse(res, body, Parser ? new Parser(imtHeaders) : undefined);
	},

	/**
	 * Calls a specific endpoint with a specific method accordingly the provided URL
	 * @param {string} url  url to call based on the provided url the request method is selected
	 * @param {Object} config load config, not fetch options
	 * @param {string} [config.method=GET] request method
	 * @param {Object} [config.headers] request headers
	 * @param {*} [config.body] request body
	 * @param {Object} [config.signal] abort controller signal
	 * @param {string} [config.data] request payload to be applied according to the request method to qs or body
	 * @param {Object} [config.context] IML context for execution IML in URL
	 * @return {Promise<*|string>}
	 */

	async load(url, config = {}) {
		const context = {};

		if (config.context) Object.assign(context, config.context);

		if (config.data !== undefined) {
			Object.entries(config.data).forEach(([key, value]) => {
				if (context[key] === undefined) {
					context[key] = value;
				}
			});
		}

		url = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.IML.parse(url), context);

		const options = {
			signal: config.signal,
			cache: 'no-store',
			method: config.method || 'GET',
			headers: config.headers || {},
			body: config.body,
		};

		const protocolMatch = url.match(/^(\D+)\:\/\//);

		if (protocolMatch && _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].overrides?.loaderProtocolHandlers[protocolMatch?.[1]]) {
			return await _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].overrides.loaderProtocolHandlers[protocolMatch[1]](url, config, options);
		}

		// TODO btv - fix this bullshit
		// should be moved somewhere else, also personal-connections should be loaded only for btv..
		if (/^api:\/\/personal-and-team-connections(.*)$/.exec(url) && options.method === 'GET') {
			let connections = [];

			const getConnections = async (u) => {
				const q = url.split('?')[1];

				const parsedUrl = getURL(`${u}?${q}`, 'api');

				if (options.method === 'GET' && config.data) {
					Object.entries(config.data).forEach(([key, value]) => {
						if (typeof value !== 'undefined' && !parsedUrl.searchParams.has(key)) {
							if (Array.isArray(value)) {
								if (value.length) {
									value.forEach((item) => parsedUrl.searchParams.append(key + '[]', item));
								}
							} else {
								parsedUrl.searchParams.append(key, value);
							}
						}
					});
				}

				try {
					const response = await this.api(parsedUrl, options);

					if (response.connections.length) {
						connections = connections.concat(response.connections);
					}
				} catch (e) {
					console.log('Accounts error', url, e);
				}
			};

			await getConnections('connections');
			await getConnections('personal-connections');

			return { connections };
		} else if (/^api:\/\/(.*)$/.exec(url)) {
			const parsedUrl = getURL(RegExp.$1, 'api');

			if (options.method === 'GET' && config.data) {
				Object.entries(config.data).forEach(([key, value]) => {
					if (typeof value !== 'undefined' && !parsedUrl.searchParams.has(key)) {
						if (Array.isArray(value)) {
							if (value.length) {
								value.forEach((item) => parsedUrl.searchParams.append(key + '[]', item));
							}
						} else {
							parsedUrl.searchParams.append(key, value);
						}
					}
				});
			}

			return await this.api(parsedUrl, options);
		} else if (/^rpc:\/\/(.*)$/.exec(url)) {
			const { url, params } = qsToBody(RegExp.$1);
			const data = Object.assign({}, config.data || {}, params);

			if (config.buildTimeVariables && config.accountParamName && data[config.accountParamName]) {
				const value = data[config.accountParamName];

				const pattern = /{{var\.input\.(\w+)}}/;
				const match = value?.match && value.match(pattern);

				if (match) {
					let btv = config.buildTimeVariables[match[1]];

					if (btv) {
						if (btv.startsWith && btv.startsWith('TAC_')) {
							btv = +btv.replace('TAC_', '');
						}

						data[config.accountParamName] = btv;
					}
				}
			}

			options.body = JSON.stringify({
				data,
			});

			return await this.rpc(url, options);
		} else {
			return await this.fetch(url, options);
		}
	},

	/**
	 * Handles HTTP response and processes API errors
	 * @param {Object} res fetch response object
	 * @param body parsed response body
	 * @param {Object} parser JSON parser of the response
	 * @return {*}
	 */

	handleResponse(res, body, parser) {
		if (res.status >= 400) {
			// We got an error body
			try {
				// Try parsing it as a json
				body = JSON.parse(body);
			} catch (ex) {
				body = {
					message: `[${res.status}] ${body}`,
				};
			}

			let message;

			if (res.status === 424 && body.suberrors?.length) {
				message = body.suberrors.map((err) => err.message).join(' ');
			} else {
				message = body.message || body.error?.message || res.statusText;
			}

			const err = new Error(message);

			err.code = body.code || body.error?.code || res.status;
			if (body.location) err.location = body.location;
			if (body.details) err.details = body.details;
			if (body.detail) err.detail = body.detail;
			if (body.suberrors) err.suberrors = body.suberrors;

			throw err;
		}

		try {
			body = parser ? JSON.parse(body, (key, value) => parser.parse(key, value)) : JSON.parse(body);
		} catch (ex) {
			throw new Error(`Failed to parse response body. ${ex.message}`);
		}

		// Log debug data to the browser's developer console
		this.logDebugData(body);

		return body.formula?.data || body.response || body;
	},

	/**
	 * Log response using DevTool or console.log
	 * @param {Object} data response body
	 */

	logDebugData(data) {
		let entry;

		const devToolConnected = typeof IMTDevTool !== 'undefined' && IMTDevTool.connected;

		if (Array.isArray(data?.debug)) {
			for (entry of data.debug) {
				if (devToolConnected) {
					IMTDevTool.pushLiveStreamEvent(entry);
				}

				if (!devToolConnected || IMTDevTool.settings.console) {
					console.log('%c[rpc:debug]', 'color: #a4a9ae', ...Array.from(entry));
				}
			}
		}

		if (Array.isArray(data?.log)) {
			for (entry of data.log) {
				if (devToolConnected) {
					IMTDevTool.pushLiveStreamEvent(entry);
				}

				if (!devToolConnected || IMTDevTool.settings.console) {
					console.log(`[rpc:log] ${entry}`);
				}
			}
		}
	},
});

/**
 * Parses parameters from qs and returns them as Object together with cleared URL
 * @param {string} url
 * @return {{params: {}, url}}
 */

function qsToBody(url) {
	const query = url.indexOf('?');
	const params = {};

	if (query !== -1) {
		try {
			for (const param of url.match(/(\?|\&)[^\&\#\=]+=[^\&\#]+/g)) {
				const qs = /^[\?\&]([^=]+)=(.*)$/g.exec(param);

				// is the parameter already defined?
				if (params[qs[1]] != null) {
					// mutliple params of the same name
					if (!Array.isArray(params[qs[1]])) {
						// convert value to an array if not already converted
						params[qs[1]] = [params[qs[1]]];
					}

					// add value to an array
					params[qs[1]].push(qs[2]);
				} else {
					params[qs[1]] = qs[2];
				}
			}
		} catch (ex) {
			console.warn('Failed to parse query string to post data.');
		}

		return {
			url: url.substr(0, query),
			params,
		};
	}

	return {
		url,
		params: {},
	};
}

/**
 *
 * @param {string|URL} url relative or absolute URL
 * @param {('api'|'rpc')} type[api] based on the type the relative URL is prefixed with the path according the config
 * @return {URL}
 */

function getURL(url, type) {
	// Absolute path
	if (url instanceof URL) return url;
	if (/^https?:\/\//.test(url)) return new URL(url);

	// Relative path
	return new URL(type === 'rpc' ? `${getRPCBaseUrl()}/${url}` : `${getAPIBaseUrl()}/${url}`, window.location.origin);
}

function getRPCBaseUrl() {
	return !config.base.rpc && imt?.apiurl ? imt.apiurl + '/rpcs' : config.base.rpc || '';
}

function getAPIBaseUrl() {
	return !config.base.api && imt?.apiurl ? imt.apiurl : config.base.api || '';
}

function shouldJsonify(options) {
	return (
		!(options.body instanceof FormData) &&
		!Object.keys(options.headers)
			.map((k) => k.toLowerCase())
			.includes('content-type') &&
		['POST', 'PATCH', 'DELETE', 'PUT'].includes(options.method.toUpperCase())
	);
}


/***/ }),

/***/ "./lib/locale/cs.mjs":
/*!***************************!*\
  !*** ./lib/locale/cs.mjs ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-disable max-len */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	common: {
		add: 'Pidat',
		close: 'Zavt',
		save: 'Uloit',
		popup: 'Vyskakovac okno bylo zablokovno. Povolte prosm vyskakovac okna a zkuste to znovu.',
		error: 'Chyba',
		continue: 'Pokraovat',
		edit: 'Editovat',
		clone: 'Naklonovat',
		showAdvanced: 'Zobrazit pokroil nastaven',
		note: 'Note',
		name: 'Nzev',
		empty: 'Przdn',
		emptyString: 'Przdn string',
		whitespace: 'Bl znak',
		value: 'Hodnota: ',
	},
	buttons: {
		edititem: 'Upravit poloku',
		extract: 'Extrahovat',
		newitem: 'Nov poloka',
		addor: 'Pidat OR pravidlo',
		addand: 'Pidat AND pravidlo',
		browse: 'Prochzet',
		map: 'Map',
		refresh: 'Obnovit',
		expandAll: 'Rozbalit ve',
		collapseAll: 'Sbalit ve',
	},
	panels: {
		keychain: {
			add: 'Pidat nov kl',
		},
		udt: {
			add: 'Pidat datovou strukturu',
		},
		datastores: {
			create: 'Vytvoit datov sklad',
		},
		device: {
			add: 'Pidat nov zazen',
		},
		account: {
			create: 'Vytvoit spojen',
			extend: 'Rozit oprvnn',
			waiting: 'ekm na autorizaci...',
			creating: 'Vytvm spojen...',
			authorize: 'Kliknutm zde spustte ovovac proces.',
			extending: 'Roziuji oprvnn...',
			verifying: 'Ovuji spojen...',
			extendhelp: 'Abychom mohli vybran spojen pout, bude teba u nj rozit rozsah udlench oprvnn.',
			extendfailed: 'Oprvnn se nepodailo rozit.',
			verifyfailed: 'Spojen se nepodailo ovit.',
		},
		hook: {
			create: 'Vytvoit webhook',
		},
		rpc: {
			ok: 'OK',
		},
		datetimepicker: {
			dateTitle: 'Vyberte datum',
			timeTitle: 'Vyberte as',
		},
	},
	datastore: {
		chooseDatastore: 'Vyberte datov sklad',
	},
	connectedSystems: {
		chooseConnectedSystems: 'Vyberte napojen systm',
	},
	personalConnections: {
		useAsScenarioInput: 'Pout jako scenario input',
	},
	udtspec: {
		generate: 'Generovat',
		specification: {
			label: 'Typ',
		},
		label: {
			label: 'Popisek',
			help: 'Zobrazen nzev pro lep itelnost.',
		},
		name: {
			label: 'Nzev',
			help: 'Nzev promnn.',
		},
	},
	udt: {
		placeholder: 'Vyberte datovou strukturu',
	},
	tokens: {
		token: 'Token',
		safariDenied: 'Pstup odepen, prosm zkontrolujte nastaven prohlee Safari.',
		safariDisabled: 'Push notifikace jsou zakzan v nastaven prohlee Safari.',
		chromeExtNotInstalled: 'Chrome rozen nen nainstalovno.',
		chromeActivateExtension: 'Nejdve je poteba nainstalovat rozen prohlee Chrome.',
	},
	hooks: {
		copy: 'Zkoprovat do schrnky',
		gone: 'Webhook byl pli dlouho neaktivn a proto byl odstrann.',
		show: 'Zobrazit adresu',
		copied: 'Adresa byla zkoprovna.',
		create: 'Pidat hook',
		attached: 'Webhook jsme do {{service}} automaticky zaregistrovali. O nic vc se u nemuste starat.',
		listening:
			'{{integromat}} nyn oekv, e na ve uvedenou adresu webhooku polete njak data. Na zklad piatch dat pak odvod datovou strukturu.',
		determined: 'Datov struktura zskna.',
		redetermine: 'Zskat datovou strukturu',
	},
	accounts: {
		failedAdd: 'Nepodailo se pidat spojen.',
		createConnection: 'Vytvoit spojen',
		creationInProgress: 'ekm na oprvnn...',
	},
	hints: {
		enum: 'Povolen hodnoty: {{value}}.',
		format: 'Formt: {{value}}',
		filetypes: 'Povolen typy soubor: {{value}}.',
		selectmost: 'Mete vybrat maximln {{value}} poloek.',
		containmost: 'Me obsahovat nejvce {{value}} poloek.',
		incomparray:
			'Namapovan pole nen s clovou datovou strukturou kompatibiln. Kliknutm zde do scne pidte moduly, dky kterm budete moci datovou strukturu zdrojovho pole pemapovat.',
		selectleast: 'Mete vybrat nejmn {{value}} poloek.',
		containleast: 'Mus obsahovat nejmn {{value}} poloek.',
		exactlength: 'Mus bt pesn {{value}} znak dlouh.',
		lengthbetween: 'Mus bt minimln {{a}} a maximln {{b}} znak dlouh.',
		lengthmost: 'Mus bt maximln {{value}} znak dlouh.',
		lengthleast: 'Mus bt minimln {{value}} znak dlouh.',
		pattern: 'Mus odpovdat vzoru /{{pattern}}/.',
		striptags: 'Vechny HTML tagy budou automaticky odebrny.',
		escapetags: 'Vechny HTML tagy budou automaticky upraveny.',
		numberequal: 'Mus se rovnat {{value}}.',
		numberbetween: 'Mus bt slo mezi {{min}} a {{max}}.',
		numberlower: 'Mus bt men nebo rovno {{value}}.',
		numberhigher: 'Mus bt vt nebo rovno {{value}}.',
		port: 'Mus bt mezi 1 a 65535.',
		timezone: 'asov zna: {{value}}',
		formats: 'Podporovan formty data najdete v na [dokumentaci](kb://mapping/type-coercion).',
		account:
			'Vce informac o vytven spojen se slubou {{service}} najdete v na [dokumentaci](kb://app/{{name}}).',
		webhook:
			'Vce informac o vytven webhook ve slub {{service}} najdete v na [dokumentaci](kb://app/{{name}}).',
	},
	errors: {
		invalidResponse: 'Neplatn odpov.',
		noMatches: 'Nenalezeny dn shody.',
	},
	picker: {
		failedLoad: 'Nepodailo se nast data!',
		listEmpty: 'Nenalezeny dn poloky.',
		selectAll: 'Vybrat ve',
	},
	file: {
		noFile: 'Nejsou vybrny dn soubory',
		more: '+{{n}} soubor',
	},
	filter: {
		groups: {
			date: 'Opertory pro datum a as',
			text: 'Textov opertory',
			time: 'Opertory pro as',
			array: 'Opertory pro prci s poli',
			basic: 'Zkladn opertory',
			number: 'seln opertory',
			boolean: 'Booleanovsk opertory',
		},
		operators: {
			exist: {
				label: 'Existuje',
			},
			notexist: {
				label: 'Neexistuje',
			},
			'date:less': {
				label: 'Star ne',
			},
			'time:less': {
				label: 'Mn ne',
			},
			'array:less': {
				label: 'Poet zznam v poli men ne',
			},
			'date:equal': {
				label: 'Rovno',
			},
			'text:equal': {
				label: 'Rovno',
			},
			'time:equal': {
				label: 'Rovno',
			},
			'array:equal': {
				label: 'Poet zznam v poli rovno',
			},
			'number:less': {
				label: 'Mn ne',
			},
			'date:greater': {
				label: 'Novj ne',
			},
			'number:equal': {
				label: 'Rovno',
			},
			'text:contain': {
				label: 'Obsahuje',
			},
			'text:endwith': {
				label: 'Kon',
			},
			'text:pattern': {
				label: 'Odpovd vrazu',
			},
			'time:greater': {
				label: 'Vce ne',
			},
			'array:contain': {
				label: 'Obsahuje',
			},
			'array:greater': {
				label: 'Poet zznam v poli vt ne',
			},
			'boolean:equal': {
				label: 'Rovno',
			},
			'date:notequal': {
				label: 'Nerovno',
			},
			'text:equal:ci': {
				label: 'Rovno (nerozliuje mal a velk psmena)',
			},
			'text:notequal': {
				label: 'Nen rovno',
			},
			'time:notequal': {
				label: 'Nen rovno',
			},
			'array:notequal': {
				label: 'Poet zznam v poli nerovno',
			},
			'number:greater': {
				label: 'Vce ne',
			},
			'text:startwith': {
				label: 'Zan',
			},
			'number:notequal': {
				label: 'Nerovno',
			},
			'text:contain:ci': {
				label: 'Obsahuje (nerozliuje mal a velk psmena)',
			},
			'text:endwith:ci': {
				label: 'Kon (nerozliuje mal a velk psmena)',
			},
			'text:notcontain': {
				label: 'Neobsahuje',
			},
			'text:notendwith': {
				label: 'Nekon',
			},
			'text:notpattern': {
				label: 'Neodpovd vrazu',
			},
			'text:pattern:ci': {
				label: 'Odpovd vrazu (nerozliuje mal a velk psmena)',
			},
			'array:contain:ci': {
				label: 'Obsahuje (nerozliuje mal a velk psmena)',
			},
			'array:notcontain': {
				label: 'Neobsahuje',
			},
			'boolean:notequal': {
				label: 'Nen rovno',
			},
			'date:lessorequal': {
				label: 'Star ne nebo rovno',
			},
			'text:notequal:ci': {
				label: 'Nen rovno (nerozliuje mal a velk psmena)',
			},
			'time:lessorequal': {
				label: 'Mn nebo rovno',
			},
			'array:lessorequal': {
				label: 'Poet zznam v poli men nebo roven',
			},
			'text:notstartwith': {
				label: 'Nezan',
			},
			'text:startwith:ci': {
				label: 'Zan (nerozliuje mal a velk psmena)',
			},
			'number:lessorequal': {
				label: 'Mn nebo rovno',
			},
			'text:notcontain:ci': {
				label: 'Neobsahuje (nerozliuje mal a velk psmena)',
			},
			'text:notendwith:ci': {
				label: 'Nekon (nerozliuje mal a velk psmena)',
			},
			'text:notpattern:ci': {
				label: 'Neodpovd vrazu (nerozliuje mal a velk psmena)',
			},
			'array:notcontain:ci': {
				label: 'Neobsahuje (nerozliuje mal a velk psmena)',
			},
			'date:greaterorequal': {
				label: 'Novj ne nebo rovno',
			},
			'time:greaterorequal': {
				label: 'Vce nebo rovno',
			},
			'array:greaterorequal': {
				label: 'Poet zznam v poli vti nebo roven',
			},
			'text:notstartwith:ci': {
				label: 'Nezan (nerozliuje mal a velk psmena)',
			},
			'number:greaterorequal': {
				label: 'Vce nebo rovno',
			},
		},
	},
	iml: {
		date: {
			label: 'Datum a as',
			functions: {
				setDay: {
					help: 'Vrt datum kde den v tdnu bude nastaven na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 1 (nedle) - 7 (sobota) nebo nzev dne anglicky. Pokud bude tento rozsah pekroen, bude v datu odpovdajcm zpsobem nastaven i msc.',
					syntax: 'setDay(datum; slo/nzev dne anglicky)',
					example:
						'setDay("2018-06-27T11:36:39.138Z", "monday") {2018-06-25T11:36:39.138Z}\nsetDay("2018-06-27T11:36:39.138Z", 1) {2018-06-24T11:36:39.138Z}\nsetDay("2018-06-27T11:36:39.138Z", 7) {2018-06-30T11:36:39.138Z}',
				},
				addDays: {
					help: 'Vrt datum posunut o zadan poet dn. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addDays(datum; poet)',
					example:
						'addDays("2016-12-08T15:55:57.536Z"; 2) {2016-12-10T15:55:57.536Z}\naddDays("2016-12-08T15:55:57.536Z"; -2) {2016-12-6T15:55:57.536Z}',
				},
				setDate: {
					help: 'Vrt datum kde den v msci bude nastaven na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 1 - 31. Pokud bude tento rozsah pekroen, bude v datu odpovdajcm zpsobem nastaven i msc.',
					syntax: 'setDate(datum; slo)',
					example:
						'setDate("2015-08-07T11:36:39.138Z", 5) {2015-08-05T11:36:39.138Z}\nsetDate("2015-08-07T11:36:39.138Z", 32) {2015-09-01T11:36:39.138Z}',
				},
				setHour: {
					help: 'Vrt datum kde hodiny budou nastaveny na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 0 - 23. Pokud bude tento rozsah pekroen, bude v datu odpovdajcm zpsobem nastaven i den.',
					syntax: 'setHour(datum; slo)',
					example:
						'setHour("2015-08-07T11:36:39.138Z", 6) {2015-08-07T06:36:39.138Z}\nsetHour("2015-08-07T11:36:39.138Z", -6) {2015-08-06T18:36:39.138Z}',
				},
				setYear: {
					help: 'Vrt datum kde rok bude nastaven na hodnotu uvedenou v druhm parametru.',
					syntax: 'setYear(datum; islo)',
					example: 'setYear("2015-08-07T11:36:39.138Z", 2017) {2017-08-07T11:36:39.138Z}',
				},
				addHours: {
					help: 'Vrt datum posunut o zadan poet hodin. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addHours(datum; poet)',
					example:
						'addHours("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T17:55:57.536Z}\naddHours("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T13:55:57.536Z}',
				},
				addYears: {
					help: 'Vrt datum posunut o zadan poet rok. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addYears(date; poet)',
					example:
						'addYears("2016-08-08T15:55:57.536Z"; 2) {2018-08-08T15:55:57.536Z}\naddYears("2016-08-08T15:55:57.536Z"; -2) {2014-08-08T15:55:57.536Z}',
				},
				setMonth: {
					help: 'Vrt datum kde msc bude nastaven na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 1 - 12 nebo nzev msce anglicky. Pokud bude tento rozsah pekroen, bude v datu odpovdajcm zpsobem nastaven i rok.',
					syntax: 'setMonth(datum; slo/nzev msce anglicky)',
					example:
						'setMonth("2015-08-07T11:36:39.138Z", 5) {2015-05-07T11:36:39.138Z}\nsetMonth("2015-08-07T11:36:39.138Z", 17) {2016-05-07T11:36:39.138Z}\nsetMonth("2015-08-07T11:36:39.138Z", "january") {2015-01-07T12:36:39.138Z}',
				},
				addMonths: {
					help: 'Vrt datum posunut o zadan poet msc. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addMonths(datum; poet)',
					example:
						'addMonths("2016-08-08T15:55:57.536Z"; 2) {2016-10-08T15:55:57.536Z}\naddMonths("2016-08-08T15:55:57.536Z"; -2) {2016-06-08T15:55:57.536Z}',
				},
				parseDate: {
					help: 'Zpracuje textov etzec s datem a vrt datum.',
					syntax: 'parseDate(datum; ablona; [zna])',
					example:
						'parseDate("2016-12-28"; "YYYY-MM-DD") {2016-12-28T00:00:00.000Z}\nparseDate("2016-12-28 16:03"; "YYYY-MM-DD HH:mm") {2016-12-28T16:03:00.000Z}\nparseDate("2016-12-28 04:03 pm"; "YYYY-MM-DD hh:mm a") {2016-12-28T16:03:06.000Z}\nparseDate(1482940986; "X") {2016-12-28T16:03:06.000Z}',
				},
				setMinute: {
					help: 'Vrt datum kde minuty budou nastaveny na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 0 - 59. Pokud bude tento rozsah pekroen, budou v datu odpovdajcm zpsobem nastaveny i hodiny.',
					syntax: 'setMinute(datum; slo)',
					example:
						'setMinute("2015-10-07T11:36:39.138Z", 10) {2015-10-07T11:10:39.138Z}\nsetMinute("2015-10-07T11:36:39.138Z", 61) {2015-10-07T12:01:39.138Z}',
				},
				setSecond: {
					help: 'Vrt datum kde vteiny budou nastaveny na hodnotu uvedenou v druhm parametru. Povolen hodnoty jsou 0 - 59. Pokud bude tento rozsah pekroen, budou v datu odpovdajcm zpsobem nastaveny i minuty.',
					syntax: 'setSecond(datum; slo)',
					example:
						'setSecond("2015-10-07T11:36:39.138Z", 10) {2015-10-07T11:36:10.138Z}\nsetSecond("2015-10-07T11:36:39.138Z", 61) {2015-10-07T11:37:01.138Z}',
				},
				addMinutes: {
					help: 'Vrt datum posunut o zadan poet minut. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addMinutes(datum; poet)',
					example:
						'addMinutes("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T15:57:57.536Z}\naddMinutes("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T15:53:57.536Z}',
				},
				addSeconds: {
					help: 'Vrt datum posunut o zadan poet sekund. Pro posunut smrem dozadu zadejte zporn slo.',
					syntax: 'addSeconds(datum; poet)',
					example:
						'addSeconds("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T15:55:59.536Z}\naddSeconds("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T15:55:55.536Z}',
				},
				formatDate: {
					help: 'Vrt datum v poadovanm formtu a voliteln v dan asov zn. Pklad formtu: DD.MM.YYYY HH:mm',
					syntax: 'formatDate(datum; formt; [zna])',
					example:
						'formatDate("2016-12-28T16:03:06.372Z"; "MM/DD/YYYY")  {12/28/2016}\nformatDate("2016-12-28T16:03:06.372Z"; "YYYY-MM-DD hh:mm A")  {2016-12-28 4:03 PM}\nformatDate("2016-12-28T16:03:06.372Z"; "DD.MM.YYYY HH:mm"; "Europe/Prague")  {28.12.2016 17:03}\n',
				},
			},
			variables: {
				now: {
					help: 'Aktuln datum a as.',
				},
				timestamp: {
					help: 'Unix timestamp. Poet sekund od plnoci 1. 1. 1970 GMT.',
				},
			},
		},
		math: {
			label: 'Matematick funkce',
			functions: {
				max: {
					help: 'Vrt nejvt slo z sel v zadanm poli, nebo z jednotliv zadanch sel.',
					syntax: 'max([pole hodnot]), max(hodnota1; hodnota2; ...)',
				},
				min: {
					help: 'Vrt nejmen slo z sel v zadanm poli, nebo z jednotliv zadanch sel.',
					syntax: 'min([pole hodnot]), min(hodnota1; hodnota2; ...)',
				},
				sum: {
					help: 'Vrt souet sel v zadanm poli, nebo souet jednotliv zadanch hodnot.',
					syntax: 'sum([pole hodnot]), sum(hodnota1; hodnota2; ...)',
				},
				ceil: {
					help: 'Vrt nejmen cel slo vt nebo rovno zadanmu slu. ',
					syntax: 'ceil(slo)',
					example: 'ceil(1.2) {2}\nceil(4) {4}',
				},
				floor: {
					help: 'Vrt nejvt cel slo men nebo rovno zadanmu slu. ',
					syntax: 'floor(slo)',
					example: 'floor(1.2) {1}\nfloor(1.9) {1}\nfloor(4) {4}',
				},
				round: {
					help: 'Zaokrouhl hodnotu na nejbli cel slo.',
					syntax: 'round(slo)',
					example: 'round(1.2) {1}\nround(1.5) {2}\nround(1.7) {2}\nround(2) {2}',
				},
				average: {
					help: 'Vrt prmrnou hodnotu sel v zadanm poli, nebo jednotliv zadanch hodnot.',
					syntax: 'average([pole hodnot]), average(hodnota1; hodnota2; ...)',
				},
				parseNumber: {
					help: 'Zpracuje textov etzec s slem a vrt slo. P: parseNumber(1 756,456;,)',
					syntax: 'parseNumber(slo; oddlovac znak desetinnch mst)',
				},
				formatNumber: {
					help: 'Vrt slo v poadovanm formtu. Desetinn oddlova je defaulnt `,`. Oddlova tisc je defaultn `.`.',
					syntax: 'formatNumber(number; desetin; [desetinnyOddelovac]; [oddelovacTisicu])',
				},
			},
			operators: {
				'%': {
					help: 'Modulo.',
				},
				'*': {
					help: 'Nsoben.',
				},
				'+': {
					help: 'Souet.',
				},
				'-': {
					help: 'Odeet.',
				},
				'/': {
					help: 'Dlen.',
				},
				'<': {
					help: 'Men ne.',
				},
				'>': {
					help: 'Vt ne.',
				},
				'<=': {
					help: 'Men ne nebo rovno.',
				},
				'>=': {
					help: 'Vt ne nebo rovno.',
				},
			},
			variables: {
				pi: {
					help: 'Konstanta .',
				},
				random: {
					help: 'Nhodn desetinn slo mezi 0 (vetn) a 1 (vyjma).',
				},
			},
		},
		array: {
			label: 'Funkce pro prci s polem',
			keywords: {
				emptyarray: {
					help: 'Vlo przdn pole.',
					label: 'Przdn pole',
				},
			},
			functions: {
				add: {
					help: 'Vrt pole rozen o nov zznamy.',
					syntax: 'add(pole; hodnota1; hodnota2; ...)',
				},
				map: {
					help: 'Vrt jednoduch pole hodnot z pole objekt, kter me zrove filtrovat. Kle musej bt zadny jako "raw" nzvy prommnch.',
					syntax: 'map(pole objekt; kl;[kl pro filtrovn];[mon hodnoty pro filtrovn])',
					example:
						'map(Emaily[]; "email") {Vrt jednoduch pole s emaily}\nmap(Emaily[]; "email"; "label"; "prce,dom") {vrt jednoduch pole email, kter maj label roven prce nebo dom.}',
				},
				join: {
					help: 'Pevede pole na text, kde poloky pole budou spojeny oddlovaem.',
					syntax: 'join(pole; oddlova)',
				},
				keys: {
					help: 'Vrt nov pole obsahujc seznam vech vlastnost (kl) zadanho objektu nebo pole.',
					syntax: 'keys(objekt)',
				},
				sort: {
					help: 'Sead hodnoty uvnit pole. Smr je bu `asc` (vzestupn), `desc` (sestupn), `asc ci` (vzestupn bez rozdlu velikosti psmen) nebo `desc ci` (sestupn bez rozdlu velikosti psmen). Pro pstup k vlastnostem komplexnch objekt zadejte argument `kl`. Kle musej bt zadny jako "raw" nzvy prommnch. Pro pstup k zanoenm hodnotm pouijte tekovou notaci. Prvn poloka v poli m index 1.',
					syntax: 'sort(pole; [smr]; [kl])',
					example:
						'sort(Contacts[]; "name") {Sead pole kontakt podle vlastnosti `name`.}\nsort(Emails[]; "sender.name") {Sead pole kontakt podle vlastnosti `sender.name`.}',
				},
				merge: {
					help: 'Spoj dv nebo vce pol do jednoho pole.',
					syntax: 'merge(array1; array2; ...)',
				},
				slice: {
					help: 'Vrt nov pole obsahujc pouze vybran zznamy.',
					syntax: 'slice(pole; zatek; [konec])',
				},
				length: {
					help: 'Vrt poet zznam v poli.',
					syntax: 'length(pole)',
				},
				remove: {
					help: 'Smae z pole hodnoty definovan v parametrech do funkce. Efektivn pouze na jednoduchch textovch a selnch polch.',
					syntax: 'remove(pole; hodnota1; hodnota2; ...)',
				},
				contains: {
					help: 'Ov zda v poli existuje hledan hodnota.',
					syntax: 'contains(pole; hodnota)',
				},
				distinct: {
					help: 'Odstran duplicity uvnit pole. Pro pstup k vlastnostem komplexnch objekt zadejte argument `kl`. Pro pstup k zanoenm hodnotm pouijte tekovou notaci. Prvn poloka v poli m index 1.',
					syntax: 'distinct(pole; [kl])',
					example: 'distinct(Contacts[]; "name") {Odstran duplicity uvnit pole porovnnm vlastnosti `name`.}',
				},
				toCollection: {
					help: 'Pevede pole objekt s kl-hodnota pry na kolekci.',
					syntax: 'toCollection(pole; kl; hodnota)',
					example:
						"toCollection(array; \"name\", \"value\") {Pevede pole jako je toto `[{name: 'firstName', value: 'John'}, {name: 'lastName', value: 'Mars'}] na kolekci `{firstName: 'John', lastName: 'Mars'}`}",
				},
				deduplicate: {
					help: 'Odstran duplicity z pole.',
					syntax: 'deduplicate(pole)',
				},
				flatten: {
					help: 'Vrt nov pole, kter bude obsahovat poloky vech zanoench pol dle zadan hloubky. Hloubka je defaultn `1`.',
					syntax: 'flatten(pole, [hloubka])',
				},
				reverse: {
					help: 'Oto poad poloek v poli.',
					syntax: 'reverse(pole)',
				},
				shuffle: {
					help: 'Zamch poad poloek v poli.',
					syntax: 'shuffle(pole)',
				},
				first: {
					help: 'Vrt prvn poloku z pole.',
					syntax: 'first(pole)',
				},
				last: {
					help: 'Vrt posledn poloku z pole.',
					syntax: 'last(pole)',
				},
			},
		},
		string: {
			label: 'Textov a binrn funkce',
			keywords: {
				tab: {
					help: 'Vlo na dan msto znak pro tabultor.',
					label: 'Tabultor',
				},
				nbsp: {
					help: 'Vlo na dan msto znak pro nedlitelnou mezeru (non-breaking space).',
					label: 'Nedliteln mezera',
				},
				space: {
					help: 'Vlo na dan msto znak pro mezeru.',
					label: 'Mezera',
				},
				newline: {
					help: 'Vlo na dan msto znak pro nov dek.',
					label: 'Nov dek',
				},
				emptystring: {
					help: 'Vlo na dan msto przdn text.',
					label: 'Przdn text',
				},
				carriagereturn: {
					help: 'Vlo na dan msto znak pro carriage return',
					label: 'Carriage return',
				},
			},
			functions: {
				md5: {
					help: 'Vytvo md5 hash ze zadanho textu.',
					syntax: 'md5(text)',
					example: 'md5("internet") {c3581516868fb3b71746931cac66390e}',
				},
				sha1: {
					help: 'Vytvo sha1 hash ze zadanho textu. Pokud zadte kl, vytvo sha1 HMAC hash. Vstupn kdovn me nabvat hodnot `hex` (default), `base64` nebo `latin1`. Kdovn kle me nabvat hodnot `text` (default), `hex`, `base64` nebo `binary`.',
					syntax: 'sha1(text; [vstupn kodovn]; [kl]; [kodovn kle])',
					example: 'sha1("internet") {4d0fb475b242228032cbdf6d53924d2538df037b}',
				},
				trim: {
					help: 'Odstran mezery na zatku a konci textu.',
					syntax: 'trim(text)',
				},
				ascii: {
					help: 'Odstran z textu vechny ne-ascii znaky.',
					syntax: 'ascii(text; [odebrat diakritiku])',
					example: 'ascii("Hello") {Hello}\nascii(""; true) {escrz}',
				},
				lower: {
					help: 'Pevede vechny znaky abecedy v textu na mal psmena.',
					syntax: 'lower(text)',
					example: 'lower("Hello"){hello}',
				},
				split: {
					help: 'Rozdl text na samostatn bloky textu dle zadanho oddlovae a vytvo pole. Pokud je parametr zachovatPrzdnText roven `true`, pak jsou przdn poloky zachovny.',
					syntax: 'split(text; oddlova; [zachovatPrzdnText])',
					example: 'split("John,George,Paul"; ",")',
				},
				upper: {
					help: 'Pevede vechny znaky abecedy v textu na velk psmena.',
					syntax: 'upper(text)',
					example: 'upper("Hello") {HELLO}',
				},
				base64: {
					help: 'Pevede text do binrn podoby v base64 kdovn.',
					syntax: 'base64(text)',
					example: 'base64("internet") {aW50ZXJuZXQ=}',
				},
				length: {
					help: 'Vrt poet znak v textu nebo dlku binrnho bufferu v bytech.',
					syntax: 'length(text nebo buffer)',
					example: 'length("Hello"){5}',
				},
				sha256: {
					help: 'Vytvo sha256 hash ze zadanho textu. Pokud zadte kl, vytvo sha256 HMAC hash. Vstupn kdovn me nabvat hodnot `hex` (default), `base64` nebo `latin1`. Kdovn kle me nabvat hodnot `text` (default), `hex`, `base64` nebo `binary`.',
					syntax: 'sha256(text; [vstupn kodovn]; [kl]; [kodovn kle])',
					example: 'sha256("internet") {3b0fe0d342e9fa16a5c68dbba33f2e63c024f72a9d4c1ce1028570101d5229ff}',
				},
				sha512: {
					help: 'Vytvo sha512 hash ze zadanho textu. Pokud zadte kl, vytvo sha512 HMAC hash. Vstupn kdovn me nabvat hodnot `hex` (default), `base64` nebo `latin1`. Kdovn kle me nabvat hodnot `text` (default), `hex`, `base64` nebo `binary`.',
					syntax: 'sha512(text; [vstupn kodovn]; [kl]; [kodovn kle])',
					example:
						'sha512("internet") {394ec188f58367d2b25af31a11a61435b2544c197b0baeb43cfbcb0d7b0116cd8d412e618272ca23561f787960844f86b8f775803405fd2abc358861c074c595}',
				},
				indexOf: {
					help: 'Vrt pozici prvnho vskytu zadan hodnoty uvnit etzce. Pokud nen nalezen dn vskyt, vrac funkce hodnotu `-1`.',
					syntax: 'indexOf(etzec; hodnota; [start])',
					example: 'indexOf("Internet"; "t") {2}\nindexOf("Internet"; "x") {-1}\nindexOf("Internet"; "t"; 3) {7}',
				},
				replace: {
					help: 'Nahrad hledan textov etzec novm etzcem.',
					syntax: 'replace(text; hledan text; nhradn text)',
					example: 'replace("Hello World";"Hello";"Hi") {Hi World}',
				},
				contains: {
					help: 'Ov zda v textu existuje hledan etzec.',
					syntax: 'contains(text; hledan etzec)',
					example: 'contains("Hello World"; "Hello")  {true}\ncontains("Hello World"; "Bye")  {false}',
				},
				toBinary: {
					help: 'Pevede libovolnou hodnotu na binrn data. Jako druh argument mete uvst kdovn `hex` nebo `base64` pro pevod textovho etzce na binrn data.',
					syntax: 'toBinary(hodnota)',
					example: 'toBinary("internet") {696e7465726e6574}\ntoBinary("aW50ZXJuZXQ="; "base64") {696e7465726e6574}',
				},
				toString: {
					help: 'Pevede libovolnou hodnotu na textov etzec.',
					syntax: 'toString(hodnota)',
				},
				decodeURL: {
					help: 'Dekduje speciln znaky v URL adrese na text.',
					syntax: 'decodeURL(text)',
					example: 'decodeURL("Automate%20your%20workflow") {Automate your workflow}',
				},
				encodeURL: {
					help: 'Pekduje speciln znaky v textu na platnou URL adresu.',
					syntax: 'encodeURL(text)',
				},
				startcase: {
					help: 'Uprav poten psmeno vech slov na velk, ostatn psmena budou pevedena na mal.',
					syntax: 'startcase(text)',
					example: 'startcase("hello WORLD") {Hello World}',
				},
				stripHTML: {
					help: 'Odstran z textu vechny HTML znaky.',
					syntax: 'stripHTML(text)',
					example: 'stripHTML("<b>Hello</b>"){Hello}',
				},
				substring: {
					help: 'Vrt znaky v textu od pozice start do pozice konec. ',
					syntax: 'substring(text; start; konec)',
					example: 'substring("Hello";0;3) {Hel}\nsubstring("Hello";1;3)  {el}',
				},
				capitalize: {
					help: 'Pevede prvn znak v textu na velk psmeno.',
					syntax: 'capitalize(text)',
					example: 'capitalize("internet") {Internet}',
				},
				escapeHTML: {
					help: 'Pekduje vechny HTML znaky na text.',
					syntax: 'escapeHTML(text)',
					example: 'escapeHTML("<b>Hello</b>") {&lt;b&gt;Hello&lt;/b&gt;}',
				},
				escapeMarkdown: {
					example: 'escapeMarkdown("# Header") {&#35; Header}',
					help: 'Pekduje vechny Markdown znaky na text.',
					syntax: 'escapeMarkdown(text)',
				},
			},
			variables: {
				uuid: {
					help: 'Uniktn identifiktor dle RFC 4122 verze 4.',
				},
			},
		},
		general: {
			label: 'Obecn funkce',
			keywords: {
				null: {
					help: 'Vlo null (przdnou) hodnotu.',
					label: 'Null',
				},
				true: {
					help: 'Logick hodnota (true).',
					label: 'Ano',
				},
				false: {
					help: 'Logick hodnota (false).',
					label: 'Ne',
				},
				ignore: {
					help: 'Instruuje jdro, aby se k poli chovalo, jako kdyby nebylo vyplnn. Uiten ve sloitjch IML vrazech.',
					label: 'Ignorovat',
				},
				erase: {
					help: 'Vymae hodnotu. V ppad pole nastav przdn pole.',
					label: 'Smazat',
				},
			},
			functions: {
				'': {
					help: '',
					syntax: '(vraz)',
				},
				if: {
					help: 'Vyhodnot vraz a pokud je vraz pravdiv vrt hodnotu1, pokud nepravdiv vrt hodnotu2.',
					syntax: 'if(vraz; hodnota1; hodnota2)',
					example: 'if(1 = 1; "A"; "B") {A}\nif(1 = 2; "A"; "B") {B}',
				},
				get: {
					help: 'Vrt hodnotu dle zadan cesty uvnit pole nebo objektu. Pro pstup k zanoenm hodnotm pouijte tekovou notaci. Prvn poloka v poli m index 1.',
					syntax: 'get(objekt nebo pole; cesta)',
					example:
						'get(array; 1+1)\nget(array; "5.raw_name")\nget(object; "raw_name")\nget(object; "raw_name.sub_raw_name")',
				},
				equal: {
					help: 'Porovnv, zda jsou hodnoty shodn.',
					syntax: 'equal(hodnota; hodnota)',
				},
				switch: {
					help: 'Funkce porovnv hodnotu vrazu se seznamem hodnot a jako vsledek vrac prvn shodnou hodnotu.',
					syntax: 'switch(vraz; hodnota1; vsledek1; [hodnota2; vsledek2; ...]; [else])',
					example:
						'switch("B"; "A"; 1; "B"; 2; "C"; 3) {2}\nswitch("C"; "A"; 1; "B"; 2; "C"; 3) {3}\nswitch("X"; "A"; 1; "B"; 2; "C"; 3; 4) {4}',
				},
				ifempty: {
					help: 'Pokud nen hodnota1 przdn vrt tuto hodnotu, v opanm ppad vrt hodnotu2.',
					syntax: 'ifempty(hodnota1; hodnota2)',
					example: 'ifempty("A";"B"){A}\nifempty(unknown;"B"){B}\nifempty("";"B"){B}',
				},
				omit: {
					help: 'Vynech zadan kle z objektu.',
					syntax: 'omit(objekt; kl1; [kl2; ...])',
					example: 'omit(User; "heslo")',
				},
				pick: {
					help: 'Vybere z objektu zadan kle.',
					syntax: 'pick(objekt; kl1; [kl2; ...])',
					example: 'pick(User; "jmeno"; "email")',
				},
			},
			operators: {
				'&': {
					help: 'Provd logick AND (a zrove) spojen dvou vraz.',
					label: 'and',
				},
				'=': {
					help: 'Je rovno.',
				},
				'|': {
					help: 'Provd logick OR (nebo) spojen dvou vraz.',
					label: 'or',
				},
				'!=': {
					help: 'Nen rovno.',
				},
			},
			variables: {
				executionId: {
					help: 'Uniktn ID prv sputnho bhu.',
				},
			},
		},
		integromat: {
			label: 'Vlastn a systmov promnn',
			variables: {
				operationsLeft: {
					help: 'Poet zbvajcch operac v rmci aktulnho pedplatnho.',
				},
				dataTransferLeft: {
					help: 'Poet zbvajcho datovho penosu v rmci aktulnho pedplatnho.',
				},
			},
		},
	},
});


/***/ }),

/***/ "./lib/locale/en.mjs":
/*!***************************!*\
  !*** ./lib/locale/en.mjs ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-disable max-len */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	common: {
		add: 'Add',
		close: 'Close',
		save: 'Save',
		popup: 'The pop-up window has been blocked. Please enable pop-up windows and try again.',
		error: 'Error',
		continue: 'Continue',
		edit: 'Edit',
		clone: 'Clone',
		showAdvanced: 'Show advanced settings',
		note: 'Note',
		name: 'Name',
		empty: 'Empty',
		whitespace: 'Whitespace',
		value: 'Value: ',
	},
	buttons: {
		edititem: 'Edit item',
		extract: 'Extract',
		newitem: 'New item',
		addor: 'Add OR rule',
		addand: 'Add AND rule',
		browse: 'Browse',
		map: 'Map',
		refresh: 'Refresh',
		expandAll: 'Expand all',
		collapseAll: 'Collapse all',
	},
	panels: {
		keychain: {
			add: 'Add new keychain',
			create: 'Create a keychain',
		},
		udt: {
			add: 'Add data structure',
			create: 'Create a data structure',
		},
		datastores: {
			create: 'Create a data store',
		},
		device: {
			add: 'Add new device',
			create: 'Create a device',
		},
		account: {
			create: 'Create a connection',
			extend: 'Update the connection permissions',
			waiting: 'Waiting for authorization...',
			creating: 'Creating a connection...',
			authorize: 'Click here to start the authorization process.',
			extending: 'Extending permissions...',
			verifying: 'Verifying connection...',
			extendhelp: 'Update your connection with the required permissions to continue working with the app.',
			extendfailed: 'Failed to extend permissions',
			verifyfailed: 'Failed to verify the connection.',
		},
		hook: {
			create: 'Create a webhook',
		},
		rpc: {
			ok: 'OK',
		},
		datetimepicker: {
			dateTitle: 'Select date',
			timeTitle: 'Select time',
		},
	},
	datastore: {
		chooseDatastore: 'Choose a data store',
	},
	connectedSystems: {
		chooseConnectedSystems: 'Choose a connected system',
	},
	personalConnections: {
		useAsScenarioInput: 'Create a dynamic connection',
		noValueAssigned: 'No connection value assigned',
	},
	udtspec: {
		generate: 'Generate',
		specification: {
			label: 'Type',
		},
		label: {
			label: 'Label',
			help: 'Display name for better readability.',
		},
		name: {
			label: 'Name',
			help: 'Name of the property.',
		},
	},
	udt: {
		placeholder: 'Choose a data structure',
	},
	tokens: {
		token: 'Token',
		safariDenied: 'Permission was denied, please check your Safari settings.',
		safariDisabled: 'Asking for push notifications permissions is disabled in Safari preferences.',
		chromeExtNotInstalled: 'Chrome extension is not installed.',
		chromeActivateExtension: 'Please, activate the extension first',
	},
	hooks: {
		copy: 'Copy address to clipboard',
		gone: 'Webhook was inactive for too long and therefore was removed.',
		show: 'Show address',
		copied: 'Address was copied to clipboard.',
		create: 'Add a hook',
		attached: 'We read your mind, we attached this webhook automatically for you.',
		listening:
			'{{integromat}} is now listening for the data and will determine the data structure from the incoming data automatically. To initiate this, please send your data sample to the webhook address displayed above.',
		determined: 'Successfuly determined.',
		redetermine: 'Redetermine data structure',
	},
	accounts: {
		failedAdd: 'Failed to add a new connection.',
		createConnection: 'Create a connection',
		creationInProgress: 'Waiting for authorization...',
		personalConnections: 'Personal',
		teamConnections: 'Team',
		dynamicConnections: 'Dynamic connections',
		createInput: 'Create a dynamic connection',
		updateInput: 'Update a dynamic connection',
		scenarioInput: 'Dynamic connection variable name',
		scenarioInputPatternHelp:
			'Can only contain letters, digits, and the `_` symbol. Cannot start with a digit or `_` followed by a digit.',
		scenarioInputNameInUse: 'Dynamic connection variable name is already in use.',
		scenarioInputDefault: '{{service}}Connection',
		bulidTimeValue: 'Build-time value',
		buildTimeValueHelp: 'The connection to use while building the scenario.',
		buildTimeAsDefaultHint:
			'Select **Yes** to set the Build-time value as the default value for the dynamic connection. Select **No** to set a different connection as the default.',
		defaultValueHint: 'The default connection to run the scenario.',
		builtTimeValueMissing:
			'The dynamic connection variable requires a connection value. Assign connection to the variable.',
	},
	hints: {
		enum: 'Valid values: {{value}}.',
		format: 'Format: {{value}}',
		filetypes: 'Valid file types: {{value}}.',
		selectmost: 'Choose at most {{value}} item(s).',
		containmost: 'Can contain at most {{value}} item(s).',
		incomparray:
			'The source array, which you have mapped into the destination array, is not compatible with the target data structure. By clicking here you can add other modules to your scenario, which will enable you to remap the data structure of the source array.',
		selectleast: 'Choose at least {{value}} item(s).',
		containleast: 'Must contain at least {{value}} item(s).',
		exactlength: 'Must be exactly {{value}} characters long.',
		lengthbetween: 'Must be between {{a}} and {{b}} characters long.',
		lengthmost: 'Must be at most {{value}} characters long.',
		lengthleast: 'Must be at least {{value}} characters long.',
		pattern: 'Must match pattern /{{pattern}}/.',
		striptags: 'All HTML tags will be automatically removed.',
		escapetags: 'All HTML tags will be automatically escaped.',
		numberequal: 'Must be equal to {{value}}.',
		numberbetween: 'Must be a number between {{min}} and {{max}}.',
		numberlower: 'Must be lower than or equal to {{value}}.',
		numberhigher: 'Must be higher than or equal to {{value}}.',
		port: 'Must be between 1 and 65535.',
		timezone: 'Time zone: {{value}}',
		formats: 'For more information about supported date formats, see the [online Help](kb://mapping/type-coercion).',
		account:
			'For more information on how to create a connection to {{service}}, see the [online Help](kb://app/{{name}}).',
		webhook:
			'For more information on how to create a webhook in {{service}}, see the [online Help](kb://app/{{name}}).',
	},
	errors: {
		invalidResponse: 'Invalid response.',
		noMatches: 'No matches found.',
	},
	picker: {
		failedLoad: 'Failed to load data!',
		listEmpty: 'No items available.',
		selectAll: 'Select All',
	},
	file: {
		noFile: 'No files selected',
		more: '+{{n}} files',
	},
	filter: {
		groups: {
			date: 'Datetime operators',
			text: 'Text operators',
			time: 'Time operators',
			array: 'Array operators',
			basic: 'Basic operators',
			number: 'Numeric operators',
			boolean: 'Boolean operators',
		},
		operators: {
			exist: {
				label: 'Exists',
			},
			notexist: {
				label: 'Does not exist',
			},
			'date:less': {
				label: 'Earlier than',
			},
			'time:less': {
				label: 'Less than',
			},
			'array:less': {
				label: 'Array length less than',
			},
			'date:equal': {
				label: 'Equal to',
			},
			'text:equal': {
				label: 'Equal to',
			},
			'time:equal': {
				label: 'Equal to',
			},
			'array:equal': {
				label: 'Array length equal to',
			},
			'number:less': {
				label: 'Less than',
			},
			'date:greater': {
				label: 'Later than',
			},
			'number:equal': {
				label: 'Equal to',
			},
			'text:contain': {
				label: 'Contains',
			},
			'text:endwith': {
				label: 'Ends with',
			},
			'text:pattern': {
				label: 'Matches pattern',
			},
			'time:greater': {
				label: 'Greater than',
			},
			'array:contain': {
				label: 'Contains',
			},
			'array:greater': {
				label: 'Array length greater than',
			},
			'boolean:equal': {
				label: 'Equal to',
			},
			'date:notequal': {
				label: 'Not equal to',
			},
			'text:equal:ci': {
				label: 'Equal to (case insensitive)',
			},
			'text:notequal': {
				label: 'Not equal to',
			},
			'time:notequal': {
				label: 'Not equal to',
			},
			'array:notequal': {
				label: 'Array length not equal to',
			},
			'number:greater': {
				label: 'Greater than',
			},
			'text:startwith': {
				label: 'Starts with',
			},
			'number:notequal': {
				label: 'Not equal to',
			},
			'text:contain:ci': {
				label: 'Contains (case insensitive)',
			},
			'text:endwith:ci': {
				label: 'Ends with (case insensitive)',
			},
			'text:notcontain': {
				label: 'Does not contain',
			},
			'text:notendwith': {
				label: 'Does not end with',
			},
			'text:notpattern': {
				label: 'Does not match pattern',
			},
			'text:pattern:ci': {
				label: 'Matches pattern (case insensitive)',
			},
			'array:contain:ci': {
				label: 'Contains (case insensitive)',
			},
			'array:notcontain': {
				label: 'Does not contain',
			},
			'boolean:notequal': {
				label: 'Not equal to',
			},
			'date:lessorequal': {
				label: 'Earlier than or equal to',
			},
			'text:notequal:ci': {
				label: 'Not equal to (case insensitive)',
			},
			'time:lessorequal': {
				label: 'Less than or equal to',
			},
			'array:lessorequal': {
				label: 'Array length less than or equal to',
			},
			'text:notstartwith': {
				label: 'Does not start with',
			},
			'text:startwith:ci': {
				label: 'Starts with (case insensitive)',
			},
			'number:lessorequal': {
				label: 'Less than or equal to',
			},
			'text:notcontain:ci': {
				label: 'Does not contain (case insensitive)',
			},
			'text:notendwith:ci': {
				label: 'Does not end with (case insensitive)',
			},
			'text:notpattern:ci': {
				label: 'Does not match pattern (case insensitive)',
			},
			'array:notcontain:ci': {
				label: 'Does not contain (case insensitive)',
			},
			'date:greaterorequal': {
				label: 'Later than or equal to',
			},
			'time:greaterorequal': {
				label: 'Greater than or equal to',
			},
			'array:greaterorequal': {
				label: 'Array length greater than or equal to',
			},
			'text:notstartwith:ci': {
				label: 'Does not start with (case insensitive)',
			},
			'number:greaterorequal': {
				label: 'Greater than or equal to',
			},
		},
	},

	iml: {
		date: {
			label: 'Date and time',
			functions: {
				setDay: {
					help: 'Returns a new date with the day specified in parameters. It can be used to set the day of the week, with Sunday as 1 and Saturday as 7. If the given value is from 1 to 7, the resulting date will be within the current (Sunday-to-Saturday) week. If a number is given outside of the range, it will return the day from the previous or subsequent week(s), accordingly.',
					syntax: 'setDay(date; number/name of the day in english)',
					example:
						'setDay("2018-06-27T11:36:39.138Z", "monday") {2018-06-25T11:36:39.138Z}\nsetDay("2018-06-27T11:36:39.138Z", 1) {2018-06-24T11:36:39.138Z}\nsetDay("2018-06-27T11:36:39.138Z", 7) {2018-06-30T11:36:39.138Z}',
				},
				addDays: {
					help: 'Returns a new date as a result of adding a given number of days to a date. To subtract days, enter a negative number.',
					syntax: 'addDays(date; number)',
					example:
						'addDays("2016-12-08T15:55:57.536Z"; 2) {2016-12-10T15:55:57.536Z}\naddDays("2016-12-08T15:55:57.536Z"; -2) {2016-12-6T15:55:57.536Z}',
				},
				setDate: {
					help: 'Returns a new date with the day of the month specified in parameters. Accepts numbers from 1 to 31. If a number is given outside of the range, it will return the day from the previous or subsequent month(s), accordingly.',
					syntax: 'setDate(date; number)',
					example:
						'setDate("2015-08-07T11:36:39.138Z", 5) {2015-08-05T11:36:39.138Z}\nsetDate("2015-08-07T11:36:39.138Z", 32) {2015-09-01T11:36:39.138Z}',
				},
				setHour: {
					help: 'Returns a new date with the hour specified in parameters. Accepts numbers from 0 to 23. If a number is given outside of the range, it will return the date with the hour from the previous or subsequent day(s), accordingly.',
					syntax: 'setHour(date; number)',
					example:
						'setHour("2015-08-07T11:36:39.138Z", 6) {2015-08-07T06:36:39.138Z}\nsetHour("2015-08-07T11:36:39.138Z", -6) {2015-08-06T18:36:39.138Z}',
				},
				setYear: {
					help: 'Returns a new date with the year specified in parameters.',
					syntax: 'setYear(date; number)',
					example: 'setYear("2015-08-07T11:36:39.138Z", 2017) {2017-08-07T11:36:39.138Z}',
				},
				addHours: {
					help: 'Returns a new date as a result of adding a given number of hours to a date. To subtract hours, enter a negative number.',
					syntax: 'addHours(date; number)',
					example:
						'addHours("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T17:55:57.536Z}\naddHours("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T13:55:57.536Z}',
				},
				addYears: {
					help: 'Returns a new date as a result of adding a given number of years to a date. To subtract years, enter a negative number.',
					syntax: 'addYears(date; number)',
					example:
						'addYears("2016-08-08T15:55:57.536Z"; 2) {2018-08-08T15:55:57.536Z}\naddYears("2016-08-08T15:55:57.536Z"; -2) {2014-08-08T15:55:57.536Z}',
				},
				setMonth: {
					help: 'Returns a new date with the month specified in parameters. Accepts numbers from 1 to 12. If a number is given outside of this range, it will return the month in the previous or subsequent year(s), accordingly.',
					syntax: 'setMonth(date; number/name of the month in english)',
					example:
						'setMonth("2015-08-07T11:36:39.138Z", 5) {2015-05-07T11:36:39.138Z}\nsetMonth("2015-08-07T11:36:39.138Z", 17) {2016-05-07T11:36:39.138Z}\nsetMonth("2015-08-07T11:36:39.138Z", "january") {2015-01-07T12:36:39.138Z}',
				},
				addMonths: {
					help: 'Returns a new date as a result of adding a given number of months to a date. To subtract months, enter a negative number.',
					syntax: 'addMonths(date; number)',
					example:
						'addMonths("2016-08-08T15:55:57.536Z"; 2) {2016-10-08T15:55:57.536Z}\naddMonths("2016-08-08T15:55:57.536Z"; -2) {2016-06-08T15:55:57.536Z}',
				},
				parseDate: {
					help: 'Parses a string with a date and returns the date.',
					syntax: 'parseDate(date; format; [timezone])',
					example:
						'parseDate("2016-12-28"; "YYYY-MM-DD") {2016-12-28T00:00:00.000Z}\nparseDate("2016-12-28 16:03"; "YYYY-MM-DD HH:mm") {2016-12-28T16:03:00.000Z}\nparseDate("2016-12-28 04:03 pm"; "YYYY-MM-DD hh:mm a") {2016-12-28T16:03:06.000Z}\nparseDate(1482940986; "X") {2016-12-28T16:03:06.000Z}',
				},
				setMinute: {
					help: 'Returns a new date with the minutes specified in parameters. Accepts numbers from 0 to 59. If a number is given outside of the range, it will return the date with the minutes from the previous or subsequent hour(s), accordingly. ',
					syntax: 'setMinute(date; number)',
					example:
						'setMinute("2015-10-07T11:36:39.138Z", 10) {2015-10-07T11:10:39.138Z}\nsetMinute("2015-10-07T11:36:39.138Z", 61) {2015-10-07T12:01:39.138Z}',
				},
				setSecond: {
					help: 'Returns a new date with the seconds specified in parameters. Accepts numbers from 0 to 59. If a number is given outside of this range, it will return the date with the seconds from the previous or subsequent minute(s), accordingly.',
					syntax: 'setSecond(date; number)',
					example:
						'setSecond("2015-10-07T11:36:39.138Z", 10) {2015-10-07T11:36:10.138Z}\nsetSecond("2015-10-07T11:36:39.138Z", 61) {2015-10-07T11:37:01.138Z}',
				},
				addMinutes: {
					help: 'Returns a new date as a result of adding a given number of minutes to a date. To subtract minutes, enter a negative number.',
					syntax: 'addMinutes(date; number)',
					example:
						'addMinutes("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T15:57:57.536Z}\naddMinutes("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T15:53:57.536Z}',
				},
				addSeconds: {
					help: 'Returns a new date as a result of adding a given number of seconds to a date. To subtract seconds, enter a negative number.',
					syntax: 'addSeconds(date; number)',
					example:
						'addSeconds("2016-12-08T15:55:57.536Z"; 2) {2016-12-08T15:55:59.536Z}\naddSeconds("2016-12-08T15:55:57.536Z"; -2) {2016-12-08T15:55:55.536Z}',
				},
				formatDate: {
					help: 'Returns a date in the requested format and optionally, in a specified timezone. For example, format DD.MM.YYYY HH:mm',
					syntax: 'formatDate(date; format; [timezone])',
					example:
						'formatDate("2016-12-28T16:03:06.372Z"; "MM/DD/YYYY")  {12/28/2016}\nformatDate("2016-12-28T16:03:06.372Z"; "YYYY-MM-DD hh:mm A")  {2016-12-28 4:03 PM}\nformatDate("2016-12-28T16:03:06.372Z"; "DD.MM.YYYY HH:mm"; "Europe/Prague")  {28.12.2016 17:03}',
				},
			},
			variables: {
				now: {
					help: 'Current date and time.',
				},
				timestamp: {
					help: 'Unix timestamp. Number of seconds since midnight January 1, 1970 GMT.',
				},
			},
		},
		math: {
			label: 'Math functions',
			functions: {
				max: {
					help: 'Returns the largest number in a specified array, or the largest number among numbers entered individually.',
					syntax: 'max([array of values]), max(value1;value2; ...)',
				},
				min: {
					help: 'Returns the smallest number in a specified array, or the smallest number among numbers entered individually.',
					syntax: 'min([array of values]), min(value1; value2; ...)',
				},
				sum: {
					help: 'Returns the sum of the values in a specified array, or the sum of numbers entered individually.',
					syntax: 'sum([array of values]), sum(value1; value2; ...)',
				},
				ceil: {
					help: 'Returns the smallest integer greater than or equal to a specified number.',
					syntax: 'ceil(number)',
					example: 'ceil(1.2) {2}\nceil(4) {4}',
				},
				floor: {
					help: 'Returns the largest integer less than or equal to a specified number.',
					syntax: 'floor(number)',
					example: 'floor(1.2) {1}\nfloor(1.9) {1}\nfloor(4) {4}',
				},
				round: {
					help: 'Rounds a numeric value to the nearest integer.',
					syntax: 'round(number)',
					example: 'round(1.2) {1}\nround(1.5) {2}\nround(1.7) {2}\nround(2) {2}',
				},
				average: {
					help: 'Returns the average value of the numeric values in a specific array, or the average value of numerical values entered individually.',
					syntax: 'average([array of values])\naverage(value1; [value2], ...)',
				},
				parseNumber: {
					help: 'Parses a string with a number and returns the number. Example:  parseNumber(1 756,456;,)',
					syntax: 'parseNumber(number; decimal separator)',
				},
				formatNumber: {
					help: 'Returns a number in the requested format. Decimal point is `,` by default, Thousands separator is `.` by default.',
					syntax: 'formatNumber(number; decimalPoints; [decimalSeparator]; [thousandsSeparator])',
				},
			},
			operators: {
				'%': {
					help: 'Modulo.',
				},
				'*': {
					help: 'Multiplication.',
				},
				'+': {
					help: 'Addition.',
				},
				'-': {
					help: 'Subtraction.',
				},
				'/': {
					help: 'Division.',
				},
				'<': {
					help: 'Lower than.',
				},
				'>': {
					help: 'Greater than.',
				},
				'<=': {
					help: 'Lower than or equal to.',
				},
				'>=': {
					help: 'Greater than or equal to.',
				},
				'++': {
					help: 'Sums up decimal numbers',
				},
			},
			variables: {
				pi: {
					help: 'Constant .',
				},
				random: {
					help: 'A floating-point, random number between 0 (inclusive) and 1 (exclusive).',
				},
			},
		},
		array: {
			label: 'Functions for working with arrays',
			keywords: {
				emptyarray: {
					help: 'Inserts an empty array.',
					label: 'Empty array',
				},
			},
			functions: {
				add: {
					help: 'Adds values specified in parameters to an array and returns that array.',
					syntax: 'add(array; value1; value2; ...)',
				},
				map: {
					help: 'Returns a primitive array containing values of a complex array. Allows to filter values. Use raw variable names for keys.',
					syntax: 'map(complex array; key;[key for filtering];[possible values for filtering])',
					example:
						'map(Emails[]; "email") {Returns a primitive array with emails.}\nmap(Emails[]; "email"; "label"; "work,home") {Returns a primitive array with emails having a label equal to work or home.}',
				},
				join: {
					help: 'Concatenates all the items of an array into a string, using the specified separator between each item.',
					syntax: 'join(array; separator)',
				},
				keys: {
					help: "Returns an array of a given object's or array's properties.",
					syntax: 'keys(object)',
				},
				sort: {
					help: 'Sorts values of an array. The valid values of the `order` parameter are: `asc` (ascending order), `desc` (descending order), `asc ci` (case insensitive ascending order) and `desc ci` (case insensitive descending order). Use `key` argument to access properties inside complex objects. Use raw variable names for keys. To access nested properties, use dot notation. First item in an array is index 1.',
					syntax: 'sort(array; [order]; [key])',
					example:
						'sort(Contacts[]; "name") {Sorts an array of contacts by the `name` property.}\nsort(Emails[]; "sender.name") {Sorts an array of emails by the `sender.name` property.}',
				},
				merge: {
					help: 'Merges two or more arrays into one array.',
					syntax: 'merge(array1; array2; ...)',
				},
				slice: {
					help: 'Returns a new array containing only selected items.',
					syntax: 'slice(array; start; [end])',
				},
				length: {
					help: 'Returns the number of items in an array.',
					syntax: 'length(array)',
				},
				remove: {
					help: 'Removes values specified in the parameters of an array. Effective only on primitive arrays of text or numbers.',
					syntax: 'remove(array; value1; value2; ...)',
				},
				contains: {
					help: 'Verifies if an array contains the value.',
					syntax: 'contains(array; value)',
				},
				distinct: {
					help: 'Removes duplicates inside an array. Use `key` argument to access properties inside complex objects. To access nested properties, use dot notation. First item in an array is index 1.',
					syntax: 'distinct(array; [key])',
					example:
						'distinct(Contacts[]; "name") {Removes duplicates inside an array of contacts by comparing the `name` property.}',
				},
				toCollection: {
					help: 'Converts an array containing objects with key-value pairs to a collection.',
					syntax: 'toCollection(array; key; value)',
					example:
						"toCollection(array; \"name\", \"value\") {Converts array like this `[{name: 'firstName', value: 'John'}, {name: 'lastName', value: 'Mars'}] to a collection `{firstName: 'John', lastName: 'Mars'}`}",
				},
				deduplicate: {
					help: 'Removes duplicates from an array.',
					syntax: 'deduplicate(array)',
				},
				flatten: {
					help: 'Returns a new array with all sub-array elements concatenated into it recursively up to the specified depth. The default depth is `1`.',
					syntax: 'flatten(array, [depth])',
				},
				reverse: {
					help: 'Changes the sequence of elements of the given array and returns the reverse sequence.',
					syntax: 'reverse(array)',
				},
				shuffle: {
					help: 'Shuffles (randomly reorders) elements of an array.',
					syntax: 'shuffle(array)',
				},
				toArray: {
					help: ' Converts a collection into an array of key-value collections.',
					syntax: 'toArray(collection)',
				},
				first: {
					help: 'Returns the first element of an array.',
					syntax: 'first(array)',
				},
				last: {
					help: 'Returns the last element of an array.',
					syntax: 'last(array)',
				},
			},
		},
		string: {
			label: 'Text and binary functions',
			keywords: {
				tab: {
					help: 'Inserts a tab character in a specific location.',
					label: 'Tab',
				},
				nbsp: {
					help: 'Inserts a non-breaking space character in a specific location.',
					label: 'Non-breaking space',
				},
				space: {
					help: 'Inserts a space character in a specific location.',
					label: 'Space',
				},
				newline: {
					help: 'Inserts a new line character in a specific location.',
					label: 'New line',
				},
				emptystring: {
					help: 'Inserts an empty text in a specific location.',
					label: 'Empty text',
				},
				carriagereturn: {
					help: 'Inserts a carriage return character in a specific location.',
					label: 'Carriage return',
				},
			},
			functions: {
				md5: {
					help: 'Calculates the md5 hash of a string.',
					syntax: 'md5(text)',
					example: 'md5("internet") {c3581516868fb3b71746931cac66390e}',
				},
				sha1: {
					help: 'Calculates the sha1 hash of a string. If the key argument is specified, sha1 HMAC hash is returned instead. Supported output encodings: `hex` (default), `base64` or `latin1`. Supported key encodings: `text` (default), `hex`, `base64` or `binary`. When using `binary` key encoding, a key must be a buffer, not a string.',
					syntax: 'sha1(text; [output encoding]; [key]; [key encoding])',
					example: 'sha1("internet") {4d0fb475b242228032cbdf6d53924d2538df037b}',
				},
				trim: {
					help: 'Removes space characters at the start or end of the text.',
					syntax: 'trim(text)',
				},
				ascii: {
					help: 'Removes all non-ascii characters from a text string.',
					syntax: 'ascii(text; [remove diacritics])',
					example: 'ascii("Hello") {Hello}\nascii(""; true) {escrz}',
				},
				lower: {
					help: 'Converts all alphabetical characters in a text string to lowercase.',
					syntax: 'lower (text)',
					example: 'lower("Hello"){hello}',
				},
				split: {
					help: 'Splits a string into an array of substrings split at each point where the separator occurs in the given string. It always trims the substrings (i.e. removes whitespace from both ends of a substring) and if the trimmed substring is an empty string, it is by default omitted from the array. If the keepEmptyString is `true`, empty substrings are preserved in the array.',
					syntax: 'split(text; separator; [keepEmptyString])',
					example: 'split("John, George, Paul"; ",")',
				},
				upper: {
					help: 'Converts all alphabetical characters in a text string to uppercase.',
					syntax: 'upper(text)',
					example: 'upper("Hello") {HELLO}',
				},
				base64: {
					help: 'Transforms text to base64.',
					syntax: 'base64(text)',
					example: 'base64("internet") {aW50ZXJuZXQ=}',
				},
				length: {
					help: 'Returns the length of a text string (number of characters) or binary buffer (buffer size in bytes).',
					syntax: 'length(text or buffer)',
					example: 'length("Hello"){5}',
				},
				sha256: {
					help: 'Calculates the sha256 hash of a string. If the key argument is specified, sha256 HMAC hash is returned instead. Supported encodings: `hex` (default), `base64` or `latin1`. Supported key encodings: `text` (default), `hex`, `base64` or `binary`. When using `binary` key encoding, a key must be a buffer, not a string.',
					syntax: 'sha256(text; [output encoding]; [key]; [key encoding])',
					example: 'sha256("internet") {3b0fe0d342e9fa16a5c68dbba33f2e63c024f72a9d4c1ce1028570101d5229ff}',
				},
				sha512: {
					help: 'Calculates the sha512 hash of a string. If the key argument is specified, sha512 HMAC hash is returned instead. Supported encodings: `hex` (default), `base64` or `latin1`. Supported key encodings: `text` (default), `hex`, `base64` or `binary`. When using `binary` key encoding, a key must be a buffer, not a string.',
					syntax: 'sha512(text; [output encoding]; [key]; [key encoding])',
					example:
						'sha512("internet") {394ec188f58367d2b25af31a11a61435b2544c197b0baeb43cfbcb0d7b0116cd8d412e618272ca23561f787960844f86b8f775803405fd2abc358861c074c595}',
				},
				indexOf: {
					help: "Returns the position of the first occurrence of a specified value in a string. This method returns '-1' if the value searched for never occurs.",
					syntax: 'indexOf(string; value; [start])',
					example: 'indexOf("Internet"; "t") {2}\nindexOf("Internet"; "x") {-1}\nindexOf("Internet"; "t"; 3) {7}',
				},
				replace: {
					help: ' Replaces the search string with the new string.',
					syntax: 'replace(text; search string; replacement string)',
					example: 'replace("Hello World"; "Hello"; "Hi") {Hi World}',
				},
				contains: {
					help: 'Verifies if text contains the search string.',
					syntax: 'contains(text; search string)',
					example: 'contains("Hello World"; "Hello")  {true}\ncontains("Hello World"; "Bye")  {false}',
				},
				toBinary: {
					help: 'Converts any value to binary data. You can also specify encoding as a second argument to apply binary conversions from hex or base64 to binary data.',
					syntax: 'toBinary(value)',
					example: 'toBinary("internet") {696e7465726e6574}\ntoBinary("aW50ZXJuZXQ="; "base64") {696e7465726e6574}',
				},
				toString: {
					help: 'Converts any value to a string.',
					syntax: 'toString(value)',
				},
				decodeURL: {
					help: 'Decodes special characters in URL to text.',
					syntax: 'decodeURL(text)',
					example: 'decodeURL("Automate%20your%20workflow") {Automate your workflow}',
				},
				encodeURL: {
					help: 'Encodes special characters in a text to a valid URL address.',
					syntax: 'encodeURL(text)',
				},
				startcase: {
					help: 'Capitalizes the first letter of every word and lower cases all other letters.',
					syntax: 'startcase(text)',
					example: 'startcase("hello WORLD") {Hello World}',
				},
				stripHTML: {
					help: 'Removes all HTML tags from text.',
					syntax: 'stripHTML(text)',
					example: 'stripHTML("<b>Hello</b>") {Hello}',
				},
				substring: {
					help: 'Returns a portion of a text string between the "start" position and "the end" position.',
					syntax: 'substring(text; start;end)',
					example: 'substring("Hello";0;3) {Hel}\nsubstring("Hello";1;3)  {el}',
				},
				capitalize: {
					help: 'Converts first character in a text string to uppercase.',
					syntax: 'capitalize(text)',
					example: 'capitalize("internet") {Internet}',
				},
				escapeHTML: {
					help: 'Escapes all HTML tags in text.',
					syntax: 'escapeHTML(text)',
					example: 'escapeHTML("<b>Hello</b>") {&lt;b&gt;Hello&lt;/b&gt;}',
				},
				escapeMarkdown: {
					example: 'escapeMarkdown("# Header") {&#35; Header}',
					help: 'Escapes all Markdown tags in text.',
					syntax: 'escapeMarkdown(text)',
				},
			},
			variables: {
				uuid: {
					help: 'RFC 4122 version 4 compliant unique identifier.',
				},
			},
		},
		general: {
			label: 'General functions',
			keywords: {
				null: {
					help: 'Inserts a null (empty) value.',
					label: 'Null',
				},
				true: {
					help: 'Logical value (true).',
					label: 'Yes',
				},
				false: {
					help: 'Logical value (false).',
					label: 'No',
				},
				ignore: {
					help: 'Instruct the engine to act as if the field was empty. Useful in complex IML expressions.',
					label: 'Ignore',
				},
				erase: {
					help: 'Sets the value of the field to empty value. In case of array it sets empty array.',
					label: 'Erase',
				},
			},
			functions: {
				'': {
					help: 'Groups expressions together or specifies the order of operations within an expression.',
					syntax: '(expression)',
				},
				if: {
					help: 'Returns value 1 if the expression is evaluated to true, otherwise it returns value 2.',
					syntax: 'if(expression; value1; value2)',
					example: 'if(1 = 1; "A"; "B") {A}\nif(1 = 2; "A"; "B") {B}',
				},
				get: {
					help: 'Returns the value path of an object or array. To access nested objects, use dot notation. First item in an array is index 1.',
					syntax: 'get(object or array; path)',
					example:
						'get(array; 1+1)\nget(array; "5.raw_name")\nget(object; "raw_name")\nget(object; "raw_name.sub_raw_name")',
				},
				equal: {
					help: 'Compares values to see if they are equal.',
					syntax: 'equal(value; value)',
				},
				switch: {
					help: 'Evaluates one value (called the expression) against a list of values, and returns the result corresponding to the first matching value.',
					syntax: 'switch(expression; value1; result1; [value2; result2; ...]; [else])',
					example:
						'switch("B"; "A"; 1; "B"; 2; "C"; 3) {2}\nswitch("C"; "A"; 1; "B"; 2; "C"; 3) {3}\nswitch("X"; "A"; 1; "B"; 2; "C"; 3; 4) {4}',
				},
				ifempty: {
					help: 'Returns value 1 if this value is not empty, otherwise it returns value 2.',
					syntax: 'ifempty(value1; value2)',
					example: 'ifempty("A";"B"){A}\nifempty(unknown;"B"){B}\nifempty("";B){B}',
				},
				omit: {
					help: 'Omits the given keys of the object and returns the rest.',
					syntax: 'omit(object; key1; [key2; ...])',
					example: 'omit(User; "password")',
				},
				pick: {
					help: 'Picks only the given keys from the object.',
					syntax: 'pick(object; key1; [key2; ...])',
					example: 'pick(User; "password"; "email")',
				},
			},
			operators: {
				'&': {
					help: 'Performs a logical conjunction on two expressions.',
					label: 'and',
				},
				'=': {
					help: 'Is equal to.',
				},
				'|': {
					help: 'Performs a logical disjunction on two expressions.',
					label: 'or',
				},
				'!=': {
					help: 'Not equal to.',
				},
			},
			variables: {
				executionId: {
					help: 'Unique ID of the currently running execution.',
				},
			},
		},
	},
	variables: {
		dynamicValue: 'The selected value is dynamic.',
		scenarioValueUnavailable: 'The value will be available after the scenario is saved.',
	},
	scenario: {
		searchLabel: 'Search by name or ID',
		preview: 'Preview',
		active: 'Active',
		inactive: 'Inactive',
	},
});


/***/ }),

/***/ "./lib/locale/validations.en.mjs":
/*!***************************************!*\
  !*** ./lib/locale/validations.en.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-disable max-len */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	'validate-number-invalid': 'Invalid number.',
	'validate-number-too-big': 'Value is too big. Maximum value is {{max}}.',
	'validate-number-too-small': 'Value is too small. Minimum value is {{min}}.',
	'validate-boolean-const-not-equal': 'Value not equal {{const}}',
	'validate-bundle-param-required': 'Value must not be empty.',
	'validate-array-has-less': 'Array has less than {{minItems}} items.',
	'validate-array-has-more': 'Array has more than {{maxItems}} items.',
	'validate-array-not-object': 'Array of objects expected.',
	'validate-collection-invalid': 'Invalid collection.',
	'validate-collection-unexpected': `Unexpected parameter '{{key}}' found.`,
	'validate-color-invalid-format': `Value is not a valid color in format '{{format}}'.`,
	'validate-color-invalid': 'Value is not a valid color.',
	'validate-date-invalid': 'Value is not a valid date.',
	'validate-date-invalid-past': 'Field contains date in past.',
	'validate-email-invalid': 'Value is not a valid email address.',
	'validate-filename-invalid': 'Value is not a valid filename.',
	'validate-integer-invalid': 'Invalid integer.',
	'validate-port-invalid': 'Invalid port.',
	'validate-buffer-unknown-codepage': `Unknown codepage '{{codepage}}'.`,
	'validate-text-cant-convert-buff': `Binary buffer can't be converted to text.`,
	'validate-text-max-exceeded': 'Value exceeded maximum length of {{max}} characters.',
	'validate-text-not-enough-chars': 'Value must be at least {{min}} characters long.',
	'validate-text-pattern': `Value doesn't match the pattern.`,
	'validate-time-invalid': 'Value is not a valid time.',
	'validate-timestamp-invalid': 'Value is not a valid timestamp.',
	'validate-uinteger-must-unsigned': 'Number must be unsigned.',
	'validate-url-invalid': 'Value is not a valid URL address.',
	'validate-select-invalid': `Missing value of required parameter '{{label}}'.`,
	'validate-select-has-less': `Selected less than {{minItems}} items in parameter '{{label}}'.`,
	'validate-select-has-more': `Selected more than {{maxItems}} items in parameter '{{label}}'.`,
	'validate-select-value-not-found': `Value not found in options in parameter '{{label}}'.`,
});


/***/ }),

/***/ "./lib/markdown.mjs":
/*!**************************!*\
  !*** ./lib/markdown.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   markdown: () => (/* binding */ markdown)
/* harmony export */ });
/* unused harmony export escapeHtml */
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formanConfig.mjs */ "./lib/formanConfig.mjs");




function escapeHtml(value) {
	return String(value)
		.replace(/&/g, '&amp;')
		.replace(/</g, '&lt;')
		.replace(/>/g, '&gt;')
		.replace(/"/g, '&quot;')
		.replace(/'/g, '&#039;');
}

function markdown(data) {
	const codes = [];

	return escapeHtml(data)
		.replace(/\{\{l:([^@]+)@([^\}]+)\}\}/g, (a, b, c) => _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_0__.I18n.l(b, { ns: c }))
		.replace(/\[([^\]]*)\]\(([^\)]*)\)/g, (a, b, c) => {
			if (/^kb:\/\/(.*)$/i.test(c)) {
				const path = RegExp.$1;

				c = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_1__.IML.parse(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].config.kb.path), {
					path,
				});
				return `<a target=\"_blank\" class=\"i-open-help\" href=\"${c}\">${b}</a>`;
			} else {
				return `<a target=\"_blank\" href=\"${c}\">${b}</a>`;
			}
		})
		.replace(/`([^`]+)`/g, (a, b) => {
			codes.push(`<code>${b}</code>`);
			return `{{code:${codes.length - 1}}}`;
		})
		.replace(/(^|\s)__([^_]+)__(\s|$)/g, (a, pr, b, po) => `${pr}<strong>${b}</strong>${po}`)
		.replace(/(^|\s)_([^_]+)_(\s|$)/g, (a, pr, b, po) => `${pr}<em>${b}</em>${po}`)
		.replace(/(^|\s)\*\*([^*]+)\*\*(\s|$)/g, (a, pr, b, po) => `${pr}<strong>${b}</strong>${po}`)
		.replace(/(^|\s)\*([^*]+)\*(\s|$)/g, (a, pr, b, po) => `${pr}<em>${b}</em>${po}`)
		.replace(/\n/g, (a, b) => '<br>')
		.replace(/\{\{code:(\d+)\}\}/g, (a, b) => codes[b]);
}


/***/ }),

/***/ "./lib/polyfills.mjs":
/*!***************************!*\
  !*** ./lib/polyfills.mjs ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _webcomponents_custom_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @webcomponents/custom-elements */ "./node_modules/@webcomponents/custom-elements/custom-elements.min.js");
/* harmony import */ var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! resize-observer-polyfill */ "./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js");
/* harmony import */ var unorm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unorm */ "./node_modules/unorm/lib/unorm.js");
/* harmony import */ var element_qsa_scope__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! element-qsa-scope */ "./node_modules/element-qsa-scope/index.js");
/* harmony import */ var custom_event_polyfill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! custom-event-polyfill */ "./node_modules/custom-event-polyfill/polyfill.js");
/* harmony import */ var autosize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! autosize */ "./node_modules/autosize/dist/autosize.esm.js");


/**
 * Integromat Forman
 *
 * @license Copyright (c) Integromat - All rights reserved.
 * @version __VERSION__
 */

if (!window.imt) {
	window.imt = {};
}

if (!window.imt.plugins) {
	window.imt.plugins = [];
}

if (!window.imt.user) {
	window.imt.user = {};
}

imt.plugins.push({
	name: 'Forman',
	version: '__VERSION__',
});

/**
 * Polyfills for the browser.
 */

/**
 * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest
 */

if (!Element.prototype.matches) {
	Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

/**
 * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest
 */

if (!Element.prototype.closest) {
	Element.prototype.closest = function closest(s) {
		let el = this;

		if (!document.documentElement.contains(el)) return null;
		do {
			if (el.matches(s)) return el;
			el = el.parentElement || el.parentNode;
		} while (el !== null && el.nodeType === 1);
		return null;
	};
}

// Polyfill for custom elements


// Polyfill for ResizeObserver


if (!window.ResizeObserver) window.ResizeObserver = resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_1__["default"];

// Polyfill for String.prototype.normalize


// Polyfill for :scope in querySelector and querySelectorAll mehtods (IE)


// Polyfill for CustomEvent (IE)


// Autosize for text areas


window.autosize = autosize__WEBPACK_IMPORTED_MODULE_5__["default"];


/***/ }),

/***/ "./lib/tracking.mjs":
/*!**************************!*\
  !*** ./lib/tracking.mjs ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   trackFirstDataMapped: () => (/* binding */ trackFirstDataMapped)
/* harmony export */ });
function trackFirstDataMapped(self) {
	if (!self?.form) {
		return;
	}

	const { meta, instanceState } = self.form;

	if (instanceState?.trackingState?.firstDataMappedTracked) {
		return;
	}
	const refPills = self.getReferencePills();

	if (refPills?.length === 1) {
		const codersWithPills = self.form.querySelectorAll('imt-coder:has(imt-pill[style])');

		if (codersWithPills?.length === 1) {
			instanceState.trackingState = {
				firstDataMappedTracked: true,
			};

			const appName = refPills[0]?._pill?.node?.package?.name;
			const moduleName = refPills[0]?._pill?.node?.config?.name;

			const trackEvent = {
				event: 'scenario.first_data_mapped',
				payload: {
					organizationId: meta?.organizationId,
					teamId: meta?.teamId,
					sourceAppName: appName,
					sourceModuleName: moduleName,
					destinationAppName: meta?.module?.package?.name,
					destinationModuleName: meta?.module?.config?.name,
					scenarioId: window.Inspector?.instance?.scenario?.id,
				},
			};

			if (window.imtEvents) {
				window.imtEvents.dispatch(trackEvent.event, trackEvent.payload);
			}
		}
	}
}


/***/ }),

/***/ "./lib/types.mjs":
/*!***********************!*\
  !*** ./lib/types.mjs ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _deps_buffer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deps/buffer.mjs */ "./lib/deps/buffer.mjs");
/* harmony import */ var _types_array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types/array.mjs */ "./lib/types/array.mjs");
/* harmony import */ var _types_boolean_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types/boolean.mjs */ "./lib/types/boolean.mjs");
/* harmony import */ var _types_collection_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./types/collection.mjs */ "./lib/types/collection.mjs");
/* harmony import */ var _types_integer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types/integer.mjs */ "./lib/types/integer.mjs");
/* harmony import */ var _types_number_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types/number.mjs */ "./lib/types/number.mjs");
/* harmony import */ var _types_port_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types/port.mjs */ "./lib/types/port.mjs");
/* harmony import */ var _types_text_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./types/text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _types_email_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types/email.mjs */ "./lib/types/email.mjs");
/* harmony import */ var _types_uinteger_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./types/uinteger.mjs */ "./lib/types/uinteger.mjs");
/* harmony import */ var _types_any_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./types/any.mjs */ "./lib/types/any.mjs");
/* harmony import */ var _types_generated_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types/generated.mjs */ "./lib/types/generated.mjs");
/* harmony import */ var _types_url_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./types/url.mjs */ "./lib/types/url.mjs");
/* harmony import */ var _types_password_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./types/password.mjs */ "./lib/types/password.mjs");
/* harmony import */ var _types_hidden_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./types/hidden.mjs */ "./lib/types/hidden.mjs");
/* harmony import */ var _types_upload_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./types/upload.mjs */ "./lib/types/upload.mjs");
/* harmony import */ var _types_select_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./types/select.mjs */ "./lib/types/select.mjs");
/* harmony import */ var _types_date_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./types/date.mjs */ "./lib/types/date.mjs");
/* harmony import */ var _types_editor_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./types/editor.mjs */ "./lib/types/editor.mjs");
/* harmony import */ var _types_folder_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./types/folder.mjs */ "./lib/types/folder.mjs");
/* harmony import */ var _types_file_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./types/file.mjs */ "./lib/types/file.mjs");
/* harmony import */ var _types_json_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./types/json.mjs */ "./lib/types/json.mjs");
/* harmony import */ var _types_filename_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./types/filename.mjs */ "./lib/types/filename.mjs");
/* harmony import */ var _types_cert_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./types/cert.mjs */ "./lib/types/cert.mjs");
/* harmony import */ var _types_pkey_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./types/pkey.mjs */ "./lib/types/pkey.mjs");
/* harmony import */ var _types_color_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./types/color.mjs */ "./lib/types/color.mjs");
/* harmony import */ var _types_timestamp_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./types/timestamp.mjs */ "./lib/types/timestamp.mjs");
/* harmony import */ var _types_time_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./types/time.mjs */ "./lib/types/time.mjs");
/**
 * This file is used by both font-end and back-end.
 */
































const NOOP = () => {};
const TYPES = {
	account: null,
	any: _types_any_mjs__WEBPACK_IMPORTED_MODULE_22__,
	array: _types_array_mjs__WEBPACK_IMPORTED_MODULE_2__,
	boolean: _types_boolean_mjs__WEBPACK_IMPORTED_MODULE_3__,
	buffer: null,
	cert: _types_cert_mjs__WEBPACK_IMPORTED_MODULE_23__,
	checkbox: _types_boolean_mjs__WEBPACK_IMPORTED_MODULE_3__,
	collection: _types_collection_mjs__WEBPACK_IMPORTED_MODULE_4__,
	color: _types_color_mjs__WEBPACK_IMPORTED_MODULE_19__,
	date: _types_date_mjs__WEBPACK_IMPORTED_MODULE_15__,
	device: null,
	editor: _types_editor_mjs__WEBPACK_IMPORTED_MODULE_16__,
	email: _types_email_mjs__WEBPACK_IMPORTED_MODULE_9__,
	file: _types_file_mjs__WEBPACK_IMPORTED_MODULE_24__,
	filename: _types_filename_mjs__WEBPACK_IMPORTED_MODULE_18__,
	filter: null,
	folder: _types_folder_mjs__WEBPACK_IMPORTED_MODULE_25__,
	generated: _types_generated_mjs__WEBPACK_IMPORTED_MODULE_11__,
	hidden: _types_hidden_mjs__WEBPACK_IMPORTED_MODULE_26__,
	hook: null,
	integer: _types_integer_mjs__WEBPACK_IMPORTED_MODULE_5__,
	json: _types_json_mjs__WEBPACK_IMPORTED_MODULE_17__,
	number: _types_number_mjs__WEBPACK_IMPORTED_MODULE_6__,
	password: _types_password_mjs__WEBPACK_IMPORTED_MODULE_13__,
	pkey: _types_pkey_mjs__WEBPACK_IMPORTED_MODULE_27__,
	port: _types_port_mjs__WEBPACK_IMPORTED_MODULE_7__,
	select: _types_select_mjs__WEBPACK_IMPORTED_MODULE_14__,
	separator: null,
	text: _types_text_mjs__WEBPACK_IMPORTED_MODULE_8__,
	time: _types_time_mjs__WEBPACK_IMPORTED_MODULE_21__,
	timestamp: _types_timestamp_mjs__WEBPACK_IMPORTED_MODULE_20__,
	uinteger: _types_uinteger_mjs__WEBPACK_IMPORTED_MODULE_10__,
	upload: _types_upload_mjs__WEBPACK_IMPORTED_MODULE_28__,
	url: _types_url_mjs__WEBPACK_IMPORTED_MODULE_12__,
	udtspec: null,
	udttype: null,
	agent: null,
	uuid: _types_text_mjs__WEBPACK_IMPORTED_MODULE_8__, // There's no UUID input in Formula but apps uses it (formula fallbacks unknown inputs to text). No one know whether all uuid inputs really uses UUID format, so we don't validate it as UUID.
	path: _types_text_mjs__WEBPACK_IMPORTED_MODULE_8__,
};

/**
 * Validates value against validation function of given type. If the value is not of that type
 * but it is possible to convert it, method returns the converted value.
 *
 * This function is called recursively from within types like boolean, array or collection. That's
 * why we accept more parameter - to allow nested fields to validate against the bundle of its parent.
 *
 * @param {*} value Value to validate.
 * @param {string} type Type name.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {boolean} [options.depth] If zero (`0`), nested structures are not validated. Infinite by default.
 * @param {boolean} [options.passthrough] If false, empty undefined and empty values are converted as null. True by default.
 * @param {boolean} [options.timezone] Default time zone for date-time operations. UTC by default.
 * @param {object} [options.imlContext] IML context for fields with generated type.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the given type.
 */

function validate(value, type, instructions, options = {}, more = undefined) {
	if (!instructions) throw new Error('Instructions are missing.');

	if (
		instructions.required &&
		(value == null ||
			value === '' ||
			(typeof FileList !== 'undefined' && value instanceof FileList && value.length === 0))
	) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError('Value must not be empty.', 'validate-bundle-param-required');
	}

	// If type is not found, skip validation.
	if (!TYPES[type]) return;

	// Empty strings are evaluated to null or undefined (when passthrough option is enabled)
	if (value === '') {
		if (options.passthrough === false) {
			return null;
		} else {
			// in passthrough mode, empty string remains untouched for any and text types, otherwise parameter is removed completely
			if (type === 'buffer') return _deps_buffer_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].from('');
			if (type !== 'any' && type !== 'text' && type !== 'hidden') return null;
			return undefined;
		}
	} else if (value == null && type !== 'generated') {
		// Outputs undefined values
		return value;
	}

	// Evaluates {{emptystring}} IML variable to primitive
	if (value instanceof String) value = value.valueOf();

	try {
		value = TYPES[type].validate(value, instructions, options, more || NOOP);
	} catch (ex) {
		if (typeof document !== 'undefined') {
			const forman = document.querySelector('imt-forman');

			if (forman && forman.hasAttribute('debug')) {
				console.warn(ex);
			}
		}
		throw ex;
	}
	return value;
}


/***/ }),

/***/ "./lib/types/any.mjs":
/*!***************************!*\
  !*** ./lib/types/any.mjs ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return value;
}


/***/ }),

/***/ "./lib/types/array.mjs":
/*!*****************************!*\
  !*** ./lib/types/array.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.mjs */ "./lib/types.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	if (value == null) return null;

	if (!Array.isArray(value)) {
		value = [value];
	}

	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	if (!Array.isArray(value)) {
		value = [value];
	}

	// Custom validations
	const validate = instructions.validate || {};

	if (validate.minItems != null && value.length < validate.minItems) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(`Array has less than ${validate.minItems} items.`, 'validate-array-has-less', {
			minItems: validate.minItems,
		});
	}

	if (validate.maxItems != null && value.length > validate.maxItems) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(`Array has more than ${validate.maxItems} items.`, 'validate-array-has-more', {
			maxItems: validate.maxItems,
		});
	}

	if (value.length === 0) {
		// Empty array, no need to continue with the rest of validation
		return value;
	}

	if (options.depth !== 0) {
		// If depth is set to zero, nested structures are not validated. Usefull for front-end, where each field is validated separately.

		if (Array.isArray(instructions.spec)) {
			// Complex array
			if (instructions.spec.length === 0) {
				// Array with empty spec means we can convert primitive array into array of objects
				for (let i = 0, l = value.length; i < l; i++) {
					if (value == null || typeof value[i] !== 'object') {
						value[i] = { value: value[i] };
						continue;
					}

					// Objects created with `Object.create(null)` have no constructor.
					if (value[i].constructor != null && value[i].constructor.prototype !== Object.prototype) {
						value[i] = { value: value[i] }; // Date, Buffer, RegExp, ...
					}
				}
			} else {
				for (let i = 0, l = value.length; i < l; i++) {
					if (typeof value[i] !== 'object') {
						throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Array of objects expected.', 'validate-array-not-object');
					}

					try {
						value[i] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(value[i], 'collection', instructions.spec, options);
					} catch (ex) {
						if (ex instanceof _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError) {
							ex.location = ex.location ? ` ${ex.location}` : '';
							ex.location = `imt-input-array-item:nth-of-type(${i + 1})` + ex.location;
						}
						throw ex;
					}
				}
			}
		} else {
			let spec = instructions.spec;

			if (typeof spec !== 'object') {
				// Array without spec = array of strings.
				spec = { type: 'text' };
			}

			for (let i = 0, l = value.length; i < l; i++) {
				try {
					value[i] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(value[i], spec.type || 'text', spec, options);
				} catch (ex) {
					if (ex instanceof _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError) {
						ex.location = ex.location ? ` ${ex.location}` : '';
						ex.location = `imt-input-array-item:nth-of-type(${i + 1})` + ex.location;
					}
					throw ex;
				}
			}
		}
	}

	return value;
}


/***/ }),

/***/ "./lib/types/boolean.mjs":
/*!*******************************!*\
  !*** ./lib/types/boolean.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");

/**
 * This file is used by both font-end and back-end.
 */

/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	if (value == null) return null;

	if (typeof value === 'string') {
		if (value === 'false') {
			return false;
		} else {
			return true;
		}
	} else if (typeof value !== 'boolean') {
		return value != null;
	}

	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	if (typeof value === 'string') {
		if (value === 'false') {
			value = false;
		} else {
			value = true;
		}
	} else if (typeof value !== 'boolean') {
		value = value != null;
	}

	if (value && instructions.nested && more) {
		more(instructions.nested.store || instructions.nested);
	}

	// Custom validations
	const validate = instructions.validate || {};

	if (validate.const != null && value !== validate.const) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(`Value not equal ${instructions.validate.const}.`, 'validate-boolean-const-not-equal', {
			const: instructions.validate.const,
		});
	}

	return value;
}


/***/ }),

/***/ "./lib/types/cert.mjs":
/*!****************************!*\
  !*** ./lib/types/cert.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/**
 * This file is used by both font-end and back-end.
 */

/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return value;
}


/***/ }),

/***/ "./lib/types/collection.mjs":
/*!**********************************!*\
  !*** ./lib/types/collection.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.mjs */ "./lib/types.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	if (value == null) return null;

	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} options Global options.
 * @param {function} more Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}) {
	if (value == null || value === '') return null;

	if (typeof value !== 'object') {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Invalid collection.', 'validate-collection-invalid');
	}

	// Objects created with `Object.create(null)` have no constructor.
	if (value.constructor != null && value.constructor.prototype !== Object.prototype) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Invalid collection.', 'validate-collection-invalid');
	}

	if (options.depth !== 0) {
		// If depth is set to zero, nested structures are not validated. Usefull for front-end, where each field is validated separately.

		const shadow = Object.create(null);
		const validatedFields = Object.create(null);
		const more = (instructions) => {
			if (Array.isArray(instructions) && instructions.length) {
				for (const item of instructions) {
					try {
						value[item.name] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(value[item.name], item.type, item, options, more);
					} catch (ex) {
						if (ex instanceof _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError) {
							ex.location = ex.location ? ` ${ex.location}` : '';
							ex.location = `imt-input-${item.type}[name="${item.name}"]` + ex.location;
						}
						throw ex;
					}

					if (options.strict) {
						validatedFields[item.name] = true;
					}

					if (instructions.sequence) {
						// Move value to shadow collection.
						shadow[item.name] = value[item.name];
						delete value[item.name];
					}
				}
			}
		};

		more(instructions.spec);

		if (options.strict) {
			for (const key of Object.keys(value)) {
				if (!validatedFields[key]) {
					throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(`Unexpected parameter '${key}' found.`, 'validate-collection-unexpected', { key });
				}
			}
		}

		if (instructions.sequence) {
			for (const key in value) {
				if (Object.prototype.hasOwnProperty.call(value, key)) {
					// Move value to shadow collection.
					shadow[key] = value[key];
					delete value[key];
				}
			}

			for (const key in shadow) {
				if (Object.prototype.hasOwnProperty.call(value, key)) {
					// Move value from shadow collection back to original collection.
					value[key] = shadow[key];
				}
			}
		}
	}

	return value;
}


/***/ }),

/***/ "./lib/types/color.mjs":
/*!*****************************!*\
  !*** ./lib/types/color.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
	if (value === null) return value;
	return value.toLowerCase();
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
	if (value == null || value === '') return null;

	const patterns = {
		HEX: /^#([0-9a-f]{3}|[0-9a-f]{6})$/i,
		RGB: /rgb\((1?[0-9]{1,2}|2[0-4][0-9]|25[0-5]),\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5]),\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])\)/i,
		RGBA: /rgba\((1?[0-9]{1,2}|2[0-4][0-9]|25[0-5]),\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5]),\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5]),\s*(0?\.[0-9]+|[0-1](\.0)?)\)/i,
		HSL: /hsl\(([1-2]?[0-9]{1,2}|3[0-5][0-9]|360),\s*([0-9]{1,2}|100)%,\s*([0-9]{1,2}|100)%\)/i,
		HSLA: /hsla\(([1-2]?[0-9]{1,2}|3[0-5][0-9]|360),\s*([0-9]{1,2}|100)%,\s*([0-9]{1,2}|100)%,\s*(0?\.[0-9]+|[0-1](\.0)?)\)/i,
	};

	const format = instructions.validate?.format.toUpperCase();

	if (patterns[format]) {
		if (!patterns[format].test(value)) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(`Value is not a valid color in format '${format}'.`, 'validate-color-invalid-format', {
				format,
			});
		}
	} else {
		if (
			Object.values(patterns)
				.map((p) => p.test(value))
				.every((p) => !p)
		) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid color.', 'validate-color-invalid');
		}
	}

	return value.toLowerCase();
}


/***/ }),

/***/ "./lib/types/date.mjs":
/*!****************************!*\
  !*** ./lib/types/date.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _helpers_dateparser_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/dateparser.mjs */ "./lib/helpers/dateparser.mjs");
/**
 * This file is used by both font-end and back-end.
 */





/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	function parse() {
		if (value instanceof Date) return value;

		if (typeof value === 'string') {
			value = (0,_helpers_dateparser_mjs__WEBPACK_IMPORTED_MODULE_2__.parseDate)(value, options.timezone);
			if (value) return value;
		} else if (typeof value === 'number') {
			return new Date(value * 1000);
		}
	}

	const date = parse();

	if (!date) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid date.', 'validate-date-invalid');
	} else if (instructions.validate?.past === false && new Date() > value) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Field contains date in past.', 'validate-date-invalid-past');
	}

	return date;
}


/***/ }),

/***/ "./lib/types/editor.mjs":
/*!******************************!*\
  !*** ./lib/types/editor.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/**
 * This file is used by both font-end and back-end.
 */



/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
}


/***/ }),

/***/ "./lib/types/email.mjs":
/*!*****************************!*\
  !*** ./lib/types/email.mjs ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
	if (value === null) return value;
	return value.toLowerCase();
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
	if (value == null || value === '') return null;

	if (
		!/^((([!#$%&''*+\-/=?^_`{|}~\w])|([!#$%&''*+\-/=?^_`{|}~\w][!#$%&''*+\-/=?^_`{|}~\.\w]{0,}[!#$%&''*+\-/=?^_`{|}~\w]))[@]\w+([-.]+\w+)*\.\w+([-.]+\w+)*)$/i.test(
			value,
		)
	) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid email address.', 'validate-email-invalid');
	}

	return value.toLowerCase();
}


/***/ }),

/***/ "./lib/types/file.mjs":
/*!****************************!*\
  !*** ./lib/types/file.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* reexport safe */ _folder_mjs__WEBPACK_IMPORTED_MODULE_0__.cast),
/* harmony export */   validate: () => (/* reexport safe */ _folder_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)
/* harmony export */ });
/* harmony import */ var _folder_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./folder.mjs */ "./lib/types/folder.mjs");



/***/ }),

/***/ "./lib/types/filename.mjs":
/*!********************************!*\
  !*** ./lib/types/filename.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
	if (value === null) return value;
	return value.toLowerCase();
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (!/\.(.+)$/.test(value)) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid filename.', 'validate-filename-invalid');
	}
	return value;
}


/***/ }),

/***/ "./lib/types/folder.mjs":
/*!******************************!*\
  !*** ./lib/types/folder.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
// import {normalize} from 'path';

/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	// normalize(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value instanceof String) return null;
	if (value === '') return null;

	// normalize(value);
}


/***/ }),

/***/ "./lib/types/generated.mjs":
/*!*********************************!*\
  !*** ./lib/types/generated.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../deps/iml.mjs */ "./lib/deps/iml.mjs");


/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_0__.IML.parse(instructions.value), options.imlContext, { functions: options.imlFunctions });
}


/***/ }),

/***/ "./lib/types/hidden.mjs":
/*!******************************!*\
  !*** ./lib/types/hidden.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return value;
}


/***/ }),

/***/ "./lib/types/integer.mjs":
/*!*******************************!*\
  !*** ./lib/types/integer.mjs ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number.mjs */ "./lib/types/number.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _number_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
	if (value === null) return value;
	return Math.floor(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _number_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
	if (value === null) return value;

	if (!Number.isInteger(value)) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Invalid integer.', 'validate-integer-invalid');
	}
	return value;
}


/***/ }),

/***/ "./lib/types/json.mjs":
/*!****************************!*\
  !*** ./lib/types/json.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* reexport safe */ _text_mjs__WEBPACK_IMPORTED_MODULE_2__.cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _deps_ajv_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../deps/ajv.mjs */ "./lib/deps/ajv.mjs");
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/**
 * This file is used by both font-end and back-end.
 */





/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value === '') return null;

	value = String(value != null ? value : '');

	// No need to validate when text is empty
	if (value === '') return value;

	return value;

	// TODO: Ajv uses unsafe-eval we need a different validator.

	const ajv = new _deps_ajv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].Ajv(); // options can be passed, e.g. {allErrors: true}
	const validateOptions = instructions.validate || {};
	const stringSchema = { type: 'string' };

	if (validateOptions.maxLength) {
		stringSchema.maxLength = validateOptions.maxLength;
	}

	if (validateOptions.minLength) {
		stringSchema.minLength = validateOptions.minLength;
	}

	const validate = ajv.compile(stringSchema);
	const valid = validate(value);

	if (!valid) {
		const err = new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(`Value ${validate.errors[0].message}.`);

		err.imtExceptionHash = 'validate-json-string-invalid';
		throw err;
	}

	// parsing object and validation against schema
	let objectData;

	try {
		objectData = JSON.parse(value);
	} catch (e) {
		const err = new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(`Value is not a valid JSON string.`);

		err.imtExceptionHash = 'validate-json-format-invalid';
		throw err;
	}

	if (instructions.schema) {
		const ajvObject = new _deps_ajv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].Ajv();
		const schema = instructions.schema;
		const objectValidate = ajvObject.compile(schema);
		const objectValid = objectValidate(objectData);

		if (!objectValid) {
			const err = new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(
				`Value is not valid against schema: ${objectValidate.errors[0].instancePath} ${objectValidate.errors[0].message}.`,
			);

			err.imtExceptionHash = 'validate-json-invalid';
			throw err;
		}
	}
	return objectData;
}


/***/ }),

/***/ "./lib/types/number.mjs":
/*!******************************!*\
  !*** ./lib/types/number.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */



/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	if (value == null || value === '') return null;

	value = Number(value);
	if (isNaN(value)) return null;

	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	if (typeof value === 'object' || isNaN(value)) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError('Invalid number.', 'validate-number-invalid');
	}

	value = Number(value);

	// Custom validations
	const validate = instructions.validate || {};

	if (validate.max != null && value > validate.max) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(`Value is too big. Maximum value is ${validate.max}.`, 'validate-number-too-big', {
			max: validate.max,
		});
	}

	if (validate != null && value < validate.min) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError(`Value is too small. Minimum value is ${validate.min}.`, 'validate-number-too-small', {
			min: validate.min,
		});
	}

	return value;
}


/***/ }),

/***/ "./lib/types/password.mjs":
/*!********************************!*\
  !*** ./lib/types/password.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/**
 * This file is used by both font-end and back-end.
 */



/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
}


/***/ }),

/***/ "./lib/types/pkey.mjs":
/*!****************************!*\
  !*** ./lib/types/pkey.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/**
 * This file is used by both font-end and back-end.
 */

/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return value;
}


/***/ }),

/***/ "./lib/types/port.mjs":
/*!****************************!*\
  !*** ./lib/types/port.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _uinteger_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uinteger.mjs */ "./lib/types/uinteger.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _uinteger_mjs__WEBPACK_IMPORTED_MODULE_1__.cast(value);
	if (value === null) return value;
	if (value > 65535) return null;
	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _uinteger_mjs__WEBPACK_IMPORTED_MODULE_1__.validate(value, instructions, options, more);
	if (value === null) return value;

	if (value <= 0 || value > 65535) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError('Invalid port.', 'validate-port-invalid');
	}

	return value;
}


/***/ }),

/***/ "./lib/types/select.mjs":
/*!******************************!*\
  !*** ./lib/types/select.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _types_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.mjs */ "./lib/types.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	let spec;
	let found;
	const store = (instructions.options && instructions.options.store) || instructions.options;

	function getOptions() {
		const valueField = instructions.options.value || 'value';

		if (instructions.grouped) {
			return store.reduce((s, group) => {
				if (Array.isArray(group.options)) {
					s.push(...group.options.map((o) => o[valueField]));
				}

				return s;
			}, []);
		} else {
			return store.map((s) => s[valueField]);
		}
	}

	if ('object' === typeof instructions.spec) {
		spec = Object.assign({}, instructions.spec);
		spec.name = instructions.name; // because of error messages
		spec.type = spec.type || 'text';
	}

	if (instructions.multiple) {
		if (!Array.isArray(value)) {
			value = [value];
		}

		if (instructions.required && value.length === 0) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(
				`Missing value of required parameter '${instructions.label || instructions.name}'.`,
				'validate-select-invalid',
				{ label: instructions.label || instructions.name },
			);
		}

		for (let index = 0; index < value.length; index++) {
			const item = value[index];

			if (spec) {
				value[index] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(item, spec.type, spec);
			} else if ('string' === typeof item) {
				value[index] = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(item, 'text', instructions);
			}
		}

		if (
			instructions.validate &&
			instructions.validate.minItems != null &&
			value.length < instructions.validate.minItems
		) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(
				`Selected less than ${instructions.validate.minItems} items in parameter '${
					instructions.label || instructions.name
				}'.`,
				'validate-select-has-less',
				{
					minItems: instructions.validate.minItems,
					label: instructions.label || instructions.name,
				},
			);
		}

		if (
			instructions.validate &&
			instructions.validate.maxItems != null &&
			value.length > instructions.validate.maxItems
		) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(
				`Selected more than ${instructions.validate.maxItems} items in parameter '${
					instructions.label || instructions.name
				}'.`,
				'validate-select-has-more',
				{
					maxItems: instructions.validate.maxItems,
					label: instructions.label || instructions.name,
				},
			);
		}

		if (Array.isArray(store) && !instructions.dynamic) {
			for (const val of value) {
				if (!getOptions(store).includes(val)) {
					throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(
						`Value not found in options in parameter '${instructions.label || instructions.name}'.`,
						'validate-select-value-not-found',
						{ label: instructions.label || instructions.name },
					);
				}
			}
		}
	} else {
		if (spec) {
			value = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(value, spec.type, spec, {}, more);
		} else {
			if (typeof value === 'string') {
				value = (0,_types_mjs__WEBPACK_IMPORTED_MODULE_0__.validate)(value, 'text', instructions);
			}
		}

		if (Array.isArray(store) && !instructions.dynamic) {
			found = getOptions(store).find((val) => (typeof val === 'number' ? val === parseInt(value) : val === value));

			// falsy values can be valid values - if null/undefined/false is found the field is valid
			if (!found && value !== found) {
				throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError(
					`Value not found in options in parameter '${instructions.label || instructions.name}'.`,
					'validate-select-value-not-found',
					{ label: instructions.label || instructions.name },
				);
			}
		}
	}

	if (found && found.nested) {
		more(found.nested);
	} else if (instructions.options && instructions.options.nested && instructions.options.nested.store) {
		more(instructions.options.nested.store);
	} else if (instructions.options && instructions.options.nested) {
		more(instructions.options.nested);
	}

	return value;
}


/***/ }),

/***/ "./lib/types/text.mjs":
/*!****************************!*\
  !*** ./lib/types/text.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_buffer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/buffer.mjs */ "./lib/helpers/buffer.mjs");
/* harmony import */ var _deps_iconv_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../deps/iconv.mjs */ "./lib/deps/iconv.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */





function toString(value) {
	if (value == null) return '';

	switch (typeof value) {
		case 'object':
			if (value instanceof String || value instanceof Boolean || value instanceof Number) {
				return String(value.valueOf());
			}

			if (_helpers_buffer_mjs__WEBPACK_IMPORTED_MODULE_0__.Buffer.isBuffer(value)) {
				// set default codepage
				const codepage = value.codepage || 'utf8';

				if (codepage === 'binary') {
					return '[Buffer]';
				}

				// check if we support codepage
				if (!_deps_iconv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].encodingExists(codepage)) {
					throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError(`Unknown codepage '${codepage}'.`, 'validate-buffer-unknown-codepage', {
						codepage,
					});
				}

				// convert
				return _deps_iconv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].decode(value, codepage);
			} else if (Array.isArray(value)) {
				if (Object.prototype.hasOwnProperty.call(value, 'serialize') && typeof value.serialize === 'function') {
					return String(value.serialize());
				} else {
					return value.map((item) => toString(item)).join(',');
				}
			} else if (value instanceof Date) {
				if (isNaN(value)) return null; // Invalid date
				return value.toISOString();
			} else {
				return JSON.stringify(value, (key, value) => {
					if (_helpers_buffer_mjs__WEBPACK_IMPORTED_MODULE_0__.Buffer.isBuffer(value)) {
						return undefined;
					}
					return value;
				});
			}

		default:
			return String(value);
	}
}

/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	if (value == null) return null;

	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null) return null;

	if (typeof value === 'object') {
		if (_helpers_buffer_mjs__WEBPACK_IMPORTED_MODULE_0__.Buffer.isBuffer(value)) {
			// set default codepage
			const codepage = value.codepage || 'utf8';

			// binary buffers can't be converted
			if (codepage === 'binary') {
				throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError("Binary buffer can't be converted to text.", 'validate-text-cant-convert-buff');
			}

			// check if we support codepage
			if (!_deps_iconv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].encodingExists(codepage)) {
				throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError(`Unknown codepage '${codepage}'.`, 'validate-buffer-unknown-codepage', { codepage });
			}

			// convert
			value = _deps_iconv_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].decode(value, codepage);
		} else if (Array.isArray(value)) {
			if (Object.prototype.hasOwnProperty.call(value, 'serialize') && typeof value.serialize === 'function') {
				value = String(value.serialize());
			} else {
				value = toString(value);
			}
		} else if (value instanceof Date) {
			if (isNaN(value)) return null; // Invalid date
			value = value.toISOString();
		} else {
			value = JSON.stringify(value);
		}
	}

	value = String(value != null ? value : '');

	// No need to validate when text is empty
	if (value === '') return value;

	// Custom validations
	const validate = instructions.validate || {};

	if (validate.max != null && value.length > validate.max) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError(
			`Value exceeded maximum length of ${instructions.validate.max} characters.`,
			'validate-text-max-exceeded',
			{ max: instructions.validate.max },
		);
	}

	if (validate.min != null && value.length < validate.min) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError(
			`Value must be at least ${instructions.validate.min} characters long.`,
			'validate-text-not-enough-chars',
			{ min: instructions.validate.min },
		);
	}

	if (validate.pattern != null) {
		const regexp = new RegExp(typeof validate.pattern === 'object' ? validate.pattern.regexp : validate.pattern);

		if (!regexp.exec(value)) {
			throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_2__.ValidationError("Value doesn't match the pattern.", 'validate-text-pattern');
		}
	}

	// Text manipulation

	if (instructions.tags === 'strip') {
		value = value.replace(/<[^>]*>/g, '');
	} else if (instructions.tags === 'stripall') {
		value = value.replace(/<[^>]*>/g, '').replace(/[<>]/g, '');
	} else if (instructions.tags === 'escape') {
		const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;' };

		value = value.replace(/[&<>]/g, (tag) => map[tag] || tag);
	}

	return value;
}


/***/ }),

/***/ "./lib/types/time.mjs":
/*!****************************!*\
  !*** ./lib/types/time.mjs ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _helpers_dateparser_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/dateparser.mjs */ "./lib/helpers/dateparser.mjs");
/**
 * This file is used by both font-end and back-end.
 */





/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	if (value == null || value === '') return null;

	value = (0,_helpers_dateparser_mjs__WEBPACK_IMPORTED_MODULE_2__.parseTime)(value);
	if (value || value === 0) return value;

	throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid time.', 'validate-time-invalid');
}


/***/ }),

/***/ "./lib/types/timestamp.mjs":
/*!*********************************!*\
  !*** ./lib/types/timestamp.mjs ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _integer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integer.mjs */ "./lib/types/integer.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _integer_mjs__WEBPACK_IMPORTED_MODULE_1__.cast(value);
	if (value === null) return value;
	if (value < 0) return null;
	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _integer_mjs__WEBPACK_IMPORTED_MODULE_1__.validate(value, instructions, options, more);
	if (value === null) return value;

	if (value < 0) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError('Value is not a valid timestamp.', 'validate-timestamp-invalid');
	}

	return value;
}


/***/ }),

/***/ "./lib/types/uinteger.mjs":
/*!********************************!*\
  !*** ./lib/types/uinteger.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/* harmony import */ var _integer_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./integer.mjs */ "./lib/types/integer.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	value = _integer_mjs__WEBPACK_IMPORTED_MODULE_1__.cast(value);
	if (value === null) return value;
	if (value < 0) return null;
	return value;
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _integer_mjs__WEBPACK_IMPORTED_MODULE_1__.validate(value, instructions, options, more);
	if (value === null) return value;

	if (value < 0) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.ValidationError('Number must be unsigned.', 'validate-uinteger-must-unsigned');
	}

	return value;
}


/***/ }),

/***/ "./lib/types/upload.mjs":
/*!******************************!*\
  !*** ./lib/types/upload.mjs ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	return value;
}


/***/ }),

/***/ "./lib/types/url.mjs":
/*!***************************!*\
  !*** ./lib/types/url.mjs ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cast: () => (/* binding */ cast),
/* harmony export */   validate: () => (/* binding */ validate)
/* harmony export */ });
/* harmony import */ var _text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text.mjs */ "./lib/types/text.mjs");
/* harmony import */ var _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/errors.mjs */ "./lib/helpers/errors.mjs");
/**
 * This file is used by both font-end and back-end.
 */




/**
 * Casts provded value. If value is not valid, returns null. Front-end uses this function to
 * evaluate final value from the input field.
 *
 * @param {*} value Value to cast.
 * @returns {*} Casted value.
 */

function cast(value) {
	return _text_mjs__WEBPACK_IMPORTED_MODULE_0__.cast(value);
}

/**
 * Validates and casts value.
 *
 * @param {*} value Value to validate.
 * @param {object} instructions Type instructions.
 * @param {object} [options] Global options.
 * @param {function} [more] Validate another array of instructions on the same bundle level.
 * @returns {*} Value casted to the type.
 */

function validate(value, instructions, options = {}, more = undefined) {
	value = _text_mjs__WEBPACK_IMPORTED_MODULE_0__.validate(value, instructions, options, more);
	if (value == null || value === '') return null;

	if (!/^.+:\/\/.+$/i.test(value)) {
		throw new _helpers_errors_mjs__WEBPACK_IMPORTED_MODULE_1__.ValidationError('Value is not a valid URL address.', 'validate-url-invalid');
	}

	return value;
}


/***/ }),

/***/ "./lib/utils.mjs":
/*!***********************!*\
  !*** ./lib/utils.mjs ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   animateElementHeight: () => (/* binding */ animateElementHeight),
/* harmony export */   clone: () => (/* binding */ clone),
/* harmony export */   composedInputBuilder: () => (/* binding */ composedInputBuilder),
/* harmony export */   create: () => (/* binding */ create),
/* harmony export */   createAddFirstAccountBtn: () => (/* binding */ createAddFirstAccountBtn),
/* harmony export */   createDateTimePicker: () => (/* binding */ createDateTimePicker),
/* harmony export */   createDateTimePickerPanel: () => (/* binding */ createDateTimePickerPanel),
/* harmony export */   createInput: () => (/* binding */ createInput),
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   deepEqual: () => (/* binding */ deepEqual),
/* harmony export */   dispatchResizeDebounced: () => (/* binding */ dispatchResizeDebounced),
/* harmony export */   getExtendInstructions: () => (/* binding */ getExtendInstructions),
/* harmony export */   getGroupedStoreItems: () => (/* binding */ getGroupedStoreItems),
/* harmony export */   getScrollParent: () => (/* binding */ getScrollParent),
/* harmony export */   getStateObject: () => (/* binding */ getStateObject),
/* harmony export */   is: () => (/* binding */ is),
/* harmony export */   isAttribute: () => (/* binding */ isAttribute),
/* harmony export */   isIterable: () => (/* binding */ isIterable),
/* harmony export */   isNumber: () => (/* binding */ isNumber),
/* harmony export */   parseAttributeValue: () => (/* binding */ parseAttributeValue),
/* harmony export */   registerCustomElement: () => (/* binding */ registerCustomElement),
/* harmony export */   removeDiacritics: () => (/* binding */ removeDiacritics),
/* harmony export */   resolveDefaultInputValue: () => (/* binding */ resolveDefaultInputValue),
/* harmony export */   setInstructionsDefault: () => (/* binding */ setInstructionsDefault),
/* harmony export */   showNestedFieldsets: () => (/* binding */ showNestedFieldsets),
/* harmony export */   uuid: () => (/* binding */ uuid)
/* harmony export */ });
/* unused harmony exports parseSelector, animateElement, findOption */
/* harmony import */ var _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inputs.mjs */ "./lib/inputs.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events.mjs */ "./lib/events.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helpers/color.mjs */ "./lib/helpers/color.mjs");
/* harmony import */ var imurmurhash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! imurmurhash */ "./node_modules/imurmurhash/imurmurhash.js");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./eventManager.mjs */ "./lib/eventManager.mjs");
/* global moment, Inspector */

// Inputs










const PARSED_SELECTORS_CACHE = {};

function registerCustomElement(selector, elementClass) {
	if (!customElements.get(selector)) {
		customElements.define(selector, elementClass);
	}
}

function uuid() {
	return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
		const r = (Math.random() * 16) | 0;
		const v = c == 'x' ? r : (r & 0x3) | 0x8;

		return v.toString(16);
	});
}

function clone(object, deep = false) {
	if (object == null) return object;

	if (typeof object === 'object') {
		if (Array.isArray(object)) {
			if (!deep) return object.slice(0);

			return object.map((o) => clone(o, true));
		} else if (object instanceof String || object instanceof Number || object instanceof Boolean) {
			return object.valueOf();
		} else if (object instanceof Date) {
			return new Date(object.getTime());
		} else if (object instanceof RegExp) {
			return undefined; // strip regexes off
		} else {
			if (!deep) return Object.assign({}, object);

			const out = {};

			for (const key in object) {
				// object might be created by Object.create(null) se we can't use hasOwnProperty in the instance
				if (Object.prototype.hasOwnProperty.call(object, key)) {
					out[key] = clone(object[key], true);
				}
			}
			return out;
		}
	} else if (typeof object === 'function') {
		return undefined; // strip functions off
	}

	return object;
}

function deepEqual(a, b, key) {
	const debug = false;

	if (debug) {
		console.log('A', key, ':', a);
		console.log('B', key, ':', b);
	}

	if (a == null || b == null) {
		// if a is null/undefined or b is null/undefined
		if (debug) {
			console.log((a != null) === (b != null), a, b);
		}
		if (a === '' || b === '') {
			return true;
		} // we want empty string to be equal to null/undef
		if ((Array.isArray(a) && a.length === 0) || (Array.isArray(b) && b.length === 0)) {
			return true;
		} // we want [] to be equal to null/undef
		return (a != null) === (b != null);
	}

	switch (typeof a) {
		case 'undefined':
		case 'string':
		case 'number':
		case 'boolean':
		case 'regexp':
		case 'function':
			if (debug) {
				console.log(a === b, a, b);
			}
			return a === b;

		case 'object':
			if (typeof b !== 'object') {
				return false;
			}

			if (a === null) {
				return b === null;
			} else if (a instanceof Array) {
				if (!(b instanceof Array)) {
					return false;
				}
				if (a.length !== b.length) {
					return false;
				}

				if (debug) {
					console.log('--------------------');
				}
				for (let index = 0; index < a.length; index++) {
					if (!deepEqual(a[index], b[index], index)) {
						return false;
					}
				}
			} else if (a instanceof Date) {
				if (!(b instanceof Date)) {
					return false;
				}

				return a.getTime() === b.getTime();
			} else {
				if (debug) {
					console.log('--------------------');
				}
				const seen = [];

				for (key of Object.keys(a)) {
					seen.push(key);
					if (!deepEqual(a[key], b[key], key)) {
						return false;
					}
				}

				for (key of Object.keys(b)) {
					if (seen.indexOf(key) === -1) {
						if (!deepEqual(a[key], b[key], key)) {
							return false;
						}
					}
				}
			}
			break;

		default:
			return false; // this should never happen
	}

	return true;
}

/**
 * Parses selector into collection of properties.
 *
 * @param {string} selector Selector string.
 * @returns {object}
 */

function parseSelector(selector) {
	if (typeof selector !== 'string') throw new Error('Invalid selector.');
	if (PARSED_SELECTORS_CACHE[selector]) return PARSED_SELECTORS_CACHE[selector];

	const regexp = /(?:(\.|#|\[)([A-Za-z][\w-]+)(?:="([^"]*)")?\]?)/g;
	const tag = selector.match(/^[a-z]*[a-z0-9-]*/i);
	const text = selector.match(/\s+(.*)$/);
	const result = {
		tag: tag ? tag[0].toLowerCase() : null,
		text: (text ? text[1] : null) || '',
		attributes: [],
		classes: [],
		id: null,
	};

	let match;

	// eslint-disable-next-line no-cond-assign
	while ((match = regexp.exec(selector))) {
		switch (match[1]) {
			case '.':
				result.classes.push(match[2]);
				break;
			case '#':
				result.id = match[2];
				break;
			case '[':
				result.attributes.push({ name: match[2], value: match[3] || '' });
				break;
		}

		// Owerflow safety
		if (regexp.lastIndex === match.index) regexp.lastIndex++;
	}

	// Save result in cache
	PARSED_SELECTORS_CACHE[selector] = result;

	return result;
}

function create(selector) {
	const recipe = parseSelector(selector);
	const node = document.createElement(recipe.tag || 'div');

	if (recipe.text) node.textContent = recipe.text;
	if (recipe.id) node.id = recipe.id;
	for (const cls of recipe.classes) node.classList.add(cls);
	for (const attr of recipe.attributes) node.setAttribute(attr.name, attr.value);
	return node;
}

function createInput(type) {
	const composedType = type.match(/^(account|hook|device|keychain|agent|tokens|connectedsystem):(.+)$/);

	if (composedType) type = composedType[1];

	if (!_inputs_mjs__WEBPACK_IMPORTED_MODULE_0__[type]) {
		const err = new Error(`Unknown type '${type}'.`);

		err.name = 'unknown-input-type';
		throw err;
	}

	if (typeof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__[type] === 'string') type = _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__[type];

	const element = document.createElement(`imt-input-${type}`);

	if (composedType) element.setAttribute('type', composedType[2]);

	return element;
}

/**
 * TODO: Add support for :not selector
 */

function is(node, selector) {
	if (!node || node.nodeType !== 1) return false;
	const recipe = parseSelector(selector);

	if (recipe.tag && node.nodeName !== recipe.tag.toUpperCase()) return false;
	if (recipe.id && node.id !== recipe.id) return false;
	if (recipe.classes.length) {
		for (const name of recipe.classes) {
			if (!node.classList.contains(name)) return false;
		}
	}
	if (recipe.attributes.length) {
		for (const attribute of recipe.attributes) {
			if (attribute.value === '' && !node.hasAttribute(attribute.name)) return false;
			if (attribute.value !== '' && node.getAttribute(attribute.name) !== attribute.value) return false;
		}
	}
	return true;
}

function isNumber(value) {
	return /^\-?\d+(\.\d+)?$/.test(value);
}

function isIterable(obj) {
	if (obj == null) return false;
	if (typeof Symbol === 'undefined') return Array.isArray(obj);
	return typeof obj[Symbol.iterator] === 'function';
}

const DIACRITICS_MAP = {};

[
	{
		base: 'A',
		letters:
			'\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F',
	},
	{ base: 'AA', letters: '\uA732' },
	{ base: 'AE', letters: '\u00C6\u01FC\u01E2' },
	{ base: 'AO', letters: '\uA734' },
	{ base: 'AU', letters: '\uA736' },
	{ base: 'AV', letters: '\uA738\uA73A' },
	{ base: 'AY', letters: '\uA73C' },
	{ base: 'B', letters: '\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181' },
	{ base: 'C', letters: '\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E' },
	{ base: 'D', letters: '\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779' },
	{ base: 'DZ', letters: '\u01F1\u01C4' },
	{ base: 'Dz', letters: '\u01F2\u01C5' },
	{
		base: 'E',
		letters:
			'\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E',
	},
	{ base: 'F', letters: '\u0046\u24BB\uFF26\u1E1E\u0191\uA77B' },
	{
		base: 'G',
		letters: '\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E',
	},
	{ base: 'H', letters: '\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D' },
	{
		base: 'I',
		letters:
			'\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197',
	},
	{ base: 'J', letters: '\u004A\u24BF\uFF2A\u0134\u0248' },
	{ base: 'K', letters: '\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2' },
	{
		base: 'L',
		letters:
			'\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780',
	},
	{ base: 'LJ', letters: '\u01C7' },
	{ base: 'Lj', letters: '\u01C8' },
	{ base: 'M', letters: '\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C' },
	{
		base: 'N',
		letters: '\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4',
	},
	{ base: 'NJ', letters: '\u01CA' },
	{ base: 'Nj', letters: '\u01CB' },
	{
		base: 'O',
		letters:
			'\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C',
	},
	{ base: 'OI', letters: '\u01A2' },
	{ base: 'OO', letters: '\uA74E' },
	{ base: 'OU', letters: '\u0222' },
	{ base: 'OE', letters: '\u008C\u0152' },
	{ base: 'oe', letters: '\u009C\u0153' },
	{ base: 'P', letters: '\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754' },
	{ base: 'Q', letters: '\u0051\u24C6\uFF31\uA756\uA758\u024A' },
	{
		base: 'R',
		letters: '\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782',
	},
	{
		base: 'S',
		letters: '\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784',
	},
	{
		base: 'T',
		letters: '\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786',
	},
	{ base: 'TZ', letters: '\uA728' },
	{
		base: 'U',
		letters:
			'\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244',
	},
	{ base: 'V', letters: '\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245' },
	{ base: 'VY', letters: '\uA760' },
	{ base: 'W', letters: '\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72' },
	{ base: 'X', letters: '\u0058\u24CD\uFF38\u1E8A\u1E8C' },
	{
		base: 'Y',
		letters: '\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE',
	},
	{ base: 'Z', letters: '\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762' },
	{
		base: 'a',
		letters:
			'\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250',
	},
	{ base: 'aa', letters: '\uA733' },
	{ base: 'ae', letters: '\u00E6\u01FD\u01E3' },
	{ base: 'ao', letters: '\uA735' },
	{ base: 'au', letters: '\uA737' },
	{ base: 'av', letters: '\uA739\uA73B' },
	{ base: 'ay', letters: '\uA73D' },
	{ base: 'b', letters: '\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253' },
	{ base: 'c', letters: '\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184' },
	{ base: 'd', letters: '\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A' },
	{ base: 'dz', letters: '\u01F3\u01C6' },
	{
		base: 'e',
		letters:
			'\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD',
	},
	{ base: 'f', letters: '\u0066\u24D5\uFF46\u1E1F\u0192\uA77C' },
	{
		base: 'g',
		letters: '\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F',
	},
	{
		base: 'h',
		letters: '\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265',
	},
	{ base: 'hv', letters: '\u0195' },
	{
		base: 'i',
		letters:
			'\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131',
	},
	{ base: 'j', letters: '\u006A\u24D9\uFF4A\u0135\u01F0\u0249' },
	{ base: 'k', letters: '\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3' },
	{
		base: 'l',
		letters:
			'\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747',
	},
	{ base: 'lj', letters: '\u01C9' },
	{ base: 'm', letters: '\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F' },
	{
		base: 'n',
		letters: '\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5',
	},
	{ base: 'nj', letters: '\u01CC' },
	{
		base: 'o',
		letters:
			'\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275',
	},
	{ base: 'oi', letters: '\u01A3' },
	{ base: 'ou', letters: '\u0223' },
	{ base: 'oo', letters: '\uA74F' },
	{ base: 'p', letters: '\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755' },
	{ base: 'q', letters: '\u0071\u24E0\uFF51\u024B\uA757\uA759' },
	{
		base: 'r',
		letters: '\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783',
	},
	{
		base: 's',
		letters:
			'\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B',
	},
	{
		base: 't',
		letters: '\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787',
	},
	{ base: 'tz', letters: '\uA729' },
	{
		base: 'u',
		letters:
			'\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289',
	},
	{ base: 'v', letters: '\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C' },
	{ base: 'vy', letters: '\uA761' },
	{ base: 'w', letters: '\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73' },
	{ base: 'x', letters: '\u0078\u24E7\uFF58\u1E8B\u1E8D' },
	{
		base: 'y',
		letters: '\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF',
	},
	{ base: 'z', letters: '\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763' },
].forEach((item) =>
	item.letters.split('').forEach((letter) => {
		DIACRITICS_MAP[letter] = item.base;
	}),
);

function removeDiacritics(text) {
	// eslint-disable-next-line no-control-regex
	return text.replace(/[^\u0000-\u007E]/g, (letter) => DIACRITICS_MAP[letter] || letter);
}

function isAttribute(element, attribute) {
	const value = element?.getAttribute(attribute);

	return value === '' || value === 'true';
}

function debounce(func, wait = 0, thisArg = undefined) {
	let timeout = null;

	return function debouncer(...args) {
		const context = thisArg;
		const later = () => {
			timeout = null;
			func.apply(context, args);
		};

		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (!timeout) func.apply(context, args);
	};
}

const dispatchResizeDebounced = debounce((node) => {
	_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(node, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].FORM.RESIZE, { bubbles: true });
});

/**
 *
 * @param {Object} inputField Field the nested fieldset is related to.
 * @param {Object} value Nested fieldset initial value.
 * @param {Object} metadata Nested fieldset initial metadata including restore.
 * @param {boolean} [temporary=false] Set fieldset as temporary.
 * @param {ImtNested} [nested]  Nested element.
 * @param {Array<ImtNested>} [hideNesteds]  Nested element that should be hidden.
 */

async function showNestedFieldsets(
	inputField,
	value = null,
	metadata = null,
	temporary = false,
	nested,
	hideNesteds,
) {
	if (inputField?.form) {
		inputField.form.debug(
			'build',
			`showing nested fields for the input '${inputField.name}' in domain '${inputField.fieldset?.domain}'`,
		);
	}

	const temporaryFieldsets = hideNesteds || inputField._nestedFieldsets.filter((f) => f.temporary);
	const fieldsetsToHide = hideNesteds || inputField._nestedFieldsets.filter((f) => !f.hidden);

	// Remove temporary fieldsets
	for (const fieldset of temporaryFieldsets) {
		animateElementHeight(fieldset, { remove: true, hide: true });
	}

	// Hide all visible fieldsets first
	for (const fieldset of fieldsetsToHide) {
		// It is necessary to await for that in order to avoid problems with displaying the same fieldset again
		await animateElementHeight(fieldset, { hide: true });
	}

	const inputValue = inputField.value;

	// Uses JSON to distinguish text vs number
	// E.g.
	// If value is 1 then value attribute is `value = "1"`
	// If value is "1" then value attribute is `value = ""1""`
	let valueHash = new imurmurhash__WEBPACK_IMPORTED_MODULE_6__(JSON.stringify(inputValue)).result();

	if (!nested) {
		nested = inputField.querySelector('imt-nested') || inputField.appendChild(create('imt-nested'));
	}

	if (inputField.mode === 'map') {
		valueHash = 'map-mode';
	}

	let fieldset = nested.querySelector(`:scope > imt-fieldset[for='${valueHash}']`);
	let { instructions, domain, hasPlaceholder } = resolveInstructions(inputField);

	// Show create fieldset from already rendered/built common fieldset DOM
	const commonFieldset = inputField._instructions.renderedCommonNestedFieldset;

	// Select options are dynamic and contains its own nested
	if (!instructions && metadata?.restore && metadata.restore[inputField.name]?.nested) {
		instructions = metadata.restore[inputField.name].nested;
		temporary = true;
	}

	// It is possible to have only fieldset without instructions. It happens when nested is rendered in the DOM.
	if (!instructions && !commonFieldset && !fieldset) {
		inputField.form._updateHasAdvanced();
		return;
	}

	if (inputField.mode !== 'map') {
		if (!inputField._runValidators() || inputField.hasAttribute('error')) {
			inputField.form._updateHasAdvanced();
			return;
		}

		if (!shouldDisplay(inputValue, hasPlaceholder, !!inputField.form.closest('div.formula > :scope'))) {
			inputField.form._updateHasAdvanced();
			return;
		}
	}

	if (fieldset) {
		await handleBuild(fieldset.build());
		fieldset.show();
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(inputField, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].INPUT.NESTED_CHANGED, { bubbles: true });
		await animateElementHeight(fieldset, { emitEvent: true });
		inputField.form._updateHasAdvanced();
		return;
	}

	// Build fieldset from JSON spec
	if (instructions && domain) {
		if (inputField.mode === 'map') {
			instructions = nestedToMapMode(instructions);
		} else if (
			fieldsetsToHide[0]?.getAttribute('for') === 'map-mode' &&
			!deepEqual(value, fieldsetsToHide[0]?.value) &&
			inputField.mode === 'pick'
		) {
			// ensure that value from mapped nested fieldset is used when switching to pick mode for the first time
			value = fieldsetsToHide[0].value;
		}

		fieldset = document.createElement('imt-fieldset');
		fieldset.domain = domain;
		fieldset.temporary = temporary;
		fieldset.for = valueHash;
		inputField._nestedFieldsets.push(fieldset);

		const domainSwitch = domain !== inputField.fieldset.domain;

		const form = inputField.form;
		const domainData = form.domains.getDefaults(fieldset.domain) || {};

		// It is not possible to switch between domain back and forth so 'domainData.values' and 'form.meta.module.restore[fieldset.domain]'
		// should be used only in case of switch to a new domain where are expected root values and restore data

		let restore = !domainSwitch && metadata?.restore ? metadata.restore : form.meta.module.restore[fieldset.domain];

		// if the domain of this fieldset is not the same as the domain of a parent fieldset, take restore metadata from the domain
		// solves: https://integromat.atlassian.net/browse/CDM-4834
		if (inputField.fieldset.domain !== domain) {
			restore = form.domains.getDefaults(domain)?.metadata?.restore;
		}

		value =
			!domainSwitch && value
				? value
				: inputField.checkForNestedValues
				? getNestedValue(inputField.path, domainData.values)
				: domainData.values;

		fieldset.setDomainDefaults(domainData?.defaults);

		// Is dynamic if nested instructions are dynamic or of select options are dynamic and includes nested
		const parsedOptions = _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_5__.Picker.normalizeOptions(inputField._instructions.options);
		const dynamic =
			'string' === typeof instructions || ('string' === typeof parsedOptions?.store && !parsedOptions?.nested);

		if (dynamic) {
			fieldset.dynamic = true;
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(inputField, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].INPUT.HAS_DYNAMIC_NESTED);

			const restoreInstructions = restore && restore[inputField.name]?.nested;

			if (restoreInstructions) {
				instructions = restoreInstructions;
				fieldset.temporary = true;
			}
		}

		nested.appendChild(fieldset);

		// ensure that the loader will not appear if the fieldset is build quickly
		const loadingTimeout = setTimeout(() => {
			inputField.loading = true;
		}, 5);

		await handleBuild(fieldset.build(instructions, value, { restore }));

		clearTimeout(loadingTimeout);
		inputField.loading = false;

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(inputField, _events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].INPUT.NESTED_CHANGED, { bubbles: true });
		await animateElementHeight(fieldset, { emitEvent: true });
		form._updateHasAdvanced();
		return;
	}

	if (commonFieldset) {
		// TODO add support for map mode for DOM rendered fieldsets if necessary
		fieldset = commonFieldset.cloneNode(true);
		fieldset.setAttribute('for', valueHash);
		nested.appendChild(fieldset);
		await handleBuild(fieldset.build());
		fieldset.form._updateHasAdvanced();
	}

	/**
	 * Find the closest collection and use it as values for nested fieldset
	 * @param {Object} value
	 * @param {String} input
	 * @return {*|{}}
	 */
	// eslint-disable-next-line no-unused-vars
	function resolveFieldsetValues(value, input) {
		const pathArr = input.path.split('.');

		if (pathArr.length === 1) return value;

		pathArr.pop(); // Remove self as we need only parents

		let out = value;

		while (pathArr.length > 0) {
			const step = pathArr.shift();
			const match = step.match(/^(.+)\[(\d+)\]$/);
			let ref;

			if (match) {
				// Array
				ref = out[match[1]] && out[match[1]][match[2]];
			} else {
				// Anything else
				ref = out[step];
			}

			if (ref && typeof ref === 'object') {
				out = ref;
			} else {
				// Data in path missing, create empty object
				out = {};
			}
		}

		return out || {};
	}

	function resolveInstructions(inputField) {
		// Text or boolean input nested
		if (inputField._instructions?.nested) {
			return {
				instructions: clone(inputField._instructions?.nested, true),
				domain: inputField._instructions?.nested.domain || inputField.fieldset.domain,
			};
		}

		// Searching for value and spec here because we render common nested fields on demand

		const item =
			!inputField._instructions.multiple &&
			Array.isArray(inputField?.options?.store) &&
			findOption(inputField.options.store, inputValue);
		const nested =
			(item && item.nested) ||
			inputField.options?.nested ||
			inputField._instructions.options?.nested ||
			inputField._instructions.options?.placeholder?.nested;

		let instructions;

		if (nested) {
			if (Array.isArray(nested)) {
				instructions = clone(nested, true);
			} else if ('string' === typeof nested) {
				instructions = nested;
			} else {
				instructions = clone(nested, true);
			}
		}

		// Show nested for placeholder
		const hasPlaceholder = !!inputField._instructions.options?.placeholder?.nested;

		const domain = (nested && nested.domain) || inputField.options?.domain || inputField?.fieldset?.domain;

		return { instructions, domain, hasPlaceholder };
	}

	async function handleBuild(build) {
		return build
			.then(() => {
				inputField.removeAttribute('error');
			})
			.catch((ex) => {
				console.error(ex);
				inputField.setAttribute('error', '');
				inputField._errorMessages.textContent = ex.message;
				inputField.form.loadings--;
			});
	}

	function shouldDisplay(value, hasPlaceholder, compatibilityMode) {
		const dynamic = typeof instructions === 'string';

		if (compatibilityMode) {
			switch (true) {
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.boolean:
					if (inputField.reversedNested) {
						if (value !== false) return;
					} else {
						if (value !== true) return;
					}
					break;
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.select:
					if (typeof value === 'undefined') return;
					if (value === '' && !hasPlaceholder) return;
					break;
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.folder:
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.file:
					if (typeof value === 'undefined' || value === '' || value === null) return;
					break;
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.text:
					break;
				case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.array:
					if (!Array.isArray(value) || value.length === 0) return;
					break;
				default:
					if (typeof value === 'undefined') return;
			}
		} else {
			if (!dynamic) {
				switch (true) {
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.boolean:
						if (inputField.reversedNested) {
							if (value !== false) return;
						} else {
							if (value !== true) return;
						}
						break;
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.select:
						if (typeof value === 'undefined') return;
						if (value === '' && !hasPlaceholder) return;
						break;
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.folder:
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.file:
						if (typeof value === 'undefined' || value === '' || value === null) return;
						break;
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.text:
						if (typeof value === 'undefined' || value === '') return;
						break;
					case inputField instanceof _inputs_mjs__WEBPACK_IMPORTED_MODULE_0__.array:
						if (!Array.isArray(value) || value.length === 0) return;
						break;
				}
			}
		}

		return true;
	}

	function nestedToMapMode(instructions) {
		if (!Array.isArray(instructions)) return instructions;

		instructions = clone(instructions, true);

		const output = [];

		for (const item of instructions) {
			output.push(item);

			if (item.type === 'select') {
				if ('string' === typeof item.options) {
					delete item.options;
					item.type = 'any';

					if (item.multiple) {
						delete item.multiple;
						item.type = 'array';
						item.spec = { type: 'any' };
					}
				} else if ('string' === typeof item.options?.store) {
					if (Array.isArray(item.options.nested)) {
						output.push(...Array.from(nestedToMapMode(item.options.nested) || []));
					}

					delete item.options;
					item.type = 'any';

					if (item.multiple) {
						delete item.multiple;
						item.type = 'array';
						item.spec = { type: 'any' };
					}
				}
			}
		}

		return output;
	}
}

function getNestedValue(path, value) {
	if (!value) {
		return;
	}

	const pathSplit = path.split('.');
	let result = value;

	for (const item of pathSplit) {
		const arrayKeyMatch = /\[(\d*)\]$/.exec(item);

		if (arrayKeyMatch && arrayKeyMatch[1]) {
			const index = parseInt(arrayKeyMatch[1]);
			const arrayKey = item.split('[')[0];

			result = result[arrayKey][index];
		} else {
			result = result[item];
		}

		if (!result) break;
	}

	return result;
}

/**
 * Animates the element's height. The animation supports elements that were just inserted into the DOM.
 * @param {HTMLElement} element Html element
 * @param {Object} options (optional) Settings for the animation
 * @param {number} options.timing (optional) Sets the time of the animation in ms. Defaults to 300ms
 * @param {boolean} options.hide (optional | string) If the element should be hidden (display: none). Defaults to false. You can also use any valid css `display` value (this value will be set on the element before the animation starts).
 * @param {boolean} options.remove (optional) Removes the element after the animation ends. This is useful if you don't want to await the promise. Defaults to false.
 * @param {string} options.timingFunction (optional) Css timing function. Defaults to `cubic-bezier(0.4, 0.0, 0.2, 1)`
 * @returns Promise that resolves when the animations ends
 */

function animateElementHeight(element, options) {
	options = {
		timing: 300,
		hide: false,
		remove: false,
		timingFunction: 'cubic-bezier(0.4, 0.0, 0.2, 1)',
		emitEvent: false,
		...options,
	};

	// reset padding styles from previous animation - this forces padding animation
	if (!options.hide) {
		element.style.paddingBottom = '';
		element.style.paddingTop = '';
	}

	const paddingTop = parseInt(window.getComputedStyle(element).getPropertyValue('padding-top'));
	const paddingBottom = parseInt(window.getComputedStyle(element).getPropertyValue('padding-bottom'));
	const animationStyles = {};
	let contentHeight = 0;

	if (options.hide) {
		// also animate padding to avoid flickering artifacts
		animationStyles['padding-bottom'] = '0px';
		animationStyles['padding-top'] = '0px';
		animationStyles['height'] = `${contentHeight}px`;
	} else {
		for (const el of element.childNodes) {
			if (el.nodeType !== Node.TEXT_NODE) {
				// this might need optimizations, avoiding quering DOM and storing animationHeight in an object would be ideal
				for (const animChild of el.querySelectorAll('[animationHeight]')) {
					contentHeight += parseInt(animChild.getAttribute('animationHeight'));
					// remove the attribute as it's height was already used and it's contained in current content height
					animChild.removeAttribute('animationHeight');
				}
			}

			contentHeight += el.clientHeight || 0;
		}

		animationStyles['height'] = `${contentHeight + paddingTop + paddingBottom}px`;
	}

	element.style.overflow = 'hidden';
	if (options.hide) {
		element.style.setProperty('display', typeof options.hide === 'string' ? options.hide : 'inherit', 'important');
		element.style.height = `${element.clientHeight}px`;
	} else {
		element.style.height = `0px`;
		// save the height of this element without paddings - this height will be added to parent's contentHeight if
		// there is a parent element that will be also animated
		element.setAttribute('animationHeight', contentHeight);
	}

	return animateElement(element, {
		timing: options.timing,
		timingFunction: options.timingFunction,
		animationStyles,
	}).then(() => {
		if (options.remove) {
			element.remove();
		} else {
			element.style.display = '';
			element.style.height = '';
			element.style.overflow = '';

			if (element.hasAttribute('animationHeight')) {
				element.removeAttribute('animationHeight');
			}

			if (options.hide && typeof element.hide === 'function') {
				element.hide();
			}

			if (options.emitEvent) {
				dispatchResizeDebounced(element);
			}
		}
	});
}

/**
 * Animates the element css properties. The animation supports elements that were just inserted into the DOM.
 * @param {HTMLElement} element Html element
 * @param {Object} options Settings for the animation
 * @param {number} options.timing Sets the time of the animation in ms.
 * @param {string} options.timingFunction Css timing function.
 * @param {Object} options.animationStyles Object that sets the styles that should change during an animation.
 * @returns Promise that resolves when the animations ends
 */

function animateElement(element, options) {
	return new Promise((resolve) => {
		const animationProperties = Object.keys(options.animationStyles);
		const transitions = [];

		for (const prop of animationProperties) {
			transitions.push(`${prop} ${options.timing}ms ${options.timingFunction}`);
		}
		element.style.transition = transitions.join(',');

		requestAnimationFrame(() => {
			for (const prop of animationProperties) {
				element.style.setProperty(prop, options.animationStyles[prop]);
			}

			setTimeout(() => resolve(), options.timing);
		});
	});
}

/**
 * Extends inputInstructions with extended config
 * @param {Object} inputInstructions input instructions
 * @param {string} type extended input type
 * @param {Object} extendedFields config file with extendedFields configs
 * @return {void|Object} returns modified input instructions or undefined if no extended config found
 */

function getExtendInstructions(inputInstructions, type, extendedFields = {}) {
	const extendedInstructions = extendedFields[type];

	if (!extendedInstructions) return;

	const instructions = clone(inputInstructions, true);

	// TODO Supports select input only
	if (extendedInstructions.type) instructions.type = extendedInstructions.type;
	if (extendedInstructions.multiple) instructions.multiple = true;

	if (extendedInstructions.options) {
		instructions.options = {
			...extendedInstructions.options,
			..._controls_picker_mjs__WEBPACK_IMPORTED_MODULE_5__.Picker.normalizeOptions(instructions.options),
		};

		if (!inputInstructions.options?.store && !inputInstructions.options) {
			instructions.options.store = extendedInstructions.options.store;
		}
	}

	return instructions;
}

/**
 * Parses string value to a valid type according to the content type
 * @param {any} value
 * @param {string} contentType
 * @return {any|boolean|number|Object}
 */

function parseAttributeValue(value, contentType) {
	switch (contentType) {
		case 'number':
			return Number(value);
		case 'boolean':
			return value === 'true';
		case 'application/json':
			return JSON.parse(value);
		default:
			return value;
	}
}

/**
 * Creates a composed input with module icon and control buttons.
 * @param {Object} spec
 * @param {HTMLDivElement} spec.picker imt-picker HTML element
 * @param {Object} spec.config input config NOT USED
 * @param {string} spec.name package name
 * @param {string} spec.theme package theme
 * @param {Object[]} spec.buttons buttons definition
 * @param {string} spec.buttons[].label button label
 * @param {Function} spec.buttons[].action function called when button is clicked
 * @param {Function} spec.buttons[].enabled function defining when the button is enabled, input is option HTML element
 * @return {HTMLDivElement}
 */

function composedInputBuilder(spec) {
	const form = spec.picker.closest('imt-forman');
	const group = create('div.input-group');

	const foregroundColor = new _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__.Color(spec.theme.toHex ? spec.theme.toHex() : spec.theme).determineForegroundColor();

	const gray = 'var(--gray)';
	let icon;

	if (spec.image) {
		icon = createIcon(spec.image, spec.name, foregroundColor);
	} else if (/^app#/.test(spec.name)) {
		icon = createIcon(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].config.common.icons.sdkPath, spec.name.replace(/^app#/, ''), foregroundColor);
	} else {
		icon = createIcon(_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].config.common.icons.path, spec.name, foregroundColor);
	}

	if (icon) {
		icon.style.backgroundColor = spec.theme;

		group.append(icon);
	}

	if (spec.picker) {
		spec.picker.style.borderColor = gray;

		// TODO Temporary fix, picker-dropdown should be rendered synchronously
		setTimeout(() => {
			const dropdown = spec.picker.querySelector('imt-picker-dropdown');

			if (dropdown) dropdown.style.borderColor = gray;
		}, 0);

		group.append(spec.picker);
	}

	// Buttons
	if (Array.isArray(spec.buttons) && spec.buttons.length && !spec.readonly) {
		const buttons = create('div.input-group-append');
		const dropdownButton = create('button.btn.imt-btn-dropdown[type="button"]');
		const dropdownMenu = create('div.imt-btn-dropdown-menu');
		const textColor = foregroundColor.toHex();

		dropdownButton.style.borderColor = gray;
		dropdownButton.style.color = textColor;
		dropdownButton.appendChild(create('i.fas.fa-ellipsis-v'));
		spec.buttons.forEach((button) => {
			const btnElement = !button.collapsible
				? buttons.appendChild(create(`button.btn[type="button"]`))
				: dropdownMenu.appendChild(create(`button.dropdown-item[type="button"]`));

			btnElement.textContent = button.label;
			if (!button.collapsible) {
				btnElement.style.borderColor = gray;
				btnElement.style.color = gray;
			}

			if (button.action) {
				btnElement.addEventListener('mousedown', (e) => {
					return button.action(e, button.collapsible ? dropdownButton : undefined);
				});
			}

			if (button.enabled) {
				function setButtonState() {
					const selected = spec.picker.getSelectedElements();

					button.enabled(selected && selected[0])
						? btnElement.removeAttribute('disabled')
						: btnElement.setAttribute('disabled', '');
				}

				setButtonState();

				spec.picker.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PICKER.CHANGED, (event) => setButtonState());

				if (form) {
					form.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].PANEL.CLOSE, (event) => setButtonState());
				}
			}
		});

		if (dropdownMenu.childNodes.length > 0) {
			let dropdownOpened = false;

			buttons.insertBefore(dropdownButton, buttons.firstChild);
			buttons.appendChild(dropdownMenu);
			dropdownButton.addEventListener('click', toggleDropdown);
			dropdownButton.addEventListener('focusout', (e) => {
				if (dropdownOpened) {
					toggleDropdown();
				}
			});

			function toggleDropdown() {
				const box = dropdownButton.getBoundingClientRect();

				dropdownOpened = !dropdownOpened;
				dropdownMenu.style.display = dropdownOpened ? 'block' : 'none';
				dropdownMenu.style.top = `${box.y + buttons.clientHeight - 8}px`;
				dropdownMenu.style.left = `${box.x - dropdownMenu.clientWidth + 20}px`;
			}
		}

		group.append(buttons);
	}

	return group;

	function createIcon(iconPath, name, foregroundColor) {
		if (!iconPath) return;

		const icon = create('div.input-group-prepend.input-icon');
		const img = create('img');

		img.setAttribute('src', _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_3__.IML.parse(iconPath), { name }));

		if (foregroundColor?.toHex() === '000000') {
			img.style.filter = 'invert(100%)';
		}

		icon.append(img);

		return icon;
	}
}

function createAddFirstAccountBtn(theme, textContent, clickHandler, loaderTextContent) {
	const btn = create(`button.btn[type="button"].create-connection`);

	btn.textContent = textContent;
	btn.style.backgroundColor = theme;

	const foregroundColor = new _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__.Color(theme.toHex ? theme.toHex() : theme).determineForegroundColor();

	if (foregroundColor.toHex() === '000000') {
		btn.classList.add('black-text');
	}

	btn.prepend(create('div.circle-loader'));

	btn.addEventListener('click', () => {
		// Set up loading state
		btn.classList.add('in-progress');

		if (loaderTextContent) {
			btn.textContent = loaderTextContent;
			btn.prepend(create('div.circle-loader'));
		}
	});

	btn.addEventListener('click', clickHandler);

	return btn;
}

/**
 * Creates datetimepicker in a panel that's attached to target and bound to the input.
 * @param {HTMLElement} target Target element to which the panel will be attached
 * @param {HTMLElement} input Datepicker will bind it's value to this input
 * @param {Object} config Config for the datepicker
 * @param {string} config.type Type of the input
 * @param {string} config.theme Theme of the input
 * @param {Boolean} config.time Time flag from input instructions
 * @param {Function} config.onChange Callback for datepicker value change event
 * @returns Object containing datepicker instance and abort controller to remove bound events and instance of the panel
 */

function createDateTimePickerPanel(target, input, config) {
	const panel = create('imt-panel');
	let titleRes = 'panels.datetimepicker.dateTitle';

	if (config.type === 'time') {
		titleRes = 'panels.datetimepicker.timeTitle';
	}

	const theme = config.theme || input.form?.meta?.module?.package?.theme || _helpers_color_mjs__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_THEME;

	if (theme) {
		const color = (theme.toHex ? theme.toHex() : theme).toLowerCase();

		if (/^#[0-9A-F]{6}$/i.test(color)) {
			panel.header.classList.add('gradient', `theme-${color.replace('#', '')}`);
		}
	}

	panel.classList.add('imt-datetimepicker', 'remote');
	panel.header.appendChild(create(`h1 ${_helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_1__.I18n.l(titleRes)}`));
	panel.header.addCloseButton();
	panel.width = 260;
	panel.position = 'right';
	panel.relative = target;
	panel.spacing = 5;

	const { dp, abortController } = createDateTimePicker(panel.body, input, { ...config, listenInputChange: true });

	dp.on('update.datetimepicker', (event) => {
		panel.update();
	});

	return { panel, dp, abortController };
}

/**
 * Creates datetimepicker on target element and bounds it to the input input.
 * @param {HTMLElement} target Target element to which the panel will be attached
 * @param {HTMLElement} input Datepicker will bind it's value to this input
 * @param {Object} config Config for the datepicker. You can use input's instructions as config.
 * @param {string} config.type Type of the input
 * @param {Boolean} config.time Time flag from input instructions
 * @param {Boolean} config.listenInputChange If the datepicker should listen to input's change event
 * @param {Function} config.onChange Callback for datepicker value change event
 * @returns Object containing datepicker instance and abort controller to remove bound events
 */

function createDateTimePicker(target, input, config) {
	let format = 'L LT';
	const control = input._control || input;
	const dp = jQuery(target);
	const abortController = new AbortController();
	let updating = false;
	const onChange = config.onChange
		? (e) => config.onChange(e, e.date.format(format), e.oldDate ? e.oldDate.format(format) : null)
		: (event) => {
				if (updating) return;
				control.value = event.date.format(format);
				_eventManager_mjs__WEBPACK_IMPORTED_MODULE_7__["default"].dispatch(input, 'input', { bubbles: true });
		  };

	if (config.type === 'date' && config.time === false) {
		format = 'L';
	} else if (config.type === 'time') {
		format = 'LT';
	}

	dp.datetimepicker({
		inline: true,
		format: format,
		timeZone: input.form?.timezone || 'UTC',
		useCurrent: false,
		buttons: {
			showToday: true,
		},
	});

	const update = () => {
		let value = control.value;

		if (!value) return;
		const m2 = moment.tz(value, format, input.form?.timezone || 'UTC');

		if (!m2.isValid()) value = new Date();

		updating = true;
		dp.datetimepicker('date', value);
		updating = false;
	};

	update();

	if (config.listenInputChange) {
		control.addEventListener('input', update, { signal: abortController.signal });
	}

	dp.on('change.datetimepicker', onChange);
	return { dp, abortController };
}

function getStateObject(fields) {
	const state = Array.from(fields).reduce((state, field) => {
		if (is(field, '[field]')) {
			const fieldState = field.getState();

			if (Object.keys(fieldState).length === 0) return state;

			return { ...state, [field.name]: fieldState };
		}

		return state;
	}, {});

	if (Object.keys(state).length) return state;
}

/**
 * Gets connection, keychain, agent or device ID used in the nearest module that uses the same connection.
 * @param {Object} input
 * @param {String} type Connection type e.g. "account:facebook"
 * @return {Number|void}
 * @private
 */

function resolveDefaultInputValue(input, type) {
	if (typeof Inspector === 'undefined') return;

	for (const m of input.form.meta?.pills || []) {
		const module = Inspector.seek(m.id);

		if (!module) continue;

		const input = module.config?.parameters?.find((c) => c.type === type);

		if (!input) continue;

		const id = module.parameters && module.parameters[input.name];

		if (id) return id;
	}
}

// https://stackoverflow.com/a/42543908/13156397
function getScrollParent(element, axis = 'both') {
	let style = getComputedStyle(element);
	const excludeStaticParent = style.position === 'absolute';
	const overflowRegex = /(auto|scroll|hidden)/;

	if (style.position === 'fixed') return document.body;
	for (let parent = element; (parent = parent.parentElement); ) {
		style = getComputedStyle(parent);
		if (excludeStaticParent && style.position === 'static') {
			continue;
		}

		if (
			parent.clientHeight < parent.scrollHeight &&
			((axis === 'both' && overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) ||
				(axis === 'x' && overflowRegex.test(style.overflowX)) ||
				(axis === 'y' && overflowRegex.test(style.overflowY)))
		) {
			return parent;
		}
	}

	return document.body;
}

function findOption(options, value) {
	for (const option of options) {
		if (option.value === value) {
			return option;
		} else if (option.options) {
			const res = findOption(option.options, value);

			if (res) {
				return res;
			}
		}
	}

	return undefined;
}

/**
 * Gets grouped store
 * @param {Object} store
 * @param {Array.<Object>} groups Group definition
 * @param {String} groups.label Group label
 * @param {Function} groups.filter Group filter function
 * @return {Object}
 */

function getGroupedStoreItems(store, groups) {
	const result = [];

	groups.forEach((g) => {
		const options = store.filter((x) => {
			return g.filter(x);
		});

		if (options?.length) {
			result.push({
				label: g.label,
				defaultGroup: g.defaultGroup,
				options,
			});
		}
	});

	return result;
}

function setInstructionsDefault(field, instructions, defaultObject) {
	if (!field || !instructions || !defaultObject) {
		return instructions;
	}

	if (!instructions.hasOwnProperty(field) && defaultObject.hasOwnProperty(field)) {
		instructions[field] = defaultObject[field];
	}

	return instructions;
}


/***/ }),

/***/ "./lib/values.mjs":
/*!************************!*\
  !*** ./lib/values.mjs ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Values: () => (/* binding */ Values)
/* harmony export */ });
/* harmony import */ var _helpers_events_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers/events.mjs */ "./lib/helpers/events.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ "./lib/utils.mjs");



const DEFAULT_DOMAIN = 'default';

/**
 * Internal store of values across the whole form. Serves as a backbone for bi-directional data binding.
 */

class Values extends _helpers_events_mjs__WEBPACK_IMPORTED_MODULE_1__.EventEmitter {
	constructor(config) {
		super();

		this.debug = config?.debug;
		this._store = Object.create(null);
		this._storeInitial = Object.create(null);
	}

	get changed() {
		return !(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.deepEqual)(this._storeInitial, this._store);
	}

	/**
	 * Sets the value of a field.
	 *
	 * @param path Name of the field with path.
	 * @param value Value.
	 * @param domain Domain of the field
	 * @param {HTMLElement} [sender] Sender of the event.
	 * @param {boolean} initialValue Define if the provided value is initial.
	 */

	set(domain, path, value, sender = null, initialValue = false) {
		this._store[domain] = this._store[domain] || {};
		this._storeInitial[domain] = this._storeInitial[domain] || {};

		if (initialValue) {
			this._storeInitial[domain][path] = value;
		}

		if (this._store[domain][path] === value) return; // Nothing has changed

		this._store[domain][path] = value;

		if (this.debug) {
			if (sender && sender.nodeName === 'IMT-INPUT-PASSWORD') {
				// We must make sure we don't leak password here
				this.debug(
					'values',
					`value '${path}' in domain '${domain}' changed by`,
					sender,
					'to',
					'*'.repeat(String(value).length),
				);
			} else {
				this.debug('values', `value '${path}' in domain '${domain}' changed by`, sender, 'to', value);
			}
		}

		if (!initialValue) {
			this.emit('change', domain, path, value, sender);
		}
	}

	get(domain, path, initial = false) {
		const store = initial ? this._storeInitial : this._store;

		return store[domain] && store[domain][path] != null ? store[domain][path] : undefined;
	}

	delete(domain, path) {
		if (!(this._store[domain] && this._store[domain][path])) return;
		delete this._store[domain][path];
	}

	load(data, domain = DEFAULT_DOMAIN) {
		if (!data) return;

		const iterate = (entry, path = '') => {
			if (Array.isArray(entry)) {
				this._store[domain] = this._store[domain] || {};
				this._store[domain][path] = entry;

				entry.forEach((e, i) => {
					iterate(e, `${path}[${i}]`);
				});
			} else if (entry instanceof Object) {
				Object.entries(entry).forEach(([key, value]) => {
					iterate(value, `${[path]}${path ? '.' : ''}${key}`);
				});
			} else {
				this._store[domain] = this._store[domain] || {};

				this._store[domain][path] = entry;
			}
		};

		iterate(data);
	}

	commit(domain) {
		const store = Object.entries(this._store).reduce((store, [storeDomain, fields]) => {
			const changed = Object.entries(fields)
				.filter(([name, value]) => value !== this._storeInitial[storeDomain][name])
				.map(([name, value]) => {
					this._storeInitial[storeDomain][name] = value;
					return name;
				});

			if (changed.length) store[storeDomain] = changed;
			return store;
		}, {});

		return domain ? store[domain] : store;
	}

	rollback(domain) {
		Object.entries(this._store).forEach(([storeDomain, values]) => {
			if (domain && domain !== storeDomain) return;

			const initialPaths = Object.keys(this._storeInitial[storeDomain]);

			Object.keys(values).forEach((path) => {
				if (!initialPaths.includes(path)) {
					if (this.debug) {
						this.debug(
							'values',
							`value '${path}' in domain '${storeDomain}' rolled back from ${this._store[storeDomain][path]} to undefined`,
						);
					}

					this._store[storeDomain][path] = undefined;
					this.emit('change', storeDomain, path, undefined);
				}
			});
		});

		Object.entries(this._storeInitial).forEach(([storeDomain, values]) => {
			if (domain && domain !== storeDomain) return;

			Object.entries(values).forEach(([path, value]) => {
				if (this.debug) {
					this.debug(
						'values',
						`value '${path}' in domain '${storeDomain}' rolled back from ${this._store[storeDomain][path]} to ${value}`,
					);
				}

				this._store[storeDomain][path] = value;
				this.emit('change', storeDomain, path, value);
			});
		});
	}

	reset(domain) {
		if (domain) {
			this._store[domain] = {};
			this._storeInitial[domain] = {};
		} else {
			this._store = Object.create(null);
			this._storeInitial = Object.create(null);
		}
	}
}


/***/ }),

/***/ "./node_modules/chai/index.mjs":
/*!*************************************!*\
  !*** ./node_modules/chai/index.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* unused harmony exports expect, version, Assertion, AssertionError, util, config, use, should, assert, core */
/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ "./node_modules/chai/index.js");


const expect = _index_js__WEBPACK_IMPORTED_MODULE_0__.expect;
const version = _index_js__WEBPACK_IMPORTED_MODULE_0__.version;
const Assertion = _index_js__WEBPACK_IMPORTED_MODULE_0__.Assertion;
const AssertionError = _index_js__WEBPACK_IMPORTED_MODULE_0__.AssertionError;
const util = _index_js__WEBPACK_IMPORTED_MODULE_0__.util;
const config = _index_js__WEBPACK_IMPORTED_MODULE_0__.config;
const use = _index_js__WEBPACK_IMPORTED_MODULE_0__.use;
const should = _index_js__WEBPACK_IMPORTED_MODULE_0__.should;
const assert = _index_js__WEBPACK_IMPORTED_MODULE_0__.assert;
const core = _index_js__WEBPACK_IMPORTED_MODULE_0__.core;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_index_js__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./lib/configs/config.mjs":
/*!********************************!*\
  !*** ./lib/configs/config.mjs ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _config_common_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.common.mjs */ "./lib/configs/config.common.mjs");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_config_common_mjs__WEBPACK_IMPORTED_MODULE_0__["default"])({
	env: 'development',
}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!************************!*\
  !*** ./lib/forman.mjs ***!
  \************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Forman)
/* harmony export */ });
/* harmony import */ var _polyfills_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills.mjs */ "./lib/polyfills.mjs");
/* harmony import */ var _controls_switch_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controls/switch.mjs */ "./lib/controls/switch.mjs");
/* harmony import */ var _controls_coder_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls/coder.mjs */ "./lib/controls/coder.mjs");
/* harmony import */ var _controls_picker_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controls/picker.mjs */ "./lib/controls/picker.mjs");
/* harmony import */ var _controls_panel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controls/panel.mjs */ "./lib/controls/panel.mjs");
/* harmony import */ var _controls_searcher_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controls/searcher.mjs */ "./lib/controls/searcher.mjs");
/* harmony import */ var _fieldset_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./fieldset.mjs */ "./lib/fieldset.mjs");
/* harmony import */ var _alerts_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./alerts.mjs */ "./lib/alerts.mjs");
/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils.mjs */ "./lib/utils.mjs");
/* harmony import */ var _values_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./values.mjs */ "./lib/values.mjs");
/* harmony import */ var _loader_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./loader.mjs */ "./lib/loader.mjs");
/* harmony import */ var _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./deps/iml.mjs */ "./lib/deps/iml.mjs");
/* harmony import */ var _domains_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./domains.mjs */ "./lib/domains.mjs");
/* harmony import */ var _events_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./events.mjs */ "./lib/events.mjs");
/* harmony import */ var _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./inputs/input.mjs */ "./lib/inputs/input.mjs");
/* harmony import */ var _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./helpers/i18n.mjs */ "./lib/helpers/i18n.mjs");
/* harmony import */ var _forman_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./forman.scss */ "./lib/forman.scss");
/* harmony import */ var _helpers_blueprintValidator_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./helpers/blueprintValidator.mjs */ "./lib/helpers/blueprintValidator.mjs");
/* harmony import */ var _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./formanConfig.mjs */ "./lib/formanConfig.mjs");
/* harmony import */ var _eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./eventManager.mjs */ "./lib/eventManager.mjs");

// import './themed/theming-features.mjs'; disable domino
























window.formanBlueprintMappingValidate = _helpers_blueprintValidator_mjs__WEBPACK_IMPORTED_MODULE_17__.blueprintMappingValidate;
// eslint-disable-next-line no-undef
window.IMT_FORMAN_VERSION = "LATEST - BUILT:2024-05-30T12:20:17.013Z";

class Forman extends HTMLElement {
	constructor() {
		super();
		// External overrides of the default Forman functionality
		this.overrides = _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__["default"].overrides;

		this._loadings = 0;

		this._built = false;
		this._advancedParametersVisible = false;
		this._hasAdvancedParameters = false;
		this._advancedInputs = [];

		this.options = {};

		this.values = new _values_mjs__WEBPACK_IMPORTED_MODULE_9__.Values({
			debug: this.debug.bind(this),
		});
		this.domains = new _domains_mjs__WEBPACK_IMPORTED_MODULE_12__["default"](this);
		this.states = new Map();

		this.meta = {
			imlOptions: {},
			imlContext: {},
			module: {
				id: null,
				config: null,
				package: null,
				restore: {},
			},
			pills: [],
			samples: {},
			timezone: null, // Organization timezone
			teamId: imt?.team?.id,
			organizationId: imt?.organization?.id,
			brand: imt?.brand,
		};

		if (imt?.team?.id) {
			this.meta.imlContext.teamId = imt.team.id;
		}
		if (imt?.organization?.id) {
			this.meta.imlContext.organizationId = imt?.organization?.id;
		}

		this.instanceState = {};

		this.init();
	}

	async init() {
		await this.i18n.init(this.lang);

		// Prevent bubbling the event in order to prevent blur integromat panel
		this.addEventListener(_events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].PANEL.CLOSE, (event) => event.stopPropagation());

		// Watch for options being added to our DOM
		const observer = new MutationObserver((mutationList) => {
			const additions = [];

			for (const mutation of mutationList) {
				for (const node of mutation.addedNodes) {
					// const walker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT);
					// while (walker.nextNode() !== null) {
					// 	const tagName = walker.currentNode.tagName;
					// 	if (tagName) {
					// 		const lazyDefinition = lazyDefinitions.get(tagName);
					// 		if (lazyDefinition !== undefined) {
					// 			lazyDefinitions.delete(tagName);
					// 			(async () => {
					// 				customElements.define(tagName, await lazyDefinition());
					// 			})();
					// 		}
					// 	}
					// }
					// Only consume imt-value nodes
					if (node.nodeName === 'IMT-VALUE') {
						additions.push(node);
					}
				}
			}

			// Ignore rest if there're no additions we're interested about
			if (!additions.length) return;

			// Make sure we have been built
			if (!this._built) this._build();

			for (const node of additions) {
				this.values.set(node.getAttribute('name'), node.textContent, node.fieldset.domain);
				this.removeChild(node);
			}
		});

		observer.observe(this, {
			childList: true,
			subtree: true,
		});
	}

	/**
	 * Exposes static I18n translation method via Forman Static interface to the outside world.
	 * @param {*} args Arguments Proxy to the I18n Class
	 * @return {string}
	 */
	static translate(...args) {
		return _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_15__.I18n.l(...args);
	}

	/**
	 * Defines custom editor for editor input. It is possible to rewrite default editors.
	 * @param {string} name Name of the editor. The custom editor will be used if the `editor` option of the editor input matches with the defined name.
	 * @param {Class} editor Editor class.
	 */
	static registerCustomEditor(name, editor) {
		_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__["default"].overrides.editors[name] = editor;
	}

	/**
	 * Defines loader handler for specific protocol (for example rpc).
	 * @param {string} protocolName Name of the protocol (for rpc:// should be rpc).
	 * @param {Function} handler Handler function ( (url,options) => Promise<ResponseData> | ResponseData ).
	 */
	static registerLoaderProtocolHandler(protocolName, handler) {
		_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__["default"].overrides.loaderProtocolHandlers[protocolName] = handler;
	}

	registerLoaderProtocolHandler(protocolName, handler) {
		this.overrides.loaderProtocolHandlers[protocolName] = handler;
	}

	/**
	 * @deprecated
	 * @param {Functions} handler
	 */
	static registerSubmitResponseHandler(handler) {
		_formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__["default"].overrides.loader.handleResponse = handler;
	}

	static async createForm(options = {}) {
		const selector = ['imt-forman'];

		if (options.action) selector.push(`[action="${options.action}"]`);
		if (options.src) selector.push(`[src="${options.src}"]`);
		if (options.mappable) selector.push('[mappable=true]');
		if (options.tree) selector.push('[tree=true]');

		const form = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)(selector.join(''));

		await form.build(options.src || options.instructions);

		return form;
	}

	connectedCallback() {
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.CONNECT);
		// If build is postponed, it means that `this.build(...)` method should be called
		// from outside of the `Forman`. For example when `Forman` is used and built from DOM
		// and it's necessary to wait until other non-Forman elements are fully initialized.
		if (this._built || this.buildMode === 'postpone') return;
		// Allows to use overrides like Forman.registerEditor
		setTimeout(() => {
			this.build(this.getAttribute('src'));
		});
	}

	disconnectedCallback() {
		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.DISCONNECT);
	}

	/**
	 * Returns "postpone" if `build` attribute value is "postpone" (`<imt-forman "build"="postpone"`>) otherwise defaults to `"auto"`.
	 *
	 * @return {"postpone" | "auto"}
	 */
	get buildMode() {
		const mode = this.getAttribute('build');

		if (mode === 'postpone') {
			return mode;
		}

		return 'auto';
	}

	get value() {
		return this.domains.value();
	}

	get module() {
		return this.meta.module;
	}

	set module(module) {
		this.meta.module = module;
	}

	get mappable() {
		return this.hasAttribute('mappable');
	}

	set mappable(value) {
		value ? this.setAttribute('mappable', '') : this.removeAttribute('mappable');
	}

	get defaultMappable() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.isAttribute)(this, 'default-mappable');
	}

	set defaultMappable(value) {
		value ? this.setAttribute('default-mappable', '') : this.removeAttribute('default-mappable');
	}

	get tree() {
		return this.hasAttribute('tree');
	}

	set tree(value) {
		if (value) {
			this.setAttribute('tree', '');
		} else {
			this.removeAttribute('tree');
		}
	}

	/**
	 * User timezone
	 * @return {string}
	 */
	get timezone() {
		return this.getAttribute('timezone');
	}

	set timezone(value) {
		if (value) {
			this.setAttribute('timezone', value);
		} else {
			this.removeAttribute('timezone');
		}
	}

	get submitOnEnter() {
		return this.hasAttribute('submit-on-enter');
	}

	set submitOnEnter(value) {
		if (value) {
			this.setAttribute('submit-on-enter', '');
		} else {
			this.removeAttribute('submit-on-enter');
		}
	}

	get advancedParametersVisible() {
		return this._advancedParametersVisible;
	}

	set advancedParametersVisible(value) {
		if (this._advancedParametersVisible === value) return;
		this._advancedParametersVisible = value;

		function setVisibility(node) {
			node.classList[value ? 'remove' : 'add']('d-none');
		}

		function manageChildren(node) {
			if (!node) return;

			for (const input of node.childNodes) {
				if (input instanceof _inputs_input_mjs__WEBPACK_IMPORTED_MODULE_14__.Input && input.advanced) {
					setVisibility(input);
				} else if (input.nodeName === 'IMT-SEMANTIC-GROUP') {
					if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.isAttribute)(input, 'advanced')) setVisibility(input);
					manageChildren(input.querySelector(':scope > div.wrapper'));
				}
			}
		}

		for (const fs of this.querySelectorAll('imt-fieldset')) {
			manageChildren(fs);
		}

		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.dispatchResizeDebounced)(this);
	}

	get hasAdvancedParameters() {
		return this._hasAdvancedParameters;
	}

	get lang() {
		return this.getAttribute('lang');
	}

	set lang(value) {
		if (value) {
			this.setAttribute('lang', value);
		} else {
			this.removeAttribute('lang');
		}
	}

	get i18n() {
		return _helpers_i18n_mjs__WEBPACK_IMPORTED_MODULE_15__.I18n;
	}

	get config() {
		return _formanConfig_mjs__WEBPACK_IMPORTED_MODULE_18__["default"].config;
	}

	get disabled() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.isAttribute)(this, 'disabled');
	}

	set disabled(value) {
		if (value) {
			this.disable();
		} else {
			this.enable();
		}
	}

	get hideLabels() {
		return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.isAttribute)(this, 'hideLabels');
	}

	set hideLabels(value) {
		const hideLabels = this.hideLabels;

		if (hideLabels === value) return;

		if (value) {
			this.setAttribute('hideLabels', '');
		} else {
			this.removeAttribute('hideLabels');
		}
	}

	get loadings() {
		return this._loadings;
	}

	set loadings(value) {
		if (value < 0) value = 0;
		if (value === this._loadings) return;

		if (this._loadings === 0 && value > 0) {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.LOADING);
		}

		if (this._loadings > 0 && value === 0) {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.LOADED);
		}

		this._loadings = value;
		(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.dispatchResizeDebounced)(this);
	}

	get help() {
		if ('undefined' !== typeof sim) {
			const panel = this.closest('.i-panel');

			if (panel) {
				return window.sim(panel).help;
			}
		}

		return undefined;
	}

	get eventManager() {
		return _eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"];
	}

	/**
	 * Builds the form.
	 *
	 * @param {Array|string} [instructions] Array of instructions. Optional; if not provided, forman will try to find nodes directly in the dom tree.
	 * @param {Object} [value] Value of the form (of the default default domain).
	 */

	async build(instructions, value = {}) {
		if (this._built) return;

		this._originalInstructions = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.clone)(instructions, true);
		this._originalValue = value;
		this._built = true;

		this.classList.add('forman');

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.BUILD);

		const promises = [];

		this._alerts = this.querySelector('imt-alerts');
		if (!this._alerts) {
			this._alerts = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('imt-alerts');
			this.insertBefore(this._alerts, this.firstChild);
		}

		// Set value as a value of "default" fieldset
		value = {
			default: value,
		};

		function getFieldsetValue(domain) {
			return value[domain || 'default'];
		}

		for (const node of this.querySelectorAll('imt-value')) {
			let fieldValue = node.hasAttribute('value') ? node.getAttribute('value') : node.textContent;
			const fieldDomain = node.getAttribute('domain') || 'default';

			fieldValue = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.parseAttributeValue)(fieldValue, node.getAttribute('content-type'));

			value[fieldDomain] = value[fieldDomain] || {};
			value[fieldDomain][node.getAttribute('name')] = fieldValue;
			node.parentNode.removeChild(node);
		}

		for (const node of this.querySelectorAll('imt-meta')) {
			let value = node.hasAttribute('value') ? node.getAttribute('value') : node.textContent;

			if (value && node.getAttribute('content-type') === 'application/json') value = JSON.parse(value);
			this.meta[node.getAttribute('name')] = value;
			node.parentNode.removeChild(node);
		}

		const context = this.form ? this.form.meta.imlContext : {};

		if (instructions) {
			const fieldset = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('imt-fieldset');

			const defaultDomainDefault = this.domains.getDefaults('default');

			if (defaultDomainDefault) {
				fieldset.setDomainDefaults(defaultDomainDefault.defaults);
			}

			const slot = this.querySelector('slot[name="form"]');

			if (slot) {
				this.replaceChild(fieldset, slot);
			} else {
				this.appendChild(fieldset);
			}

			if (typeof instructions === 'string') {
				// Support for remote formula and it's values returned in RPC call
				const form = await _loader_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].load(instructions, { context });

				promises.push(
					fieldset.build(
						form.instructions || form,
						Array.isArray(form) ? getFieldsetValue(fieldset.domain) : form.values,
						{
							restore: (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.clone)(this.meta.module.restore.default, true),
						},
					),
				);
			} else {
				promises.push(
					fieldset.build((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.clone)(instructions, true), getFieldsetValue(fieldset.domain), {
						restore: (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.clone)(this.meta.module.restore.default, true),
					}),
				);
			}
		} else {
			const fieldsets = this.querySelectorAll(':not(imt-nested) > imt-fieldset');

			if (!fieldsets.length && !this.domains.length)
				throw new Error('The imt-fieldset element was not found in the tree.');
			for (const fieldset of fieldsets) {
				promises.push(fieldset.build(undefined, getFieldsetValue(fieldset.domain)));
			}
		}

		for (const domain of Array.from(this.domains.list).sort((a, b) => a.priority - b.priority)) {
			const fieldset = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)(`imt-fieldset[domain="${domain.name}"`);

			fieldset.setDomainDefaults(domain.defaults);

			this.append(fieldset);

			domain.metadata.restore = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.clone)(this.meta.module.restore[domain.name], true);
			domain.metadata.context = Object.assign(domain.values || {}, context);

			promises.push(fieldset.build(domain.instructions, domain.values, domain.metadata));
		}

		const submit = this.querySelector('button[type="submit"]');

		if (submit) {
			submit.addEventListener('click', (e) => {
				e.preventDefault();

				const restore = () => {
					submit.removeAttribute('disabled');
				};

				submit.setAttribute('disabled', '');
				this.save().then(restore).catch(restore);
			});
		}

		if (this.submitOnEnter) {
			this.addEventListener('keydown', (event) => {
				if (event.key === 'Enter') {
					this.save();
				}
			});
		}

		// Build all fieldsets in parallel
		await Promise.all(promises).catch((ex) => this._handleError(ex));

		this.meta.module.restore = {};

		_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.BUILT);
	}

	collapse() {
		for (const fieldset of this.querySelectorAll('imt-fieldset:not([nested])')) {
			fieldset.collapse();
		}
	}

	expand() {
		for (const fieldset of this.querySelectorAll('imt-fieldset:not([nested])')) {
			fieldset.expand();
		}
	}

	validate() {
		let valid = true;

		for (const fieldset of this.querySelectorAll('imt-fieldset:not([hidden])')) {
			if (!fieldset.validate()) valid = false;
		}
		return valid;
	}

	async save(instructions) {
		// Returns false if called event.preventDefault()
		if (!_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.SUBMIT, { detail: this.data, cancelable: true })) {
			return;
		}

		const method = instructions?.method || this.getAttribute('method') || 'POST';
		const action = instructions?.action || this.getAttribute('action');
		const headers = instructions?.headers || {};
		const redirect = this.getAttribute('redirect');

		if (!action) throw new Error('Action URL was not specified.');
		if (!this.validate()) return false;

		// Clean up old error alerts
		this._alerts.innerHTML = '';

		// Clean up old custom message
		if (this._message) {
			this._message.parentNode && this._message.parentNode.removeChild(this._message);
			this._message = undefined;
		}

		try {
			const context = this.meta.imlContext;

			const options = {
				method,
				headers,
				context,
			};

			// TODO: Add support for nested objects and arrays if necessary
			if (this.querySelector('imt-input-upload') || instructions?.multipart) {
				const formData = new FormData();

				Object.keys(this.value).forEach((key) => {
					const value = this.value[key];

					if (value instanceof FileList) {
						Array.from(value).forEach((file) => {
							formData.append(`${key}[]`, file);
						});
					} else if (Array.isArray(value)) {
						value.forEach((elm) => {
							formData.append(`${key}[]`, elm);
						});
					} else {
						formData.append(key, value);
					}
				});

				options.body = formData;
			} else {
				options.headers['content-type'] = 'application/json; charset=utf-8';
				options.body = JSON.stringify(this.value);
			}

			const res = await _loader_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].load(action, options);

			const SUCCESS_MESSAGE = 'Successfully saved.';

			// Returns false if called event.preventDefault()
			if (
				_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.SUBMITTED, {
					detail: {
						response: res,
					},
					cancelable: true,
				})
			) {
				const template = document.querySelector('template#forman-notifications-success');

				this._showNotificationFromTemplate(template, { message: SUCCESS_MESSAGE });
			}

			if (redirect) {
				window.location = _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_11__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_11__.IML.parse(redirect), {
					res,
				});
			} else if (redirect === '') {
				window.location.reload();
			}

			return res || true;
		} catch (ex) {
			this._handleError(ex);
		}
	}

	enable() {
		this.removeAttribute('disabled');

		for (const node of this.childNodes) {
			if (node instanceof _fieldset_mjs__WEBPACK_IMPORTED_MODULE_6__.Fieldset) {
				node.enable();
			}
		}
	}

	disable() {
		this.setAttribute('disabled', '');

		for (const node of this.childNodes) {
			if (node instanceof _fieldset_mjs__WEBPACK_IMPORTED_MODULE_6__.Fieldset) {
				node.disable();
			}
		}
	}

	async rebuild() {
		this.innerHTML = ``;
		const loader = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('div.loader');

		loader.style.display = 'flex';
		loader.append(
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('div.loader-circle'),
			(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('div.loader-circle'),
		);
		this.append(loader);
		this._built = false;
		this._rebuilding = true;
		await new Promise((resolve) => {
			setTimeout(async () => {
				loader.remove();
				await this.build(this._originalInstructions, this._originalValue);
				delete this._rebuilding;
				resolve();
			}, 100);
		});
	}

	_handleError(ex) {
		this.debug('build', ex);

		// Returns false if called event.preventDefault()
		if (!_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.ERROR, { detail: ex, cancelable: true })) {
			return;
		}

		let found = false;

		if (ex.location) {
			const target = this.querySelector(ex.location);

			if (target) {
				found = true;
				target.addServerValidationError(ex.message);
			}
		}

		if (!found) {
			const template = document.querySelector('template#forman-notifications-error');

			this._showNotificationFromTemplate(template, ex);

			if (template && ['', 'true'].includes(template.getAttribute('data-prevent-default'))) return;

			const alert = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('imt-alert');

			alert.message = ex.message;

			if (ex.detail) {
				alert.detail = ex.detail;
			}

			this._alerts.appendChild(alert);
		}
	}

	_showNotificationFromTemplate(template, message) {
		if (!template) return;

		function getMessageDom(obj, path) {
			const msg = path && _deps_iml_mjs__WEBPACK_IMPORTED_MODULE_11__.IML.execute(_deps_iml_mjs__WEBPACK_IMPORTED_MODULE_11__.IML.parse(path), obj);

			if (!msg) return;

			if (Array.isArray(msg)) {
				const ul = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)('ul');

				msg.forEach((m) => ul.appendChild((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.create)(`li ${m}`)));
				return ul;
			}

			return document.createTextNode(msg);
		}

		function displayMessage(slot, defaultMessagePath) {
			if (!slot) return;

			const domMessage = getMessageDom(message, slot.getAttribute('data-path') || defaultMessagePath);

			if (domMessage) {
				slot.parentNode.replaceChild(domMessage, slot);
			} else {
				slot.parentNode.removeChild(slot);
			}
		}

		const dismissMessage = (templateClone) => {
			templateClone.parentNode && templateClone.parentNode.removeChild(templateClone);
			this._message = undefined;
		};

		const clone = template.content.firstElementChild.cloneNode(true);

		displayMessage(clone.querySelector('slot[name="forman-notification-message"]'), '{{message}}');
		clone.querySelectorAll('slot[name="forman-notification"]').forEach((n) => displayMessage(n));

		template.parentNode.insertBefore(clone, template);
		this._message = clone;

		const hide = template.getAttribute('data-hide');

		let timeout;

		if (hide && /\d+/.test(hide)) {
			timeout = setTimeout(() => {
				dismissMessage(clone);
			}, hide);
		}

		const dismissBtn = clone.querySelector(`[data-dismiss="true"], [data-dismiss]`);

		if (dismissBtn) {
			dismissBtn.addEventListener('click', () => {
				dismissMessage(clone);
				if (timeout) {
					clearTimeout(timeout);
				}
			});
		}
	}

	_addAdvancedInput(input) {
		this._advancedInputs.push(input);
		this._updateHasAdvanced();

		// emit this the first time input with advanced parameter is added (so that this event behaves the same as it used to)
		if (!this._rebuilding && this._advancedInputs.length === 1) {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.HAS_ADVANCED_PARAMETERS);
		}
	}

	_removeAdvancedInput(input) {
		const index = this._advancedInputs.indexOf(input);

		this._advancedInputs.splice(index, 1);
		this._updateHasAdvanced();
	}

	_updateHasAdvanced() {
		const oldHasAdvanced = this._hasAdvancedParameters;

		this._hasAdvancedParameters = this._advancedInputs.some((input) => !input.fieldset.hidden);
		if (this._advancedInputs.length != 0 && this._hasAdvancedParameters !== oldHasAdvanced) {
			_eventManager_mjs__WEBPACK_IMPORTED_MODULE_19__["default"].dispatch(this, _events_mjs__WEBPACK_IMPORTED_MODULE_13__["default"].FORM.ADVANCED_PARAMETERS_CHANGE, { detail: this._hasAdvancedParameters });
		}
	}

	/**
	 * Logs messages to the console based on the debug configuration.
	 * @param {('events', 'values', 'submission', 'validation', 'build')} scope
	 * @param {...string} message
	 */

	debug(scope, ...message) {
		let debug = localStorage.getItem('formanDebug');

		if (debug === null) {
			debug = this.getAttribute('debug');
		}

		if (debug === null || debug === 'false') return;

		if (debug === '' || debug === 'true' || debug.split(',').includes(scope)) {
			if (message.length === 1 && message[0] instanceof Error) {
				console.error(`%c[forman:%s]`, 'color: #bbb', scope, message[0]);
			} else {
				console.log(`%c[forman:%s]`, 'color: #bbb', scope, ...message);
			}
		}
	}

	saveFieldsetState(fieldset) {
		this.states.set(fieldset.domPath, fieldset.getState());
	}

	getFieldsetState(fieldset) {
		return this.states.get(fieldset.domPath);
	}
}

(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.registerCustomElement)('imt-forman', Forman);

window.Forman = Forman;

})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=forman.umd.js.map
